(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))r(m);new MutationObserver(m=>{for(const f of m)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&r(g)}).observe(document,{childList:!0,subtree:!0});function d(m){const f={};return m.integrity&&(f.integrity=m.integrity),m.referrerPolicy&&(f.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?f.credentials="include":m.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(m){if(m.ep)return;m.ep=!0;const f=d(m);fetch(m.href,f)}})();function D0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var go={exports:{}},Rn={};var wm;function z0(){if(wm)return Rn;wm=1;var s=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function d(r,m,f){var g=null;if(f!==void 0&&(g=""+f),m.key!==void 0&&(g=""+m.key),"key"in m){f={};for(var N in m)N!=="key"&&(f[N]=m[N])}else f=m;return m=f.ref,{$$typeof:s,type:r,key:g,ref:m!==void 0?m:null,props:f}}return Rn.Fragment=o,Rn.jsx=d,Rn.jsxs=d,Rn}var Em;function B0(){return Em||(Em=1,go.exports=z0()),go.exports}var a=B0(),bo={exports:{}},Y={};var Am;function F0(){if(Am)return Y;Am=1;var s=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),g=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),B=Symbol.for("react.activity"),X=Symbol.iterator;function ue(y){return y===null||typeof y!="object"?null:(y=X&&y[X]||y["@@iterator"],typeof y=="function"?y:null)}var ge={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Se=Object.assign,_e={};function ke(y,R,z){this.props=y,this.context=R,this.refs=_e,this.updater=z||ge}ke.prototype.isReactComponent={},ke.prototype.setState=function(y,R){if(typeof y!="object"&&typeof y!="function"&&y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,y,R,"setState")},ke.prototype.forceUpdate=function(y){this.updater.enqueueForceUpdate(this,y,"forceUpdate")};function We(){}We.prototype=ke.prototype;function Fe(y,R,z){this.props=y,this.context=R,this.refs=_e,this.updater=z||ge}var rt=Fe.prototype=new We;rt.constructor=Fe,Se(rt,ke.prototype),rt.isPureReactComponent=!0;var Tt=Array.isArray;function $e(){}var P={H:null,A:null,T:null,S:null},Xe=Object.prototype.hasOwnProperty;function Ct(y,R,z){var H=z.ref;return{$$typeof:s,type:y,key:R,ref:H!==void 0?H:null,props:z}}function Pa(y,R){return Ct(y.type,R,y.props)}function wt(y){return typeof y=="object"&&y!==null&&y.$$typeof===s}function Ye(y){var R={"=":"=0",":":"=2"};return"$"+y.replace(/[=:]/g,function(z){return R[z]})}var La=/\/+/g;function Xt(y,R){return typeof y=="object"&&y!==null&&y.key!=null?Ye(""+y.key):R.toString(36)}function yt(y){switch(y.status){case"fulfilled":return y.value;case"rejected":throw y.reason;default:switch(typeof y.status=="string"?y.then($e,$e):(y.status="pending",y.then(function(R){y.status==="pending"&&(y.status="fulfilled",y.value=R)},function(R){y.status==="pending"&&(y.status="rejected",y.reason=R)})),y.status){case"fulfilled":return y.value;case"rejected":throw y.reason}}throw y}function k(y,R,z,H,q){var Q=typeof y;(Q==="undefined"||Q==="boolean")&&(y=null);var ne=!1;if(y===null)ne=!0;else switch(Q){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(y.$$typeof){case s:case o:ne=!0;break;case L:return ne=y._init,k(ne(y._payload),R,z,H,q)}}if(ne)return q=q(y),ne=H===""?"."+Xt(y,0):H,Tt(q)?(z="",ne!=null&&(z=ne.replace(La,"$&/")+"/"),k(q,R,z,"",function(Hl){return Hl})):q!=null&&(wt(q)&&(q=Pa(q,z+(q.key==null||y&&y.key===q.key?"":(""+q.key).replace(La,"$&/")+"/")+ne)),R.push(q)),1;ne=0;var Ue=H===""?".":H+":";if(Tt(y))for(var ye=0;ye<y.length;ye++)H=y[ye],Q=Ue+Xt(H,ye),ne+=k(H,R,z,Q,q);else if(ye=ue(y),typeof ye=="function")for(y=ye.call(y),ye=0;!(H=y.next()).done;)H=H.value,Q=Ue+Xt(H,ye++),ne+=k(H,R,z,Q,q);else if(Q==="object"){if(typeof y.then=="function")return k(yt(y),R,z,H,q);throw R=String(y),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return ne}function D(y,R,z){if(y==null)return y;var H=[],q=0;return k(y,H,"","",function(Q){return R.call(z,Q,q++)}),H}function $(y){if(y._status===-1){var R=y._result;R=R(),R.then(function(z){(y._status===0||y._status===-1)&&(y._status=1,y._result=z)},function(z){(y._status===0||y._status===-1)&&(y._status=2,y._result=z)}),y._status===-1&&(y._status=0,y._result=R)}if(y._status===1)return y._result.default;throw y._result}var ce=typeof reportError=="function"?reportError:function(y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof y=="object"&&y!==null&&typeof y.message=="string"?String(y.message):String(y),error:y});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",y);return}console.error(y)},me={map:D,forEach:function(y,R,z){D(y,function(){R.apply(this,arguments)},z)},count:function(y){var R=0;return D(y,function(){R++}),R},toArray:function(y){return D(y,function(R){return R})||[]},only:function(y){if(!wt(y))throw Error("React.Children.only expected to receive a single React element child.");return y}};return Y.Activity=B,Y.Children=me,Y.Component=ke,Y.Fragment=d,Y.Profiler=m,Y.PureComponent=Fe,Y.StrictMode=r,Y.Suspense=h,Y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Y.__COMPILER_RUNTIME={__proto__:null,c:function(y){return P.H.useMemoCache(y)}},Y.cache=function(y){return function(){return y.apply(null,arguments)}},Y.cacheSignal=function(){return null},Y.cloneElement=function(y,R,z){if(y==null)throw Error("The argument must be a React element, but you passed "+y+".");var H=Se({},y.props),q=y.key;if(R!=null)for(Q in R.key!==void 0&&(q=""+R.key),R)!Xe.call(R,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&R.ref===void 0||(H[Q]=R[Q]);var Q=arguments.length-2;if(Q===1)H.children=z;else if(1<Q){for(var ne=Array(Q),Ue=0;Ue<Q;Ue++)ne[Ue]=arguments[Ue+2];H.children=ne}return Ct(y.type,q,H)},Y.createContext=function(y){return y={$$typeof:g,_currentValue:y,_currentValue2:y,_threadCount:0,Provider:null,Consumer:null},y.Provider=y,y.Consumer={$$typeof:f,_context:y},y},Y.createElement=function(y,R,z){var H,q={},Q=null;if(R!=null)for(H in R.key!==void 0&&(Q=""+R.key),R)Xe.call(R,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(q[H]=R[H]);var ne=arguments.length-2;if(ne===1)q.children=z;else if(1<ne){for(var Ue=Array(ne),ye=0;ye<ne;ye++)Ue[ye]=arguments[ye+2];q.children=Ue}if(y&&y.defaultProps)for(H in ne=y.defaultProps,ne)q[H]===void 0&&(q[H]=ne[H]);return Ct(y,Q,q)},Y.createRef=function(){return{current:null}},Y.forwardRef=function(y){return{$$typeof:N,render:y}},Y.isValidElement=wt,Y.lazy=function(y){return{$$typeof:L,_payload:{_status:-1,_result:y},_init:$}},Y.memo=function(y,R){return{$$typeof:p,type:y,compare:R===void 0?null:R}},Y.startTransition=function(y){var R=P.T,z={};P.T=z;try{var H=y(),q=P.S;q!==null&&q(z,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then($e,ce)}catch(Q){ce(Q)}finally{R!==null&&z.types!==null&&(R.types=z.types),P.T=R}},Y.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Y.use=function(y){return P.H.use(y)},Y.useActionState=function(y,R,z){return P.H.useActionState(y,R,z)},Y.useCallback=function(y,R){return P.H.useCallback(y,R)},Y.useContext=function(y){return P.H.useContext(y)},Y.useDebugValue=function(){},Y.useDeferredValue=function(y,R){return P.H.useDeferredValue(y,R)},Y.useEffect=function(y,R){return P.H.useEffect(y,R)},Y.useEffectEvent=function(y){return P.H.useEffectEvent(y)},Y.useId=function(){return P.H.useId()},Y.useImperativeHandle=function(y,R,z){return P.H.useImperativeHandle(y,R,z)},Y.useInsertionEffect=function(y,R){return P.H.useInsertionEffect(y,R)},Y.useLayoutEffect=function(y,R){return P.H.useLayoutEffect(y,R)},Y.useMemo=function(y,R){return P.H.useMemo(y,R)},Y.useOptimistic=function(y,R){return P.H.useOptimistic(y,R)},Y.useReducer=function(y,R,z){return P.H.useReducer(y,R,z)},Y.useRef=function(y){return P.H.useRef(y)},Y.useState=function(y){return P.H.useState(y)},Y.useSyncExternalStore=function(y,R,z){return P.H.useSyncExternalStore(y,R,z)},Y.useTransition=function(){return P.H.useTransition()},Y.version="19.2.4",Y}var km;function So(){return km||(km=1,bo.exports=F0()),bo.exports}var w=So();const H0=D0(w);var vo={exports:{}},Ln={},yo={exports:{}},jo={};var Om;function _0(){return Om||(Om=1,(function(s){function o(k,D){var $=k.length;k.push(D);e:for(;0<$;){var ce=$-1>>>1,me=k[ce];if(0<m(me,D))k[ce]=D,k[$]=me,$=ce;else break e}}function d(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var D=k[0],$=k.pop();if($!==D){k[0]=$;e:for(var ce=0,me=k.length,y=me>>>1;ce<y;){var R=2*(ce+1)-1,z=k[R],H=R+1,q=k[H];if(0>m(z,$))H<me&&0>m(q,z)?(k[ce]=q,k[H]=$,ce=H):(k[ce]=z,k[R]=$,ce=R);else if(H<me&&0>m(q,$))k[ce]=q,k[H]=$,ce=H;else break e}}return D}function m(k,D){var $=k.sortIndex-D.sortIndex;return $!==0?$:k.id-D.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var g=Date,N=g.now();s.unstable_now=function(){return g.now()-N}}var h=[],p=[],L=1,B=null,X=3,ue=!1,ge=!1,Se=!1,_e=!1,ke=typeof setTimeout=="function"?setTimeout:null,We=typeof clearTimeout=="function"?clearTimeout:null,Fe=typeof setImmediate<"u"?setImmediate:null;function rt(k){for(var D=d(p);D!==null;){if(D.callback===null)r(p);else if(D.startTime<=k)r(p),D.sortIndex=D.expirationTime,o(h,D);else break;D=d(p)}}function Tt(k){if(Se=!1,rt(k),!ge)if(d(h)!==null)ge=!0,$e||($e=!0,Ye());else{var D=d(p);D!==null&&yt(Tt,D.startTime-k)}}var $e=!1,P=-1,Xe=5,Ct=-1;function Pa(){return _e?!0:!(s.unstable_now()-Ct<Xe)}function wt(){if(_e=!1,$e){var k=s.unstable_now();Ct=k;var D=!0;try{e:{ge=!1,Se&&(Se=!1,We(P),P=-1),ue=!0;var $=X;try{t:{for(rt(k),B=d(h);B!==null&&!(B.expirationTime>k&&Pa());){var ce=B.callback;if(typeof ce=="function"){B.callback=null,X=B.priorityLevel;var me=ce(B.expirationTime<=k);if(k=s.unstable_now(),typeof me=="function"){B.callback=me,rt(k),D=!0;break t}B===d(h)&&r(h),rt(k)}else r(h);B=d(h)}if(B!==null)D=!0;else{var y=d(p);y!==null&&yt(Tt,y.startTime-k),D=!1}}break e}finally{B=null,X=$,ue=!1}D=void 0}}finally{D?Ye():$e=!1}}}var Ye;if(typeof Fe=="function")Ye=function(){Fe(wt)};else if(typeof MessageChannel<"u"){var La=new MessageChannel,Xt=La.port2;La.port1.onmessage=wt,Ye=function(){Xt.postMessage(null)}}else Ye=function(){ke(wt,0)};function yt(k,D){P=ke(function(){k(s.unstable_now())},D)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(k){k.callback=null},s.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Xe=0<k?Math.floor(1e3/k):5},s.unstable_getCurrentPriorityLevel=function(){return X},s.unstable_next=function(k){switch(X){case 1:case 2:case 3:var D=3;break;default:D=X}var $=X;X=D;try{return k()}finally{X=$}},s.unstable_requestPaint=function(){_e=!0},s.unstable_runWithPriority=function(k,D){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var $=X;X=k;try{return D()}finally{X=$}},s.unstable_scheduleCallback=function(k,D,$){var ce=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ce+$:ce):$=ce,k){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=$+me,k={id:L++,callback:D,priorityLevel:k,startTime:$,expirationTime:me,sortIndex:-1},$>ce?(k.sortIndex=$,o(p,k),d(h)===null&&k===d(p)&&(Se?(We(P),P=-1):Se=!0,yt(Tt,$-ce))):(k.sortIndex=me,o(h,k),ge||ue||(ge=!0,$e||($e=!0,Ye()))),k},s.unstable_shouldYield=Pa,s.unstable_wrapCallback=function(k){var D=X;return function(){var $=X;X=D;try{return k.apply(this,arguments)}finally{X=$}}}})(jo)),jo}var Mm;function U0(){return Mm||(Mm=1,yo.exports=_0()),yo.exports}var No={exports:{}},He={};var Rm;function G0(){if(Rm)return He;Rm=1;var s=So();function o(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var L=2;L<arguments.length;L++)p+="&args[]="+encodeURIComponent(arguments[L])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var r={d:{f:d,r:function(){throw Error(o(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},m=Symbol.for("react.portal");function f(h,p,L){var B=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:B==null?null:""+B,children:h,containerInfo:p,implementation:L}}var g=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function N(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,He.createPortal=function(h,p){var L=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(o(299));return f(h,p,null,L)},He.flushSync=function(h){var p=g.T,L=r.p;try{if(g.T=null,r.p=2,h)return h()}finally{g.T=p,r.p=L,r.d.f()}},He.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(h,p))},He.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},He.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var L=p.as,B=N(L,p.crossOrigin),X=typeof p.integrity=="string"?p.integrity:void 0,ue=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;L==="style"?r.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:B,integrity:X,fetchPriority:ue}):L==="script"&&r.d.X(h,{crossOrigin:B,integrity:X,fetchPriority:ue,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},He.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var L=N(p.as,p.crossOrigin);r.d.M(h,{crossOrigin:L,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(h)},He.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var L=p.as,B=N(L,p.crossOrigin);r.d.L(h,L,{crossOrigin:B,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},He.preloadModule=function(h,p){if(typeof h=="string")if(p){var L=N(p.as,p.crossOrigin);r.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:L,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(h)},He.requestFormReset=function(h){r.d.r(h)},He.unstable_batchedUpdates=function(h,p){return h(p)},He.useFormState=function(h,p,L){return g.H.useFormState(h,p,L)},He.useFormStatus=function(){return g.H.useHostTransitionStatus()},He.version="19.2.4",He}var Lm;function $0(){if(Lm)return No.exports;Lm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(o){console.error(o)}}return s(),No.exports=G0(),No.exports}var Dm;function X0(){if(Dm)return Ln;Dm=1;var s=U0(),o=So(),d=$0();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function N(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(f(e)!==e)throw Error(r(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var l=e,n=t;;){var i=l.return;if(i===null)break;var c=i.alternate;if(c===null){if(n=i.return,n!==null){l=n;continue}break}if(i.child===c.child){for(c=i.child;c;){if(c===l)return h(i),e;if(c===n)return h(i),t;c=c.sibling}throw Error(r(188))}if(l.return!==n.return)l=i,n=c;else{for(var u=!1,x=i.child;x;){if(x===l){u=!0,l=i,n=c;break}if(x===n){u=!0,n=i,l=c;break}x=x.sibling}if(!u){for(x=c.child;x;){if(x===l){u=!0,l=c,n=i;break}if(x===n){u=!0,n=c,l=i;break}x=x.sibling}if(!u)throw Error(r(189))}}if(l.alternate!==n)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?e:t}function L(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=L(e),t!==null)return t;e=e.sibling}return null}var B=Object.assign,X=Symbol.for("react.element"),ue=Symbol.for("react.transitional.element"),ge=Symbol.for("react.portal"),Se=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),ke=Symbol.for("react.profiler"),We=Symbol.for("react.consumer"),Fe=Symbol.for("react.context"),rt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),$e=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),Xe=Symbol.for("react.lazy"),Ct=Symbol.for("react.activity"),Pa=Symbol.for("react.memo_cache_sentinel"),wt=Symbol.iterator;function Ye(e){return e===null||typeof e!="object"?null:(e=wt&&e[wt]||e["@@iterator"],typeof e=="function"?e:null)}var La=Symbol.for("react.client.reference");function Xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===La?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Se:return"Fragment";case ke:return"Profiler";case _e:return"StrictMode";case Tt:return"Suspense";case $e:return"SuspenseList";case Ct:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ge:return"Portal";case Fe:return e.displayName||"Context";case We:return(e._context.displayName||"Context")+".Consumer";case rt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return t=e.displayName||null,t!==null?t:Xt(e.type)||"Memo";case Xe:t=e._payload,e=e._init;try{return Xt(e(t))}catch{}}return null}var yt=Array.isArray,k=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},ce=[],me=-1;function y(e){return{current:e}}function R(e){0>me||(e.current=ce[me],ce[me]=null,me--)}function z(e,t){me++,ce[me]=e.current,e.current=t}var H=y(null),q=y(null),Q=y(null),ne=y(null);function Ue(e,t){switch(z(Q,t),z(q,e),z(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Zu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Zu(t),e=Ju(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(H),z(H,e)}function ye(){R(H),R(q),R(Q)}function Hl(e){e.memoizedState!==null&&z(ne,e);var t=H.current,l=Ju(t,e.type);t!==l&&(z(q,e),z(H,l))}function Dn(e){q.current===e&&(R(H),R(q)),ne.current===e&&(R(ne),An._currentValue=$)}var Ws,Co;function Da(e){if(Ws===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Ws=t&&t[1]||"",Co=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ws+e+Co}var Ps=!1;function ei(e,t){if(!e||Ps)return"";Ps=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var M=function(){throw Error()};if(Object.defineProperty(M.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(M,[])}catch(E){var C=E}Reflect.construct(e,[],M)}else{try{M.call()}catch(E){C=E}e.call(M.prototype)}}else{try{throw Error()}catch(E){C=E}(M=e())&&typeof M.catch=="function"&&M.catch(function(){})}}catch(E){if(E&&C&&typeof E.stack=="string")return[E.stack,C.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=n.DetermineComponentFrameRoot(),u=c[0],x=c[1];if(u&&x){var b=u.split(`
`),T=x.split(`
`);for(i=n=0;n<b.length&&!b[n].includes("DetermineComponentFrameRoot");)n++;for(;i<T.length&&!T[i].includes("DetermineComponentFrameRoot");)i++;if(n===b.length||i===T.length)for(n=b.length-1,i=T.length-1;1<=n&&0<=i&&b[n]!==T[i];)i--;for(;1<=n&&0<=i;n--,i--)if(b[n]!==T[i]){if(n!==1||i!==1)do if(n--,i--,0>i||b[n]!==T[i]){var A=`
`+b[n].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}while(1<=n&&0<=i);break}}}finally{Ps=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Da(l):""}function ux(e,t){switch(e.tag){case 26:case 27:case 5:return Da(e.type);case 16:return Da("Lazy");case 13:return e.child!==t&&t!==null?Da("Suspense Fallback"):Da("Suspense");case 19:return Da("SuspenseList");case 0:case 15:return ei(e.type,!1);case 11:return ei(e.type.render,!1);case 1:return ei(e.type,!0);case 31:return Da("Activity");default:return""}}function wo(e){try{var t="",l=null;do t+=ux(e,l),l=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var ti=Object.prototype.hasOwnProperty,ai=s.unstable_scheduleCallback,li=s.unstable_cancelCallback,mx=s.unstable_shouldYield,xx=s.unstable_requestPaint,Pe=s.unstable_now,px=s.unstable_getCurrentPriorityLevel,Eo=s.unstable_ImmediatePriority,Ao=s.unstable_UserBlockingPriority,zn=s.unstable_NormalPriority,hx=s.unstable_LowPriority,ko=s.unstable_IdlePriority,fx=s.log,gx=s.unstable_setDisableYieldValue,_l=null,et=null;function oa(e){if(typeof fx=="function"&&gx(e),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(_l,e)}catch{}}var tt=Math.clz32?Math.clz32:yx,bx=Math.log,vx=Math.LN2;function yx(e){return e>>>=0,e===0?32:31-(bx(e)/vx|0)|0}var Bn=256,Fn=262144,Hn=4194304;function za(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _n(e,t,l){var n=e.pendingLanes;if(n===0)return 0;var i=0,c=e.suspendedLanes,u=e.pingedLanes;e=e.warmLanes;var x=n&134217727;return x!==0?(n=x&~c,n!==0?i=za(n):(u&=x,u!==0?i=za(u):l||(l=x&~e,l!==0&&(i=za(l))))):(x=n&~c,x!==0?i=za(x):u!==0?i=za(u):l||(l=n&~e,l!==0&&(i=za(l)))),i===0?0:t!==0&&t!==i&&(t&c)===0&&(c=i&-i,l=t&-t,c>=l||c===32&&(l&4194048)!==0)?t:i}function Ul(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jx(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oo(){var e=Hn;return Hn<<=1,(Hn&62914560)===0&&(Hn=4194304),e}function ni(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function Gl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nx(e,t,l,n,i,c){var u=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var x=e.entanglements,b=e.expirationTimes,T=e.hiddenUpdates;for(l=u&~l;0<l;){var A=31-tt(l),M=1<<A;x[A]=0,b[A]=-1;var C=T[A];if(C!==null)for(T[A]=null,A=0;A<C.length;A++){var E=C[A];E!==null&&(E.lane&=-536870913)}l&=~M}n!==0&&Mo(e,n,0),c!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=c&~(u&~t))}function Mo(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-tt(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|l&261930}function Ro(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var n=31-tt(l),i=1<<n;i&t|e[n]&t&&(e[n]|=t),l&=~i}}function Lo(e,t){var l=t&-t;return l=(l&42)!==0?1:si(l),(l&(e.suspendedLanes|t))!==0?0:l}function si(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ii(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Do(){var e=D.p;return e!==0?e:(e=window.event,e===void 0?32:vm(e.type))}function zo(e,t){var l=D.p;try{return D.p=e,t()}finally{D.p=l}}var ra=Math.random().toString(36).slice(2),Re="__reactFiber$"+ra,qe="__reactProps$"+ra,el="__reactContainer$"+ra,ci="__reactEvents$"+ra,Sx="__reactListeners$"+ra,Tx="__reactHandles$"+ra,Bo="__reactResources$"+ra,$l="__reactMarker$"+ra;function oi(e){delete e[Re],delete e[qe],delete e[ci],delete e[Sx],delete e[Tx]}function tl(e){var t=e[Re];if(t)return t;for(var l=e.parentNode;l;){if(t=l[el]||l[Re]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=lm(e);e!==null;){if(l=e[Re])return l;e=lm(e)}return t}e=l,l=e.parentNode}return null}function al(e){if(e=e[Re]||e[el]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Xl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function ll(e){var t=e[Bo];return t||(t=e[Bo]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Oe(e){e[$l]=!0}var Fo=new Set,Ho={};function Ba(e,t){nl(e,t),nl(e+"Capture",t)}function nl(e,t){for(Ho[e]=t,e=0;e<t.length;e++)Fo.add(t[e])}var Cx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},Uo={};function wx(e){return ti.call(Uo,e)?!0:ti.call(_o,e)?!1:Cx.test(e)?Uo[e]=!0:(_o[e]=!0,!1)}function Un(e,t,l){if(wx(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Gn(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function Yt(e,t,l,n){if(n===null)e.removeAttribute(l);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+n)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Go(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ex(e,t,l){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(u){l=""+u,c.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return l},setValue:function(u){l=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ri(e){if(!e._valueTracker){var t=Go(e)?"checked":"value";e._valueTracker=Ex(e,t,""+e[t])}}function $o(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),n="";return e&&(n=Go(e)?e.checked?"true":"false":e.value),e=n,e!==l?(t.setValue(e),!0):!1}function $n(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ax=/[\n"\\]/g;function ut(e){return e.replace(Ax,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function di(e,t,l,n,i,c,u,x){e.name="",u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.type=u:e.removeAttribute("type"),t!=null?u==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):u!=="submit"&&u!=="reset"||e.removeAttribute("value"),t!=null?ui(e,u,dt(t)):l!=null?ui(e,u,dt(l)):n!=null&&e.removeAttribute("value"),i==null&&c!=null&&(e.defaultChecked=!!c),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+dt(x):e.removeAttribute("name")}function Xo(e,t,l,n,i,c,u,x){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||l!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){ri(e);return}l=l!=null?""+dt(l):"",t=t!=null?""+dt(t):l,x||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=x?e.checked:!!n,e.defaultChecked=!!n,u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.name=u),ri(e)}function ui(e,t,l){t==="number"&&$n(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function sl(e,t,l,n){if(e=e.options,t){t={};for(var i=0;i<l.length;i++)t["$"+l[i]]=!0;for(l=0;l<e.length;l++)i=t.hasOwnProperty("$"+e[l].value),e[l].selected!==i&&(e[l].selected=i),i&&n&&(e[l].defaultSelected=!0)}else{for(l=""+dt(l),t=null,i=0;i<e.length;i++){if(e[i].value===l){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Yo(e,t,l){if(t!=null&&(t=""+dt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+dt(l):""}function qo(e,t,l,n){if(t==null){if(n!=null){if(l!=null)throw Error(r(92));if(yt(n)){if(1<n.length)throw Error(r(93));n=n[0]}l=n}l==null&&(l=""),t=l}l=dt(t),e.defaultValue=l,n=e.textContent,n===l&&n!==""&&n!==null&&(e.value=n),ri(e)}function il(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var kx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(e,t,l){var n=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,l):typeof l!="number"||l===0||kx.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Io(e,t,l){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,l!=null){for(var n in l)!l.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&l[i]!==n&&Vo(e,i,n)}else for(var c in t)t.hasOwnProperty(c)&&Vo(e,c,t[c])}function mi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ox=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xn(e){return Mx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qt(){}var xi=null;function pi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cl=null,ol=null;function Qo(e){var t=al(e);if(t&&(e=t.stateNode)){var l=e[qe]||null;e:switch(e=t.stateNode,t.type){case"input":if(di(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+ut(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var n=l[t];if(n!==e&&n.form===e.form){var i=n[qe]||null;if(!i)throw Error(r(90));di(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<l.length;t++)n=l[t],n.form===e.form&&$o(n)}break e;case"textarea":Yo(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&sl(e,!!l.multiple,t,!1)}}}var hi=!1;function Zo(e,t,l){if(hi)return e(t,l);hi=!0;try{var n=e(t);return n}finally{if(hi=!1,(cl!==null||ol!==null)&&(Os(),cl&&(t=cl,e=ol,ol=cl=null,Qo(t),e)))for(t=0;t<e.length;t++)Qo(e[t])}}function Yl(e,t){var l=e.stateNode;if(l===null)return null;var n=l[qe]||null;if(n===null)return null;l=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(r(231,t,typeof l));return l}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fi=!1;if(Vt)try{var ql={};Object.defineProperty(ql,"passive",{get:function(){fi=!0}}),window.addEventListener("test",ql,ql),window.removeEventListener("test",ql,ql)}catch{fi=!1}var da=null,gi=null,Yn=null;function Jo(){if(Yn)return Yn;var e,t=gi,l=t.length,n,i="value"in da?da.value:da.textContent,c=i.length;for(e=0;e<l&&t[e]===i[e];e++);var u=l-e;for(n=1;n<=u&&t[l-n]===i[c-n];n++);return Yn=i.slice(e,1<n?1-n:void 0)}function qn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vn(){return!0}function Ko(){return!1}function Ve(e){function t(l,n,i,c,u){this._reactName=l,this._targetInst=i,this.type=n,this.nativeEvent=c,this.target=u,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(l=e[x],this[x]=l?l(c):c[x]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Vn:Ko,this.isPropagationStopped=Ko,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){},isPersistent:Vn}),t}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},In=Ve(Fa),Vl=B({},Fa,{view:0,detail:0}),Rx=Ve(Vl),bi,vi,Il,Qn=B({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ji,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Il&&(Il&&e.type==="mousemove"?(bi=e.screenX-Il.screenX,vi=e.screenY-Il.screenY):vi=bi=0,Il=e),bi)},movementY:function(e){return"movementY"in e?e.movementY:vi}}),Wo=Ve(Qn),Lx=B({},Qn,{dataTransfer:0}),Dx=Ve(Lx),zx=B({},Vl,{relatedTarget:0}),yi=Ve(zx),Bx=B({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),Fx=Ve(Bx),Hx=B({},Fa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_x=Ve(Hx),Ux=B({},Fa,{data:0}),Po=Ve(Ux),Gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$x={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xx[e])?!!t[e]:!1}function ji(){return Yx}var qx=B({},Vl,{key:function(e){if(e.key){var t=Gx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$x[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ji,charCode:function(e){return e.type==="keypress"?qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vx=Ve(qx),Ix=B({},Qn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),er=Ve(Ix),Qx=B({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ji}),Zx=Ve(Qx),Jx=B({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kx=Ve(Jx),Wx=B({},Qn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Px=Ve(Wx),ep=B({},Fa,{newState:0,oldState:0}),tp=Ve(ep),ap=[9,13,27,32],Ni=Vt&&"CompositionEvent"in window,Ql=null;Vt&&"documentMode"in document&&(Ql=document.documentMode);var lp=Vt&&"TextEvent"in window&&!Ql,tr=Vt&&(!Ni||Ql&&8<Ql&&11>=Ql),ar=" ",lr=!1;function nr(e,t){switch(e){case"keyup":return ap.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rl=!1;function np(e,t){switch(e){case"compositionend":return sr(t);case"keypress":return t.which!==32?null:(lr=!0,ar);case"textInput":return e=t.data,e===ar&&lr?null:e;default:return null}}function sp(e,t){if(rl)return e==="compositionend"||!Ni&&nr(e,t)?(e=Jo(),Yn=gi=da=null,rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tr&&t.locale!=="ko"?null:t.data;default:return null}}var ip={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ip[e.type]:t==="textarea"}function cr(e,t,l,n){cl?ol?ol.push(n):ol=[n]:cl=n,t=Fs(t,"onChange"),0<t.length&&(l=new In("onChange","change",null,l,n),e.push({event:l,listeners:t}))}var Zl=null,Jl=null;function cp(e){Xu(e,0)}function Zn(e){var t=Xl(e);if($o(t))return e}function or(e,t){if(e==="change")return t}var rr=!1;if(Vt){var Si;if(Vt){var Ti="oninput"in document;if(!Ti){var dr=document.createElement("div");dr.setAttribute("oninput","return;"),Ti=typeof dr.oninput=="function"}Si=Ti}else Si=!1;rr=Si&&(!document.documentMode||9<document.documentMode)}function ur(){Zl&&(Zl.detachEvent("onpropertychange",mr),Jl=Zl=null)}function mr(e){if(e.propertyName==="value"&&Zn(Jl)){var t=[];cr(t,Jl,e,pi(e)),Zo(cp,t)}}function op(e,t,l){e==="focusin"?(ur(),Zl=t,Jl=l,Zl.attachEvent("onpropertychange",mr)):e==="focusout"&&ur()}function rp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zn(Jl)}function dp(e,t){if(e==="click")return Zn(t)}function up(e,t){if(e==="input"||e==="change")return Zn(t)}function mp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var at=typeof Object.is=="function"?Object.is:mp;function Kl(e,t){if(at(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),n=Object.keys(t);if(l.length!==n.length)return!1;for(n=0;n<l.length;n++){var i=l[n];if(!ti.call(t,i)||!at(e[i],t[i]))return!1}return!0}function xr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var l=xr(e);e=0;for(var n;l;){if(l.nodeType===3){if(n=e+l.textContent.length,e<=t&&n>=t)return{node:l,offset:t-e};e=n}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=xr(l)}}function hr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hr(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fr(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=$n(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=$n(e.document)}return t}function Ci(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var xp=Vt&&"documentMode"in document&&11>=document.documentMode,dl=null,wi=null,Wl=null,Ei=!1;function gr(e,t,l){var n=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ei||dl==null||dl!==$n(n)||(n=dl,"selectionStart"in n&&Ci(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wl&&Kl(Wl,n)||(Wl=n,n=Fs(wi,"onSelect"),0<n.length&&(t=new In("onSelect","select",null,t,l),e.push({event:t,listeners:n}),t.target=dl)))}function Ha(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var ul={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},Ai={},br={};Vt&&(br=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function _a(e){if(Ai[e])return Ai[e];if(!ul[e])return e;var t=ul[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in br)return Ai[e]=t[l];return e}var vr=_a("animationend"),yr=_a("animationiteration"),jr=_a("animationstart"),pp=_a("transitionrun"),hp=_a("transitionstart"),fp=_a("transitioncancel"),Nr=_a("transitionend"),Sr=new Map,ki="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ki.push("scrollEnd");function jt(e,t){Sr.set(e,t),Ba(t,[e])}var Jn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},mt=[],ml=0,Oi=0;function Kn(){for(var e=ml,t=Oi=ml=0;t<e;){var l=mt[t];mt[t++]=null;var n=mt[t];mt[t++]=null;var i=mt[t];mt[t++]=null;var c=mt[t];if(mt[t++]=null,n!==null&&i!==null){var u=n.pending;u===null?i.next=i:(i.next=u.next,u.next=i),n.pending=i}c!==0&&Tr(l,i,c)}}function Wn(e,t,l,n){mt[ml++]=e,mt[ml++]=t,mt[ml++]=l,mt[ml++]=n,Oi|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Mi(e,t,l,n){return Wn(e,t,l,n),Pn(e)}function Ua(e,t){return Wn(e,null,null,t),Pn(e)}function Tr(e,t,l){e.lanes|=l;var n=e.alternate;n!==null&&(n.lanes|=l);for(var i=!1,c=e.return;c!==null;)c.childLanes|=l,n=c.alternate,n!==null&&(n.childLanes|=l),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(i=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,i&&t!==null&&(i=31-tt(l),e=c.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=l|536870912),c):null}function Pn(e){if(50<jn)throw jn=0,Uc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var xl={};function gp(e,t,l,n){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function lt(e,t,l,n){return new gp(e,t,l,n)}function Ri(e){return e=e.prototype,!(!e||!e.isReactComponent)}function It(e,t){var l=e.alternate;return l===null?(l=lt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Cr(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function es(e,t,l,n,i,c){var u=0;if(n=e,typeof e=="function")Ri(e)&&(u=1);else if(typeof e=="string")u=N0(e,l,H.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ct:return e=lt(31,l,t,i),e.elementType=Ct,e.lanes=c,e;case Se:return Ga(l.children,i,c,t);case _e:u=8,i|=24;break;case ke:return e=lt(12,l,t,i|2),e.elementType=ke,e.lanes=c,e;case Tt:return e=lt(13,l,t,i),e.elementType=Tt,e.lanes=c,e;case $e:return e=lt(19,l,t,i),e.elementType=$e,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fe:u=10;break e;case We:u=9;break e;case rt:u=11;break e;case P:u=14;break e;case Xe:u=16,n=null;break e}u=29,l=Error(r(130,e===null?"null":typeof e,"")),n=null}return t=lt(u,l,t,i),t.elementType=e,t.type=n,t.lanes=c,t}function Ga(e,t,l,n){return e=lt(7,e,n,t),e.lanes=l,e}function Li(e,t,l){return e=lt(6,e,null,t),e.lanes=l,e}function wr(e){var t=lt(18,null,null,0);return t.stateNode=e,t}function Di(e,t,l){return t=lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Er=new WeakMap;function xt(e,t){if(typeof e=="object"&&e!==null){var l=Er.get(e);return l!==void 0?l:(t={value:e,source:t,stack:wo(t)},Er.set(e,t),t)}return{value:e,source:t,stack:wo(t)}}var pl=[],hl=0,ts=null,Pl=0,pt=[],ht=0,ua=null,Et=1,At="";function Qt(e,t){pl[hl++]=Pl,pl[hl++]=ts,ts=e,Pl=t}function Ar(e,t,l){pt[ht++]=Et,pt[ht++]=At,pt[ht++]=ua,ua=e;var n=Et;e=At;var i=32-tt(n)-1;n&=~(1<<i),l+=1;var c=32-tt(t)+i;if(30<c){var u=i-i%5;c=(n&(1<<u)-1).toString(32),n>>=u,i-=u,Et=1<<32-tt(t)+i|l<<i|n,At=c+e}else Et=1<<c|l<<i|n,At=e}function zi(e){e.return!==null&&(Qt(e,1),Ar(e,1,0))}function Bi(e){for(;e===ts;)ts=pl[--hl],pl[hl]=null,Pl=pl[--hl],pl[hl]=null;for(;e===ua;)ua=pt[--ht],pt[ht]=null,At=pt[--ht],pt[ht]=null,Et=pt[--ht],pt[ht]=null}function kr(e,t){pt[ht++]=Et,pt[ht++]=At,pt[ht++]=ua,Et=t.id,At=t.overflow,ua=e}var Le=null,pe=null,ee=!1,ma=null,ft=!1,Fi=Error(r(519));function xa(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw en(xt(t,e)),Fi}function Or(e){var t=e.stateNode,l=e.type,n=e.memoizedProps;switch(t[Re]=e,t[qe]=n,l){case"dialog":J("cancel",t),J("close",t);break;case"iframe":case"object":case"embed":J("load",t);break;case"video":case"audio":for(l=0;l<Sn.length;l++)J(Sn[l],t);break;case"source":J("error",t);break;case"img":case"image":case"link":J("error",t),J("load",t);break;case"details":J("toggle",t);break;case"input":J("invalid",t),Xo(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":J("invalid",t);break;case"textarea":J("invalid",t),qo(t,n.value,n.defaultValue,n.children)}l=n.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||n.suppressHydrationWarning===!0||Iu(t.textContent,l)?(n.popover!=null&&(J("beforetoggle",t),J("toggle",t)),n.onScroll!=null&&J("scroll",t),n.onScrollEnd!=null&&J("scrollend",t),n.onClick!=null&&(t.onclick=qt),t=!0):t=!1,t||xa(e,!0)}function Mr(e){for(Le=e.return;Le;)switch(Le.tag){case 5:case 31:case 13:ft=!1;return;case 27:case 3:ft=!0;return;default:Le=Le.return}}function fl(e){if(e!==Le)return!1;if(!ee)return Mr(e),ee=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||to(e.type,e.memoizedProps)),l=!l),l&&pe&&xa(e),Mr(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));pe=am(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));pe=am(e)}else t===27?(t=pe,Ea(e.type)?(e=io,io=null,pe=e):pe=t):pe=Le?bt(e.stateNode.nextSibling):null;return!0}function $a(){pe=Le=null,ee=!1}function Hi(){var e=ma;return e!==null&&(Je===null?Je=e:Je.push.apply(Je,e),ma=null),e}function en(e){ma===null?ma=[e]:ma.push(e)}var _i=y(null),Xa=null,Zt=null;function pa(e,t,l){z(_i,t._currentValue),t._currentValue=l}function Jt(e){e._currentValue=_i.current,R(_i)}function Ui(e,t,l){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===l)break;e=e.return}}function Gi(e,t,l,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){var u=i.child;c=c.firstContext;e:for(;c!==null;){var x=c;c=i;for(var b=0;b<t.length;b++)if(x.context===t[b]){c.lanes|=l,x=c.alternate,x!==null&&(x.lanes|=l),Ui(c.return,l,e),n||(u=null);break e}c=x.next}}else if(i.tag===18){if(u=i.return,u===null)throw Error(r(341));u.lanes|=l,c=u.alternate,c!==null&&(c.lanes|=l),Ui(u,l,e),u=null}else u=i.child;if(u!==null)u.return=i;else for(u=i;u!==null;){if(u===e){u=null;break}if(i=u.sibling,i!==null){i.return=u.return,u=i;break}u=u.return}i=u}}function gl(e,t,l,n){e=null;for(var i=t,c=!1;i!==null;){if(!c){if((i.flags&524288)!==0)c=!0;else if((i.flags&262144)!==0)break}if(i.tag===10){var u=i.alternate;if(u===null)throw Error(r(387));if(u=u.memoizedProps,u!==null){var x=i.type;at(i.pendingProps.value,u.value)||(e!==null?e.push(x):e=[x])}}else if(i===ne.current){if(u=i.alternate,u===null)throw Error(r(387));u.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(An):e=[An])}i=i.return}e!==null&&Gi(t,e,l,n),t.flags|=262144}function as(e){for(e=e.firstContext;e!==null;){if(!at(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ya(e){Xa=e,Zt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function De(e){return Rr(Xa,e)}function ls(e,t){return Xa===null&&Ya(e),Rr(e,t)}function Rr(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},Zt===null){if(e===null)throw Error(r(308));Zt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Zt=Zt.next=t;return l}var bp=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},vp=s.unstable_scheduleCallback,yp=s.unstable_NormalPriority,Te={$$typeof:Fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $i(){return{controller:new bp,data:new Map,refCount:0}}function tn(e){e.refCount--,e.refCount===0&&vp(yp,function(){e.controller.abort()})}var an=null,Xi=0,bl=0,vl=null;function jp(e,t){if(an===null){var l=an=[];Xi=0,bl=Vc(),vl={status:"pending",value:void 0,then:function(n){l.push(n)}}}return Xi++,t.then(Lr,Lr),t}function Lr(){if(--Xi===0&&an!==null){vl!==null&&(vl.status="fulfilled");var e=an;an=null,bl=0,vl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Np(e,t){var l=[],n={status:"pending",value:null,reason:null,then:function(i){l.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<l.length;i++)(0,l[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<l.length;i++)(0,l[i])(void 0)}),n}var Dr=k.S;k.S=function(e,t){gu=Pe(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&jp(e,t),Dr!==null&&Dr(e,t)};var qa=y(null);function Yi(){var e=qa.current;return e!==null?e:xe.pooledCache}function ns(e,t){t===null?z(qa,qa.current):z(qa,t.pool)}function zr(){var e=Yi();return e===null?null:{parent:Te._currentValue,pool:e}}var yl=Error(r(460)),qi=Error(r(474)),ss=Error(r(542)),is={then:function(){}};function Br(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Fr(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(qt,qt),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_r(e),e;default:if(typeof t.status=="string")t.then(qt,qt);else{if(e=xe,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_r(e),e}throw Ia=t,yl}}function Va(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ia=l,yl):l}}var Ia=null;function Hr(){if(Ia===null)throw Error(r(459));var e=Ia;return Ia=null,e}function _r(e){if(e===yl||e===ss)throw Error(r(483))}var jl=null,ln=0;function cs(e){var t=ln;return ln+=1,jl===null&&(jl=[]),Fr(jl,e,t)}function nn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function os(e,t){throw t.$$typeof===X?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ur(e){function t(j,v){if(e){var S=j.deletions;S===null?(j.deletions=[v],j.flags|=16):S.push(v)}}function l(j,v){if(!e)return null;for(;v!==null;)t(j,v),v=v.sibling;return null}function n(j){for(var v=new Map;j!==null;)j.key!==null?v.set(j.key,j):v.set(j.index,j),j=j.sibling;return v}function i(j,v){return j=It(j,v),j.index=0,j.sibling=null,j}function c(j,v,S){return j.index=S,e?(S=j.alternate,S!==null?(S=S.index,S<v?(j.flags|=67108866,v):S):(j.flags|=67108866,v)):(j.flags|=1048576,v)}function u(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function x(j,v,S,O){return v===null||v.tag!==6?(v=Li(S,j.mode,O),v.return=j,v):(v=i(v,S),v.return=j,v)}function b(j,v,S,O){var U=S.type;return U===Se?A(j,v,S.props.children,O,S.key):v!==null&&(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Xe&&Va(U)===v.type)?(v=i(v,S.props),nn(v,S),v.return=j,v):(v=es(S.type,S.key,S.props,null,j.mode,O),nn(v,S),v.return=j,v)}function T(j,v,S,O){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Di(S,j.mode,O),v.return=j,v):(v=i(v,S.children||[]),v.return=j,v)}function A(j,v,S,O,U){return v===null||v.tag!==7?(v=Ga(S,j.mode,O,U),v.return=j,v):(v=i(v,S),v.return=j,v)}function M(j,v,S){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Li(""+v,j.mode,S),v.return=j,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ue:return S=es(v.type,v.key,v.props,null,j.mode,S),nn(S,v),S.return=j,S;case ge:return v=Di(v,j.mode,S),v.return=j,v;case Xe:return v=Va(v),M(j,v,S)}if(yt(v)||Ye(v))return v=Ga(v,j.mode,S,null),v.return=j,v;if(typeof v.then=="function")return M(j,cs(v),S);if(v.$$typeof===Fe)return M(j,ls(j,v),S);os(j,v)}return null}function C(j,v,S,O){var U=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return U!==null?null:x(j,v,""+S,O);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ue:return S.key===U?b(j,v,S,O):null;case ge:return S.key===U?T(j,v,S,O):null;case Xe:return S=Va(S),C(j,v,S,O)}if(yt(S)||Ye(S))return U!==null?null:A(j,v,S,O,null);if(typeof S.then=="function")return C(j,v,cs(S),O);if(S.$$typeof===Fe)return C(j,v,ls(j,S),O);os(j,S)}return null}function E(j,v,S,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return j=j.get(S)||null,x(v,j,""+O,U);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ue:return j=j.get(O.key===null?S:O.key)||null,b(v,j,O,U);case ge:return j=j.get(O.key===null?S:O.key)||null,T(v,j,O,U);case Xe:return O=Va(O),E(j,v,S,O,U)}if(yt(O)||Ye(O))return j=j.get(S)||null,A(v,j,O,U,null);if(typeof O.then=="function")return E(j,v,S,cs(O),U);if(O.$$typeof===Fe)return E(j,v,S,ls(v,O),U);os(v,O)}return null}function F(j,v,S,O){for(var U=null,te=null,_=v,I=v=0,W=null;_!==null&&I<S.length;I++){_.index>I?(W=_,_=null):W=_.sibling;var ae=C(j,_,S[I],O);if(ae===null){_===null&&(_=W);break}e&&_&&ae.alternate===null&&t(j,_),v=c(ae,v,I),te===null?U=ae:te.sibling=ae,te=ae,_=W}if(I===S.length)return l(j,_),ee&&Qt(j,I),U;if(_===null){for(;I<S.length;I++)_=M(j,S[I],O),_!==null&&(v=c(_,v,I),te===null?U=_:te.sibling=_,te=_);return ee&&Qt(j,I),U}for(_=n(_);I<S.length;I++)W=E(_,j,I,S[I],O),W!==null&&(e&&W.alternate!==null&&_.delete(W.key===null?I:W.key),v=c(W,v,I),te===null?U=W:te.sibling=W,te=W);return e&&_.forEach(function(Ra){return t(j,Ra)}),ee&&Qt(j,I),U}function G(j,v,S,O){if(S==null)throw Error(r(151));for(var U=null,te=null,_=v,I=v=0,W=null,ae=S.next();_!==null&&!ae.done;I++,ae=S.next()){_.index>I?(W=_,_=null):W=_.sibling;var Ra=C(j,_,ae.value,O);if(Ra===null){_===null&&(_=W);break}e&&_&&Ra.alternate===null&&t(j,_),v=c(Ra,v,I),te===null?U=Ra:te.sibling=Ra,te=Ra,_=W}if(ae.done)return l(j,_),ee&&Qt(j,I),U;if(_===null){for(;!ae.done;I++,ae=S.next())ae=M(j,ae.value,O),ae!==null&&(v=c(ae,v,I),te===null?U=ae:te.sibling=ae,te=ae);return ee&&Qt(j,I),U}for(_=n(_);!ae.done;I++,ae=S.next())ae=E(_,j,I,ae.value,O),ae!==null&&(e&&ae.alternate!==null&&_.delete(ae.key===null?I:ae.key),v=c(ae,v,I),te===null?U=ae:te.sibling=ae,te=ae);return e&&_.forEach(function(L0){return t(j,L0)}),ee&&Qt(j,I),U}function de(j,v,S,O){if(typeof S=="object"&&S!==null&&S.type===Se&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ue:e:{for(var U=S.key;v!==null;){if(v.key===U){if(U=S.type,U===Se){if(v.tag===7){l(j,v.sibling),O=i(v,S.props.children),O.return=j,j=O;break e}}else if(v.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Xe&&Va(U)===v.type){l(j,v.sibling),O=i(v,S.props),nn(O,S),O.return=j,j=O;break e}l(j,v);break}else t(j,v);v=v.sibling}S.type===Se?(O=Ga(S.props.children,j.mode,O,S.key),O.return=j,j=O):(O=es(S.type,S.key,S.props,null,j.mode,O),nn(O,S),O.return=j,j=O)}return u(j);case ge:e:{for(U=S.key;v!==null;){if(v.key===U)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){l(j,v.sibling),O=i(v,S.children||[]),O.return=j,j=O;break e}else{l(j,v);break}else t(j,v);v=v.sibling}O=Di(S,j.mode,O),O.return=j,j=O}return u(j);case Xe:return S=Va(S),de(j,v,S,O)}if(yt(S))return F(j,v,S,O);if(Ye(S)){if(U=Ye(S),typeof U!="function")throw Error(r(150));return S=U.call(S),G(j,v,S,O)}if(typeof S.then=="function")return de(j,v,cs(S),O);if(S.$$typeof===Fe)return de(j,v,ls(j,S),O);os(j,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,v!==null&&v.tag===6?(l(j,v.sibling),O=i(v,S),O.return=j,j=O):(l(j,v),O=Li(S,j.mode,O),O.return=j,j=O),u(j)):l(j,v)}return function(j,v,S,O){try{ln=0;var U=de(j,v,S,O);return jl=null,U}catch(_){if(_===yl||_===ss)throw _;var te=lt(29,_,null,j.mode);return te.lanes=O,te.return=j,te}}}var Qa=Ur(!0),Gr=Ur(!1),ha=!1;function Vi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ii(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ga(e,t,l){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(le&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Pn(e),Tr(e,null,l),t}return Wn(e,n,t,l),Pn(e)}function sn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,l|=n,t.lanes=l,Ro(e,l)}}function Qi(e,t){var l=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,l===n)){var i=null,c=null;if(l=l.firstBaseUpdate,l!==null){do{var u={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};c===null?i=c=u:c=c.next=u,l=l.next}while(l!==null);c===null?i=c=t:c=c.next=t}else i=c=t;l={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:c,shared:n.shared,callbacks:n.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Zi=!1;function cn(){if(Zi){var e=vl;if(e!==null)throw e}}function on(e,t,l,n){Zi=!1;var i=e.updateQueue;ha=!1;var c=i.firstBaseUpdate,u=i.lastBaseUpdate,x=i.shared.pending;if(x!==null){i.shared.pending=null;var b=x,T=b.next;b.next=null,u===null?c=T:u.next=T,u=b;var A=e.alternate;A!==null&&(A=A.updateQueue,x=A.lastBaseUpdate,x!==u&&(x===null?A.firstBaseUpdate=T:x.next=T,A.lastBaseUpdate=b))}if(c!==null){var M=i.baseState;u=0,A=T=b=null,x=c;do{var C=x.lane&-536870913,E=C!==x.lane;if(E?(K&C)===C:(n&C)===C){C!==0&&C===bl&&(Zi=!0),A!==null&&(A=A.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var F=e,G=x;C=t;var de=l;switch(G.tag){case 1:if(F=G.payload,typeof F=="function"){M=F.call(de,M,C);break e}M=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=G.payload,C=typeof F=="function"?F.call(de,M,C):F,C==null)break e;M=B({},M,C);break e;case 2:ha=!0}}C=x.callback,C!==null&&(e.flags|=64,E&&(e.flags|=8192),E=i.callbacks,E===null?i.callbacks=[C]:E.push(C))}else E={lane:C,tag:x.tag,payload:x.payload,callback:x.callback,next:null},A===null?(T=A=E,b=M):A=A.next=E,u|=C;if(x=x.next,x===null){if(x=i.shared.pending,x===null)break;E=x,x=E.next,E.next=null,i.lastBaseUpdate=E,i.shared.pending=null}}while(!0);A===null&&(b=M),i.baseState=b,i.firstBaseUpdate=T,i.lastBaseUpdate=A,c===null&&(i.shared.lanes=0),Na|=u,e.lanes=u,e.memoizedState=M}}function $r(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function Xr(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)$r(l[e],t)}var Nl=y(null),rs=y(0);function Yr(e,t){e=sa,z(rs,e),z(Nl,t),sa=e|t.baseLanes}function Ji(){z(rs,sa),z(Nl,Nl.current)}function Ki(){sa=rs.current,R(Nl),R(rs)}var nt=y(null),gt=null;function ba(e){var t=e.alternate;z(je,je.current&1),z(nt,e),gt===null&&(t===null||Nl.current!==null||t.memoizedState!==null)&&(gt=e)}function Wi(e){z(je,je.current),z(nt,e),gt===null&&(gt=e)}function qr(e){e.tag===22?(z(je,je.current),z(nt,e),gt===null&&(gt=e)):va()}function va(){z(je,je.current),z(nt,nt.current)}function st(e){R(nt),gt===e&&(gt=null),R(je)}var je=y(0);function ds(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||no(l)||so(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kt=0,V=null,oe=null,Ce=null,us=!1,Sl=!1,Za=!1,ms=0,rn=0,Tl=null,Sp=0;function be(){throw Error(r(321))}function Pi(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!at(e[l],t[l]))return!1;return!0}function ec(e,t,l,n,i,c){return Kt=c,V=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,k.H=e===null||e.memoizedState===null?Ad:hc,Za=!1,c=l(n,i),Za=!1,Sl&&(c=Ir(t,l,n,i)),Vr(e),c}function Vr(e){k.H=mn;var t=oe!==null&&oe.next!==null;if(Kt=0,Ce=oe=V=null,us=!1,rn=0,Tl=null,t)throw Error(r(300));e===null||we||(e=e.dependencies,e!==null&&as(e)&&(we=!0))}function Ir(e,t,l,n){V=e;var i=0;do{if(Sl&&(Tl=null),rn=0,Sl=!1,25<=i)throw Error(r(301));if(i+=1,Ce=oe=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}k.H=kd,c=t(l,n)}while(Sl);return c}function Tp(){var e=k.H,t=e.useState()[0];return t=typeof t.then=="function"?dn(t):t,e=e.useState()[0],(oe!==null?oe.memoizedState:null)!==e&&(V.flags|=1024),t}function tc(){var e=ms!==0;return ms=0,e}function ac(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function lc(e){if(us){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}us=!1}Kt=0,Ce=oe=V=null,Sl=!1,rn=ms=0,Tl=null}function Ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?V.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function Ne(){if(oe===null){var e=V.alternate;e=e!==null?e.memoizedState:null}else e=oe.next;var t=Ce===null?V.memoizedState:Ce.next;if(t!==null)Ce=t,oe=e;else{if(e===null)throw V.alternate===null?Error(r(467)):Error(r(310));oe=e,e={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},Ce===null?V.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function xs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dn(e){var t=rn;return rn+=1,Tl===null&&(Tl=[]),e=Fr(Tl,e,t),t=V,(Ce===null?t.memoizedState:Ce.next)===null&&(t=t.alternate,k.H=t===null||t.memoizedState===null?Ad:hc),e}function ps(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return dn(e);if(e.$$typeof===Fe)return De(e)}throw Error(r(438,String(e)))}function nc(e){var t=null,l=V.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var n=V.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=xs(),V.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),n=0;n<e;n++)l[n]=Pa;return t.index++,l}function Wt(e,t){return typeof t=="function"?t(e):t}function hs(e){var t=Ne();return sc(t,oe,e)}function sc(e,t,l){var n=e.queue;if(n===null)throw Error(r(311));n.lastRenderedReducer=l;var i=e.baseQueue,c=n.pending;if(c!==null){if(i!==null){var u=i.next;i.next=c.next,c.next=u}t.baseQueue=i=c,n.pending=null}if(c=e.baseState,i===null)e.memoizedState=c;else{t=i.next;var x=u=null,b=null,T=t,A=!1;do{var M=T.lane&-536870913;if(M!==T.lane?(K&M)===M:(Kt&M)===M){var C=T.revertLane;if(C===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),M===bl&&(A=!0);else if((Kt&C)===C){T=T.next,C===bl&&(A=!0);continue}else M={lane:0,revertLane:T.revertLane,gesture:null,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},b===null?(x=b=M,u=c):b=b.next=M,V.lanes|=C,Na|=C;M=T.action,Za&&l(c,M),c=T.hasEagerState?T.eagerState:l(c,M)}else C={lane:M,revertLane:T.revertLane,gesture:T.gesture,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},b===null?(x=b=C,u=c):b=b.next=C,V.lanes|=M,Na|=M;T=T.next}while(T!==null&&T!==t);if(b===null?u=c:b.next=x,!at(c,e.memoizedState)&&(we=!0,A&&(l=vl,l!==null)))throw l;e.memoizedState=c,e.baseState=u,e.baseQueue=b,n.lastRenderedState=c}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function ic(e){var t=Ne(),l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=e;var n=l.dispatch,i=l.pending,c=t.memoizedState;if(i!==null){l.pending=null;var u=i=i.next;do c=e(c,u.action),u=u.next;while(u!==i);at(c,t.memoizedState)||(we=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),l.lastRenderedState=c}return[c,n]}function Qr(e,t,l){var n=V,i=Ne(),c=ee;if(c){if(l===void 0)throw Error(r(407));l=l()}else l=t();var u=!at((oe||i).memoizedState,l);if(u&&(i.memoizedState=l,we=!0),i=i.queue,rc(Kr.bind(null,n,i,e),[e]),i.getSnapshot!==t||u||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Cl(9,{destroy:void 0},Jr.bind(null,n,i,l,t),null),xe===null)throw Error(r(349));c||(Kt&127)!==0||Zr(n,t,l)}return l}function Zr(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=V.updateQueue,t===null?(t=xs(),V.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function Jr(e,t,l,n){t.value=l,t.getSnapshot=n,Wr(t)&&Pr(e)}function Kr(e,t,l){return l(function(){Wr(t)&&Pr(e)})}function Wr(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!at(e,l)}catch{return!0}}function Pr(e){var t=Ua(e,2);t!==null&&Ke(t,e,2)}function cc(e){var t=Ge();if(typeof e=="function"){var l=e;if(e=l(),Za){oa(!0);try{l()}finally{oa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:e},t}function ed(e,t,l,n){return e.baseState=l,sc(e,oe,typeof n=="function"?n:Wt)}function Cp(e,t,l,n,i){if(bs(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(u){c.listeners.push(u)}};k.T!==null?l(!0):c.isTransition=!1,n(c),l=t.pending,l===null?(c.next=t.pending=c,td(t,c)):(c.next=l.next,t.pending=l.next=c)}}function td(e,t){var l=t.action,n=t.payload,i=e.state;if(t.isTransition){var c=k.T,u={};k.T=u;try{var x=l(i,n),b=k.S;b!==null&&b(u,x),ad(e,t,x)}catch(T){oc(e,t,T)}finally{c!==null&&u.types!==null&&(c.types=u.types),k.T=c}}else try{c=l(i,n),ad(e,t,c)}catch(T){oc(e,t,T)}}function ad(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(n){ld(e,t,n)},function(n){return oc(e,t,n)}):ld(e,t,l)}function ld(e,t,l){t.status="fulfilled",t.value=l,nd(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,td(e,l)))}function oc(e,t,l){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=l,nd(t),t=t.next;while(t!==n)}e.action=null}function nd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function sd(e,t){return t}function id(e,t){if(ee){var l=xe.formState;if(l!==null){e:{var n=V;if(ee){if(pe){t:{for(var i=pe,c=ft;i.nodeType!==8;){if(!c){i=null;break t}if(i=bt(i.nextSibling),i===null){i=null;break t}}c=i.data,i=c==="F!"||c==="F"?i:null}if(i){pe=bt(i.nextSibling),n=i.data==="F!";break e}}xa(n)}n=!1}n&&(t=l[0])}}return l=Ge(),l.memoizedState=l.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sd,lastRenderedState:t},l.queue=n,l=Cd.bind(null,V,n),n.dispatch=l,n=cc(!1),c=pc.bind(null,V,!1,n.queue),n=Ge(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,l=Cp.bind(null,V,i,c,l),i.dispatch=l,n.memoizedState=e,[t,l,!1]}function cd(e){var t=Ne();return od(t,oe,e)}function od(e,t,l){if(t=sc(e,t,sd)[0],e=hs(Wt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=dn(t)}catch(u){throw u===yl?ss:u}else n=t;t=Ne();var i=t.queue,c=i.dispatch;return l!==t.memoizedState&&(V.flags|=2048,Cl(9,{destroy:void 0},wp.bind(null,i,l),null)),[n,c,e]}function wp(e,t){e.action=t}function rd(e){var t=Ne(),l=oe;if(l!==null)return od(t,l,e);Ne(),t=t.memoizedState,l=Ne();var n=l.queue.dispatch;return l.memoizedState=e,[t,n,!1]}function Cl(e,t,l,n){return e={tag:e,create:l,deps:n,inst:t,next:null},t=V.updateQueue,t===null&&(t=xs(),V.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(n=l.next,l.next=e,e.next=n,t.lastEffect=e),e}function dd(){return Ne().memoizedState}function fs(e,t,l,n){var i=Ge();V.flags|=e,i.memoizedState=Cl(1|t,{destroy:void 0},l,n===void 0?null:n)}function gs(e,t,l,n){var i=Ne();n=n===void 0?null:n;var c=i.memoizedState.inst;oe!==null&&n!==null&&Pi(n,oe.memoizedState.deps)?i.memoizedState=Cl(t,c,l,n):(V.flags|=e,i.memoizedState=Cl(1|t,c,l,n))}function ud(e,t){fs(8390656,8,e,t)}function rc(e,t){gs(2048,8,e,t)}function Ep(e){V.flags|=4;var t=V.updateQueue;if(t===null)t=xs(),V.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function md(e){var t=Ne().memoizedState;return Ep({ref:t,nextImpl:e}),function(){if((le&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function xd(e,t){return gs(4,2,e,t)}function pd(e,t){return gs(4,4,e,t)}function hd(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fd(e,t,l){l=l!=null?l.concat([e]):null,gs(4,4,hd.bind(null,t,e),l)}function dc(){}function gd(e,t){var l=Ne();t=t===void 0?null:t;var n=l.memoizedState;return t!==null&&Pi(t,n[1])?n[0]:(l.memoizedState=[e,t],e)}function bd(e,t){var l=Ne();t=t===void 0?null:t;var n=l.memoizedState;if(t!==null&&Pi(t,n[1]))return n[0];if(n=e(),Za){oa(!0);try{e()}finally{oa(!1)}}return l.memoizedState=[n,t],n}function uc(e,t,l){return l===void 0||(Kt&1073741824)!==0&&(K&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=vu(),V.lanes|=e,Na|=e,l)}function vd(e,t,l,n){return at(l,t)?l:Nl.current!==null?(e=uc(e,l,n),at(e,t)||(we=!0),e):(Kt&42)===0||(Kt&1073741824)!==0&&(K&261930)===0?(we=!0,e.memoizedState=l):(e=vu(),V.lanes|=e,Na|=e,t)}function yd(e,t,l,n,i){var c=D.p;D.p=c!==0&&8>c?c:8;var u=k.T,x={};k.T=x,pc(e,!1,t,l);try{var b=i(),T=k.S;if(T!==null&&T(x,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var A=Np(b,n);un(e,t,A,ot(e))}else un(e,t,n,ot(e))}catch(M){un(e,t,{then:function(){},status:"rejected",reason:M},ot())}finally{D.p=c,u!==null&&x.types!==null&&(u.types=x.types),k.T=u}}function Ap(){}function mc(e,t,l,n){if(e.tag!==5)throw Error(r(476));var i=jd(e).queue;yd(e,i,t,$,l===null?Ap:function(){return Nd(e),l(n)})}function jd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:$},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Nd(e){var t=jd(e);t.next===null&&(t=e.alternate.memoizedState),un(e,t.next.queue,{},ot())}function xc(){return De(An)}function Sd(){return Ne().memoizedState}function Td(){return Ne().memoizedState}function kp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=ot();e=fa(l);var n=ga(t,e,l);n!==null&&(Ke(n,t,l),sn(n,t,l)),t={cache:$i()},e.payload=t;return}t=t.return}}function Op(e,t,l){var n=ot();l={lane:n,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},bs(e)?wd(t,l):(l=Mi(e,t,l,n),l!==null&&(Ke(l,e,n),Ed(l,t,n)))}function Cd(e,t,l){var n=ot();un(e,t,l,n)}function un(e,t,l,n){var i={lane:n,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(bs(e))wd(t,i);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var u=t.lastRenderedState,x=c(u,l);if(i.hasEagerState=!0,i.eagerState=x,at(x,u))return Wn(e,t,i,0),xe===null&&Kn(),!1}catch{}if(l=Mi(e,t,i,n),l!==null)return Ke(l,e,n),Ed(l,t,n),!0}return!1}function pc(e,t,l,n){if(n={lane:2,revertLane:Vc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},bs(e)){if(t)throw Error(r(479))}else t=Mi(e,l,n,2),t!==null&&Ke(t,e,2)}function bs(e){var t=e.alternate;return e===V||t!==null&&t===V}function wd(e,t){Sl=us=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Ed(e,t,l){if((l&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,l|=n,t.lanes=l,Ro(e,l)}}var mn={readContext:De,use:ps,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};mn.useEffectEvent=be;var Ad={readContext:De,use:ps,useCallback:function(e,t){return Ge().memoizedState=[e,t===void 0?null:t],e},useContext:De,useEffect:ud,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,fs(4194308,4,hd.bind(null,t,e),l)},useLayoutEffect:function(e,t){return fs(4194308,4,e,t)},useInsertionEffect:function(e,t){fs(4,2,e,t)},useMemo:function(e,t){var l=Ge();t=t===void 0?null:t;var n=e();if(Za){oa(!0);try{e()}finally{oa(!1)}}return l.memoizedState=[n,t],n},useReducer:function(e,t,l){var n=Ge();if(l!==void 0){var i=l(t);if(Za){oa(!0);try{l(t)}finally{oa(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=Op.bind(null,V,e),[n.memoizedState,e]},useRef:function(e){var t=Ge();return e={current:e},t.memoizedState=e},useState:function(e){e=cc(e);var t=e.queue,l=Cd.bind(null,V,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:dc,useDeferredValue:function(e,t){var l=Ge();return uc(l,e,t)},useTransition:function(){var e=cc(!1);return e=yd.bind(null,V,e.queue,!0,!1),Ge().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var n=V,i=Ge();if(ee){if(l===void 0)throw Error(r(407));l=l()}else{if(l=t(),xe===null)throw Error(r(349));(K&127)!==0||Zr(n,t,l)}i.memoizedState=l;var c={value:l,getSnapshot:t};return i.queue=c,ud(Kr.bind(null,n,c,e),[e]),n.flags|=2048,Cl(9,{destroy:void 0},Jr.bind(null,n,c,l,t),null),l},useId:function(){var e=Ge(),t=xe.identifierPrefix;if(ee){var l=At,n=Et;l=(n&~(1<<32-tt(n)-1)).toString(32)+l,t="_"+t+"R_"+l,l=ms++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Sp++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:xc,useFormState:id,useActionState:id,useOptimistic:function(e){var t=Ge();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=pc.bind(null,V,!0,l),l.dispatch=t,[e,t]},useMemoCache:nc,useCacheRefresh:function(){return Ge().memoizedState=kp.bind(null,V)},useEffectEvent:function(e){var t=Ge(),l={impl:e};return t.memoizedState=l,function(){if((le&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},hc={readContext:De,use:ps,useCallback:gd,useContext:De,useEffect:rc,useImperativeHandle:fd,useInsertionEffect:xd,useLayoutEffect:pd,useMemo:bd,useReducer:hs,useRef:dd,useState:function(){return hs(Wt)},useDebugValue:dc,useDeferredValue:function(e,t){var l=Ne();return vd(l,oe.memoizedState,e,t)},useTransition:function(){var e=hs(Wt)[0],t=Ne().memoizedState;return[typeof e=="boolean"?e:dn(e),t]},useSyncExternalStore:Qr,useId:Sd,useHostTransitionStatus:xc,useFormState:cd,useActionState:cd,useOptimistic:function(e,t){var l=Ne();return ed(l,oe,e,t)},useMemoCache:nc,useCacheRefresh:Td};hc.useEffectEvent=md;var kd={readContext:De,use:ps,useCallback:gd,useContext:De,useEffect:rc,useImperativeHandle:fd,useInsertionEffect:xd,useLayoutEffect:pd,useMemo:bd,useReducer:ic,useRef:dd,useState:function(){return ic(Wt)},useDebugValue:dc,useDeferredValue:function(e,t){var l=Ne();return oe===null?uc(l,e,t):vd(l,oe.memoizedState,e,t)},useTransition:function(){var e=ic(Wt)[0],t=Ne().memoizedState;return[typeof e=="boolean"?e:dn(e),t]},useSyncExternalStore:Qr,useId:Sd,useHostTransitionStatus:xc,useFormState:rd,useActionState:rd,useOptimistic:function(e,t){var l=Ne();return oe!==null?ed(l,oe,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:nc,useCacheRefresh:Td};kd.useEffectEvent=md;function fc(e,t,l,n){t=e.memoizedState,l=l(n,t),l=l==null?t:B({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var gc={enqueueSetState:function(e,t,l){e=e._reactInternals;var n=ot(),i=fa(n);i.payload=t,l!=null&&(i.callback=l),t=ga(e,i,n),t!==null&&(Ke(t,e,n),sn(t,e,n))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var n=ot(),i=fa(n);i.tag=1,i.payload=t,l!=null&&(i.callback=l),t=ga(e,i,n),t!==null&&(Ke(t,e,n),sn(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=ot(),n=fa(l);n.tag=2,t!=null&&(n.callback=t),t=ga(e,n,l),t!==null&&(Ke(t,e,l),sn(t,e,l))}};function Od(e,t,l,n,i,c,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,c,u):t.prototype&&t.prototype.isPureReactComponent?!Kl(l,n)||!Kl(i,c):!0}function Md(e,t,l,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,n),t.state!==e&&gc.enqueueReplaceState(t,t.state,null)}function Ja(e,t){var l=t;if("ref"in t){l={};for(var n in t)n!=="ref"&&(l[n]=t[n])}if(e=e.defaultProps){l===t&&(l=B({},l));for(var i in e)l[i]===void 0&&(l[i]=e[i])}return l}function Rd(e){Jn(e)}function Ld(e){console.error(e)}function Dd(e){Jn(e)}function vs(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function zd(e,t,l){try{var n=e.onCaughtError;n(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function bc(e,t,l){return l=fa(l),l.tag=3,l.payload={element:null},l.callback=function(){vs(e,t)},l}function Bd(e){return e=fa(e),e.tag=3,e}function Fd(e,t,l,n){var i=l.type.getDerivedStateFromError;if(typeof i=="function"){var c=n.value;e.payload=function(){return i(c)},e.callback=function(){zd(t,l,n)}}var u=l.stateNode;u!==null&&typeof u.componentDidCatch=="function"&&(e.callback=function(){zd(t,l,n),typeof i!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})})}function Mp(e,t,l,n,i){if(l.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=l.alternate,t!==null&&gl(t,l,i,!0),l=nt.current,l!==null){switch(l.tag){case 31:case 13:return gt===null?Ms():l.alternate===null&&ve===0&&(ve=3),l.flags&=-257,l.flags|=65536,l.lanes=i,n===is?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([n]):t.add(n),Xc(e,n,i)),!1;case 22:return l.flags|=65536,n===is?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([n]):l.add(n)),Xc(e,n,i)),!1}throw Error(r(435,l.tag))}return Xc(e,n,i),Ms(),!1}if(ee)return t=nt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==Fi&&(e=Error(r(422),{cause:n}),en(xt(e,l)))):(n!==Fi&&(t=Error(r(423),{cause:n}),en(xt(t,l))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=xt(n,l),i=bc(e.stateNode,n,i),Qi(e,i),ve!==4&&(ve=2)),!1;var c=Error(r(520),{cause:n});if(c=xt(c,l),yn===null?yn=[c]:yn.push(c),ve!==4&&(ve=2),t===null)return!0;n=xt(n,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=i&-i,l.lanes|=e,e=bc(l.stateNode,n,e),Qi(l,e),!1;case 1:if(t=l.type,c=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Sa===null||!Sa.has(c))))return l.flags|=65536,i&=-i,l.lanes|=i,i=Bd(i),Fd(i,e,l,n),Qi(l,i),!1}l=l.return}while(l!==null);return!1}var vc=Error(r(461)),we=!1;function ze(e,t,l,n){t.child=e===null?Gr(t,null,l,n):Qa(t,e.child,l,n)}function Hd(e,t,l,n,i){l=l.render;var c=t.ref;if("ref"in n){var u={};for(var x in n)x!=="ref"&&(u[x]=n[x])}else u=n;return Ya(t),n=ec(e,t,l,u,c,i),x=tc(),e!==null&&!we?(ac(e,t,i),Pt(e,t,i)):(ee&&x&&zi(t),t.flags|=1,ze(e,t,n,i),t.child)}function _d(e,t,l,n,i){if(e===null){var c=l.type;return typeof c=="function"&&!Ri(c)&&c.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=c,Ud(e,t,c,n,i)):(e=es(l.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Ec(e,i)){var u=c.memoizedProps;if(l=l.compare,l=l!==null?l:Kl,l(u,n)&&e.ref===t.ref)return Pt(e,t,i)}return t.flags|=1,e=It(c,n),e.ref=t.ref,e.return=t,t.child=e}function Ud(e,t,l,n,i){if(e!==null){var c=e.memoizedProps;if(Kl(c,n)&&e.ref===t.ref)if(we=!1,t.pendingProps=n=c,Ec(e,i))(e.flags&131072)!==0&&(we=!0);else return t.lanes=e.lanes,Pt(e,t,i)}return yc(e,t,l,n,i)}function Gd(e,t,l,n){var i=n.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|l:l,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~c}else n=0,t.child=null;return $d(e,t,c,l,n)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ns(t,c!==null?c.cachePool:null),c!==null?Yr(t,c):Ji(),qr(t);else return n=t.lanes=536870912,$d(e,t,c!==null?c.baseLanes|l:l,l,n)}else c!==null?(ns(t,c.cachePool),Yr(t,c),va(),t.memoizedState=null):(e!==null&&ns(t,null),Ji(),va());return ze(e,t,i,l),t.child}function xn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $d(e,t,l,n,i){var c=Yi();return c=c===null?null:{parent:Te._currentValue,pool:c},t.memoizedState={baseLanes:l,cachePool:c},e!==null&&ns(t,null),Ji(),qr(t),e!==null&&gl(e,t,n,!0),t.childLanes=i,null}function ys(e,t){return t=Ns({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Xd(e,t,l){return Qa(t,e.child,null,l),e=ys(t,t.pendingProps),e.flags|=2,st(t),t.memoizedState=null,e}function Rp(e,t,l){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ee){if(n.mode==="hidden")return e=ys(t,n),t.lanes=536870912,xn(null,e);if(Wi(t),(e=pe)?(e=tm(e,ft),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ua!==null?{id:Et,overflow:At}:null,retryLane:536870912,hydrationErrors:null},l=wr(e),l.return=t,t.child=l,Le=t,pe=null)):e=null,e===null)throw xa(t);return t.lanes=536870912,null}return ys(t,n)}var c=e.memoizedState;if(c!==null){var u=c.dehydrated;if(Wi(t),i)if(t.flags&256)t.flags&=-257,t=Xd(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(we||gl(e,t,l,!1),i=(l&e.childLanes)!==0,we||i){if(n=xe,n!==null&&(u=Lo(n,l),u!==0&&u!==c.retryLane))throw c.retryLane=u,Ua(e,u),Ke(n,e,u),vc;Ms(),t=Xd(e,t,l)}else e=c.treeContext,pe=bt(u.nextSibling),Le=t,ee=!0,ma=null,ft=!1,e!==null&&kr(t,e),t=ys(t,n),t.flags|=4096;return t}return e=It(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function js(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function yc(e,t,l,n,i){return Ya(t),l=ec(e,t,l,n,void 0,i),n=tc(),e!==null&&!we?(ac(e,t,i),Pt(e,t,i)):(ee&&n&&zi(t),t.flags|=1,ze(e,t,l,i),t.child)}function Yd(e,t,l,n,i,c){return Ya(t),t.updateQueue=null,l=Ir(t,n,l,i),Vr(e),n=tc(),e!==null&&!we?(ac(e,t,c),Pt(e,t,c)):(ee&&n&&zi(t),t.flags|=1,ze(e,t,l,c),t.child)}function qd(e,t,l,n,i){if(Ya(t),t.stateNode===null){var c=xl,u=l.contextType;typeof u=="object"&&u!==null&&(c=De(u)),c=new l(n,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=gc,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=n,c.state=t.memoizedState,c.refs={},Vi(t),u=l.contextType,c.context=typeof u=="object"&&u!==null?De(u):xl,c.state=t.memoizedState,u=l.getDerivedStateFromProps,typeof u=="function"&&(fc(t,l,u,n),c.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(u=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),u!==c.state&&gc.enqueueReplaceState(c,c.state,null),on(t,n,c,i),cn(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){c=t.stateNode;var x=t.memoizedProps,b=Ja(l,x);c.props=b;var T=c.context,A=l.contextType;u=xl,typeof A=="object"&&A!==null&&(u=De(A));var M=l.getDerivedStateFromProps;A=typeof M=="function"||typeof c.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,A||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(x||T!==u)&&Md(t,c,n,u),ha=!1;var C=t.memoizedState;c.state=C,on(t,n,c,i),cn(),T=t.memoizedState,x||C!==T||ha?(typeof M=="function"&&(fc(t,l,M,n),T=t.memoizedState),(b=ha||Od(t,l,b,n,C,T,u))?(A||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=T),c.props=n,c.state=T,c.context=u,n=b):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{c=t.stateNode,Ii(e,t),u=t.memoizedProps,A=Ja(l,u),c.props=A,M=t.pendingProps,C=c.context,T=l.contextType,b=xl,typeof T=="object"&&T!==null&&(b=De(T)),x=l.getDerivedStateFromProps,(T=typeof x=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==M||C!==b)&&Md(t,c,n,b),ha=!1,C=t.memoizedState,c.state=C,on(t,n,c,i),cn();var E=t.memoizedState;u!==M||C!==E||ha||e!==null&&e.dependencies!==null&&as(e.dependencies)?(typeof x=="function"&&(fc(t,l,x,n),E=t.memoizedState),(A=ha||Od(t,l,A,n,C,E,b)||e!==null&&e.dependencies!==null&&as(e.dependencies))?(T||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(n,E,b),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(n,E,b)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=E),c.props=n,c.state=E,c.context=b,n=A):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&C===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&C===e.memoizedState||(t.flags|=1024),n=!1)}return c=n,js(e,t),n=(t.flags&128)!==0,c||n?(c=t.stateNode,l=n&&typeof l.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&n?(t.child=Qa(t,e.child,null,i),t.child=Qa(t,null,l,i)):ze(e,t,l,i),t.memoizedState=c.state,e=t.child):e=Pt(e,t,i),e}function Vd(e,t,l,n){return $a(),t.flags|=256,ze(e,t,l,n),t.child}var jc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nc(e){return{baseLanes:e,cachePool:zr()}}function Sc(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=ct),e}function Id(e,t,l){var n=t.pendingProps,i=!1,c=(t.flags&128)!==0,u;if((u=c)||(u=e!==null&&e.memoizedState===null?!1:(je.current&2)!==0),u&&(i=!0,t.flags&=-129),u=(t.flags&32)!==0,t.flags&=-33,e===null){if(ee){if(i?ba(t):va(),(e=pe)?(e=tm(e,ft),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ua!==null?{id:Et,overflow:At}:null,retryLane:536870912,hydrationErrors:null},l=wr(e),l.return=t,t.child=l,Le=t,pe=null)):e=null,e===null)throw xa(t);return so(e)?t.lanes=32:t.lanes=536870912,null}var x=n.children;return n=n.fallback,i?(va(),i=t.mode,x=Ns({mode:"hidden",children:x},i),n=Ga(n,i,l,null),x.return=t,n.return=t,x.sibling=n,t.child=x,n=t.child,n.memoizedState=Nc(l),n.childLanes=Sc(e,u,l),t.memoizedState=jc,xn(null,n)):(ba(t),Tc(t,x))}var b=e.memoizedState;if(b!==null&&(x=b.dehydrated,x!==null)){if(c)t.flags&256?(ba(t),t.flags&=-257,t=Cc(e,t,l)):t.memoizedState!==null?(va(),t.child=e.child,t.flags|=128,t=null):(va(),x=n.fallback,i=t.mode,n=Ns({mode:"visible",children:n.children},i),x=Ga(x,i,l,null),x.flags|=2,n.return=t,x.return=t,n.sibling=x,t.child=n,Qa(t,e.child,null,l),n=t.child,n.memoizedState=Nc(l),n.childLanes=Sc(e,u,l),t.memoizedState=jc,t=xn(null,n));else if(ba(t),so(x)){if(u=x.nextSibling&&x.nextSibling.dataset,u)var T=u.dgst;u=T,n=Error(r(419)),n.stack="",n.digest=u,en({value:n,source:null,stack:null}),t=Cc(e,t,l)}else if(we||gl(e,t,l,!1),u=(l&e.childLanes)!==0,we||u){if(u=xe,u!==null&&(n=Lo(u,l),n!==0&&n!==b.retryLane))throw b.retryLane=n,Ua(e,n),Ke(u,e,n),vc;no(x)||Ms(),t=Cc(e,t,l)}else no(x)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,pe=bt(x.nextSibling),Le=t,ee=!0,ma=null,ft=!1,e!==null&&kr(t,e),t=Tc(t,n.children),t.flags|=4096);return t}return i?(va(),x=n.fallback,i=t.mode,b=e.child,T=b.sibling,n=It(b,{mode:"hidden",children:n.children}),n.subtreeFlags=b.subtreeFlags&65011712,T!==null?x=It(T,x):(x=Ga(x,i,l,null),x.flags|=2),x.return=t,n.return=t,n.sibling=x,t.child=n,xn(null,n),n=t.child,x=e.child.memoizedState,x===null?x=Nc(l):(i=x.cachePool,i!==null?(b=Te._currentValue,i=i.parent!==b?{parent:b,pool:b}:i):i=zr(),x={baseLanes:x.baseLanes|l,cachePool:i}),n.memoizedState=x,n.childLanes=Sc(e,u,l),t.memoizedState=jc,xn(e.child,n)):(ba(t),l=e.child,e=l.sibling,l=It(l,{mode:"visible",children:n.children}),l.return=t,l.sibling=null,e!==null&&(u=t.deletions,u===null?(t.deletions=[e],t.flags|=16):u.push(e)),t.child=l,t.memoizedState=null,l)}function Tc(e,t){return t=Ns({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ns(e,t){return e=lt(22,e,null,t),e.lanes=0,e}function Cc(e,t,l){return Qa(t,e.child,null,l),e=Tc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qd(e,t,l){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ui(e.return,t,l)}function wc(e,t,l,n,i,c){var u=e.memoizedState;u===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:l,tailMode:i,treeForkCount:c}:(u.isBackwards=t,u.rendering=null,u.renderingStartTime=0,u.last=n,u.tail=l,u.tailMode=i,u.treeForkCount=c)}function Zd(e,t,l){var n=t.pendingProps,i=n.revealOrder,c=n.tail;n=n.children;var u=je.current,x=(u&2)!==0;if(x?(u=u&1|2,t.flags|=128):u&=1,z(je,u),ze(e,t,n,l),n=ee?Pl:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qd(e,l,t);else if(e.tag===19)Qd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(l=t.child,i=null;l!==null;)e=l.alternate,e!==null&&ds(e)===null&&(i=l),l=l.sibling;l=i,l===null?(i=t.child,t.child=null):(i=l.sibling,l.sibling=null),wc(t,!1,i,l,c,n);break;case"backwards":case"unstable_legacy-backwards":for(l=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ds(e)===null){t.child=i;break}e=i.sibling,i.sibling=l,l=i,i=e}wc(t,!0,l,null,c,n);break;case"together":wc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Pt(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Na|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(gl(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,l=It(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=It(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Ec(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&as(e)))}function Lp(e,t,l){switch(t.tag){case 3:Ue(t,t.stateNode.containerInfo),pa(t,Te,e.memoizedState.cache),$a();break;case 27:case 5:Hl(t);break;case 4:Ue(t,t.stateNode.containerInfo);break;case 10:pa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Wi(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ba(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Id(e,t,l):(ba(t),e=Pt(e,t,l),e!==null?e.sibling:null);ba(t);break;case 19:var i=(e.flags&128)!==0;if(n=(l&t.childLanes)!==0,n||(gl(e,t,l,!1),n=(l&t.childLanes)!==0),i){if(n)return Zd(e,t,l);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(je,je.current),n)break;return null;case 22:return t.lanes=0,Gd(e,t,l,t.pendingProps);case 24:pa(t,Te,e.memoizedState.cache)}return Pt(e,t,l)}function Jd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)we=!0;else{if(!Ec(e,l)&&(t.flags&128)===0)return we=!1,Lp(e,t,l);we=(e.flags&131072)!==0}else we=!1,ee&&(t.flags&1048576)!==0&&Ar(t,Pl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Va(t.elementType),t.type=e,typeof e=="function")Ri(e)?(n=Ja(e,n),t.tag=1,t=qd(null,t,e,n,l)):(t.tag=0,t=yc(null,t,e,n,l));else{if(e!=null){var i=e.$$typeof;if(i===rt){t.tag=11,t=Hd(null,t,e,n,l);break e}else if(i===P){t.tag=14,t=_d(null,t,e,n,l);break e}}throw t=Xt(e)||e,Error(r(306,t,""))}}return t;case 0:return yc(e,t,t.type,t.pendingProps,l);case 1:return n=t.type,i=Ja(n,t.pendingProps),qd(e,t,n,i,l);case 3:e:{if(Ue(t,t.stateNode.containerInfo),e===null)throw Error(r(387));n=t.pendingProps;var c=t.memoizedState;i=c.element,Ii(e,t),on(t,n,null,l);var u=t.memoizedState;if(n=u.cache,pa(t,Te,n),n!==c.cache&&Gi(t,[Te],l,!0),cn(),n=u.element,c.isDehydrated)if(c={element:n,isDehydrated:!1,cache:u.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=Vd(e,t,n,l);break e}else if(n!==i){i=xt(Error(r(424)),t),en(i),t=Vd(e,t,n,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,pe=bt(e.firstChild),Le=t,ee=!0,ma=null,ft=!0,l=Gr(t,null,n,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if($a(),n===i){t=Pt(e,t,l);break e}ze(e,t,n,l)}t=t.child}return t;case 26:return js(e,t),e===null?(l=cm(t.type,null,t.pendingProps,null))?t.memoizedState=l:ee||(l=t.type,e=t.pendingProps,n=Hs(Q.current).createElement(l),n[Re]=t,n[qe]=e,Be(n,l,e),Oe(n),t.stateNode=n):t.memoizedState=cm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Hl(t),e===null&&ee&&(n=t.stateNode=nm(t.type,t.pendingProps,Q.current),Le=t,ft=!0,i=pe,Ea(t.type)?(io=i,pe=bt(n.firstChild)):pe=i),ze(e,t,t.pendingProps.children,l),js(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ee&&((i=n=pe)&&(n=r0(n,t.type,t.pendingProps,ft),n!==null?(t.stateNode=n,Le=t,pe=bt(n.firstChild),ft=!1,i=!0):i=!1),i||xa(t)),Hl(t),i=t.type,c=t.pendingProps,u=e!==null?e.memoizedProps:null,n=c.children,to(i,c)?n=null:u!==null&&to(i,u)&&(t.flags|=32),t.memoizedState!==null&&(i=ec(e,t,Tp,null,null,l),An._currentValue=i),js(e,t),ze(e,t,n,l),t.child;case 6:return e===null&&ee&&((e=l=pe)&&(l=d0(l,t.pendingProps,ft),l!==null?(t.stateNode=l,Le=t,pe=null,e=!0):e=!1),e||xa(t)),null;case 13:return Id(e,t,l);case 4:return Ue(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Qa(t,null,n,l):ze(e,t,n,l),t.child;case 11:return Hd(e,t,t.type,t.pendingProps,l);case 7:return ze(e,t,t.pendingProps,l),t.child;case 8:return ze(e,t,t.pendingProps.children,l),t.child;case 12:return ze(e,t,t.pendingProps.children,l),t.child;case 10:return n=t.pendingProps,pa(t,t.type,n.value),ze(e,t,n.children,l),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,Ya(t),i=De(i),n=n(i),t.flags|=1,ze(e,t,n,l),t.child;case 14:return _d(e,t,t.type,t.pendingProps,l);case 15:return Ud(e,t,t.type,t.pendingProps,l);case 19:return Zd(e,t,l);case 31:return Rp(e,t,l);case 22:return Gd(e,t,l,t.pendingProps);case 24:return Ya(t),n=De(Te),e===null?(i=Yi(),i===null&&(i=xe,c=$i(),i.pooledCache=c,c.refCount++,c!==null&&(i.pooledCacheLanes|=l),i=c),t.memoizedState={parent:n,cache:i},Vi(t),pa(t,Te,i)):((e.lanes&l)!==0&&(Ii(e,t),on(t,null,null,l),cn()),i=e.memoizedState,c=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),pa(t,Te,n)):(n=c.cache,pa(t,Te,n),n!==i.cache&&Gi(t,[Te],l,!0))),ze(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ea(e){e.flags|=4}function Ac(e,t,l,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Su())e.flags|=8192;else throw Ia=is,qi}else e.flags&=-16777217}function Kd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!mm(t))if(Su())e.flags|=8192;else throw Ia=is,qi}function Ss(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Oo():536870912,e.lanes|=t,kl|=t)}function pn(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var n=null;l!==null;)l.alternate!==null&&(n=l),l=l.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function he(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,n=0;if(t)for(var i=e.child;i!==null;)l|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)l|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=l,t}function Dp(e,t,l){var n=t.pendingProps;switch(Bi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(t),null;case 1:return he(t),null;case 3:return l=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Jt(Te),ye(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(fl(t)?ea(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Hi())),he(t),null;case 26:var i=t.type,c=t.memoizedState;return e===null?(ea(t),c!==null?(he(t),Kd(t,c)):(he(t),Ac(t,i,null,n,l))):c?c!==e.memoizedState?(ea(t),he(t),Kd(t,c)):(he(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&ea(t),he(t),Ac(t,i,e,n,l)),null;case 27:if(Dn(t),l=Q.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ea(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return he(t),null}e=H.current,fl(t)?Or(t):(e=nm(i,n,l),t.stateNode=e,ea(t))}return he(t),null;case 5:if(Dn(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&ea(t);else{if(!n){if(t.stateNode===null)throw Error(r(166));return he(t),null}if(c=H.current,fl(t))Or(t);else{var u=Hs(Q.current);switch(c){case 1:c=u.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:c=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":c=u.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":c=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":c=u.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof n.is=="string"?u.createElement("select",{is:n.is}):u.createElement("select"),n.multiple?c.multiple=!0:n.size&&(c.size=n.size);break;default:c=typeof n.is=="string"?u.createElement(i,{is:n.is}):u.createElement(i)}}c[Re]=t,c[qe]=n;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)c.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=c;e:switch(Be(c,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ea(t)}}return he(t),Ac(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&ea(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(r(166));if(e=Q.current,fl(t)){if(e=t.stateNode,l=t.memoizedProps,n=null,i=Le,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[Re]=t,e=!!(e.nodeValue===l||n!==null&&n.suppressHydrationWarning===!0||Iu(e.nodeValue,l)),e||xa(t,!0)}else e=Hs(e).createTextNode(n),e[Re]=t,t.stateNode=e}return he(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(n=fl(t),l!==null){if(e===null){if(!n)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Re]=t}else $a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;he(t),e=!1}else l=Hi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(st(t),t):(st(t),null);if((t.flags&128)!==0)throw Error(r(558))}return he(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=fl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(r(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));i[Re]=t}else $a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;he(t),i=!1}else i=Hi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(st(t),t):(st(t),null)}return st(t),(t.flags&128)!==0?(t.lanes=l,t):(l=n!==null,e=e!==null&&e.memoizedState!==null,l&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==i&&(n.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Ss(t,t.updateQueue),he(t),null);case 4:return ye(),e===null&&Jc(t.stateNode.containerInfo),he(t),null;case 10:return Jt(t.type),he(t),null;case 19:if(R(je),n=t.memoizedState,n===null)return he(t),null;if(i=(t.flags&128)!==0,c=n.rendering,c===null)if(i)pn(n,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=ds(e),c!==null){for(t.flags|=128,pn(n,!1),e=c.updateQueue,t.updateQueue=e,Ss(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)Cr(l,e),l=l.sibling;return z(je,je.current&1|2),ee&&Qt(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&Pe()>As&&(t.flags|=128,i=!0,pn(n,!1),t.lanes=4194304)}else{if(!i)if(e=ds(c),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Ss(t,e),pn(n,!0),n.tail===null&&n.tailMode==="hidden"&&!c.alternate&&!ee)return he(t),null}else 2*Pe()-n.renderingStartTime>As&&l!==536870912&&(t.flags|=128,i=!0,pn(n,!1),t.lanes=4194304);n.isBackwards?(c.sibling=t.child,t.child=c):(e=n.last,e!==null?e.sibling=c:t.child=c,n.last=c)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=Pe(),e.sibling=null,l=je.current,z(je,i?l&1|2:l&1),ee&&Qt(t,n.treeForkCount),e):(he(t),null);case 22:case 23:return st(t),Ki(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(l&536870912)!==0&&(t.flags&128)===0&&(he(t),t.subtreeFlags&6&&(t.flags|=8192)):he(t),l=t.updateQueue,l!==null&&Ss(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==l&&(t.flags|=2048),e!==null&&R(qa),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Jt(Te),he(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function zp(e,t){switch(Bi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jt(Te),ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Dn(t),null;case 31:if(t.memoizedState!==null){if(st(t),t.alternate===null)throw Error(r(340));$a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(st(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));$a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(je),null;case 4:return ye(),null;case 10:return Jt(t.type),null;case 22:case 23:return st(t),Ki(),e!==null&&R(qa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Jt(Te),null;case 25:return null;default:return null}}function Wd(e,t){switch(Bi(t),t.tag){case 3:Jt(Te),ye();break;case 26:case 27:case 5:Dn(t);break;case 4:ye();break;case 31:t.memoizedState!==null&&st(t);break;case 13:st(t);break;case 19:R(je);break;case 10:Jt(t.type);break;case 22:case 23:st(t),Ki(),e!==null&&R(qa);break;case 24:Jt(Te)}}function hn(e,t){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&e)===e){n=void 0;var c=l.create,u=l.inst;n=c(),u.destroy=n}l=l.next}while(l!==i)}}catch(x){ie(t,t.return,x)}}function ya(e,t,l){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var c=i.next;n=c;do{if((n.tag&e)===e){var u=n.inst,x=u.destroy;if(x!==void 0){u.destroy=void 0,i=t;var b=l,T=x;try{T()}catch(A){ie(i,b,A)}}}n=n.next}while(n!==c)}}catch(A){ie(t,t.return,A)}}function Pd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Xr(t,l)}catch(n){ie(e,e.return,n)}}}function eu(e,t,l){l.props=Ja(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(n){ie(e,t,n)}}function fn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof l=="function"?e.refCleanup=l(n):l.current=n}}catch(i){ie(e,t,i)}}function kt(e,t){var l=e.ref,n=e.refCleanup;if(l!==null)if(typeof n=="function")try{n()}catch(i){ie(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(i){ie(e,t,i)}else l.current=null}function tu(e){var t=e.type,l=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break e;case"img":l.src?n.src=l.src:l.srcSet&&(n.srcset=l.srcSet)}}catch(i){ie(e,e.return,i)}}function kc(e,t,l){try{var n=e.stateNode;l0(n,e.type,l,t),n[qe]=t}catch(i){ie(e,e.return,i)}}function au(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ea(e.type)||e.tag===4}function Oc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ea(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mc(e,t,l){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=qt));else if(n!==4&&(n===27&&Ea(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(Mc(e,t,l),e=e.sibling;e!==null;)Mc(e,t,l),e=e.sibling}function Ts(e,t,l){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(n!==4&&(n===27&&Ea(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Ts(e,t,l),e=e.sibling;e!==null;)Ts(e,t,l),e=e.sibling}function lu(e){var t=e.stateNode,l=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Be(t,n,l),t[Re]=e,t[qe]=l}catch(c){ie(e,e.return,c)}}var ta=!1,Ee=!1,Rc=!1,nu=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Bp(e,t){if(e=e.containerInfo,Pc=qs,e=fr(e),Ci(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var n=l.getSelection&&l.getSelection();if(n&&n.rangeCount!==0){l=n.anchorNode;var i=n.anchorOffset,c=n.focusNode;n=n.focusOffset;try{l.nodeType,c.nodeType}catch{l=null;break e}var u=0,x=-1,b=-1,T=0,A=0,M=e,C=null;t:for(;;){for(var E;M!==l||i!==0&&M.nodeType!==3||(x=u+i),M!==c||n!==0&&M.nodeType!==3||(b=u+n),M.nodeType===3&&(u+=M.nodeValue.length),(E=M.firstChild)!==null;)C=M,M=E;for(;;){if(M===e)break t;if(C===l&&++T===i&&(x=u),C===c&&++A===n&&(b=u),(E=M.nextSibling)!==null)break;M=C,C=M.parentNode}M=E}l=x===-1||b===-1?null:{start:x,end:b}}else l=null}l=l||{start:0,end:0}}else l=null;for(eo={focusedElem:e,selectionRange:l},qs=!1,Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){switch(t=Me,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)i=e[l],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,l=t,i=c.memoizedProps,c=c.memoizedState,n=l.stateNode;try{var F=Ja(l.type,i);e=n.getSnapshotBeforeUpdate(F,c),n.__reactInternalSnapshotBeforeUpdate=e}catch(G){ie(l,l.return,G)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)lo(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":lo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}}function su(e,t,l){var n=l.flags;switch(l.tag){case 0:case 11:case 15:la(e,l),n&4&&hn(5,l);break;case 1:if(la(e,l),n&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(u){ie(l,l.return,u)}else{var i=Ja(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(u){ie(l,l.return,u)}}n&64&&Pd(l),n&512&&fn(l,l.return);break;case 3:if(la(e,l),n&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Xr(e,t)}catch(u){ie(l,l.return,u)}}break;case 27:t===null&&n&4&&lu(l);case 26:case 5:la(e,l),t===null&&n&4&&tu(l),n&512&&fn(l,l.return);break;case 12:la(e,l);break;case 31:la(e,l),n&4&&ou(e,l);break;case 13:la(e,l),n&4&&ru(e,l),n&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=qp.bind(null,l),u0(e,l))));break;case 22:if(n=l.memoizedState!==null||ta,!n){t=t!==null&&t.memoizedState!==null||Ee,i=ta;var c=Ee;ta=n,(Ee=t)&&!c?na(e,l,(l.subtreeFlags&8772)!==0):la(e,l),ta=i,Ee=c}break;case 30:break;default:la(e,l)}}function iu(e){var t=e.alternate;t!==null&&(e.alternate=null,iu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&oi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,Ie=!1;function aa(e,t,l){for(l=l.child;l!==null;)cu(e,t,l),l=l.sibling}function cu(e,t,l){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(_l,l)}catch{}switch(l.tag){case 26:Ee||kt(l,t),aa(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ee||kt(l,t);var n=fe,i=Ie;Ea(l.type)&&(fe=l.stateNode,Ie=!1),aa(e,t,l),Cn(l.stateNode),fe=n,Ie=i;break;case 5:Ee||kt(l,t);case 6:if(n=fe,i=Ie,fe=null,aa(e,t,l),fe=n,Ie=i,fe!==null)if(Ie)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(l.stateNode)}catch(c){ie(l,t,c)}else try{fe.removeChild(l.stateNode)}catch(c){ie(l,t,c)}break;case 18:fe!==null&&(Ie?(e=fe,Pu(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Fl(e)):Pu(fe,l.stateNode));break;case 4:n=fe,i=Ie,fe=l.stateNode.containerInfo,Ie=!0,aa(e,t,l),fe=n,Ie=i;break;case 0:case 11:case 14:case 15:ya(2,l,t),Ee||ya(4,l,t),aa(e,t,l);break;case 1:Ee||(kt(l,t),n=l.stateNode,typeof n.componentWillUnmount=="function"&&eu(l,t,n)),aa(e,t,l);break;case 21:aa(e,t,l);break;case 22:Ee=(n=Ee)||l.memoizedState!==null,aa(e,t,l),Ee=n;break;default:aa(e,t,l)}}function ou(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Fl(e)}catch(l){ie(t,t.return,l)}}}function ru(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Fl(e)}catch(l){ie(t,t.return,l)}}function Fp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new nu),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new nu),t;default:throw Error(r(435,e.tag))}}function Cs(e,t){var l=Fp(e);t.forEach(function(n){if(!l.has(n)){l.add(n);var i=Vp.bind(null,e,n);n.then(i,i)}})}function Qe(e,t){var l=t.deletions;if(l!==null)for(var n=0;n<l.length;n++){var i=l[n],c=e,u=t,x=u;e:for(;x!==null;){switch(x.tag){case 27:if(Ea(x.type)){fe=x.stateNode,Ie=!1;break e}break;case 5:fe=x.stateNode,Ie=!1;break e;case 3:case 4:fe=x.stateNode.containerInfo,Ie=!0;break e}x=x.return}if(fe===null)throw Error(r(160));cu(c,u,i),fe=null,Ie=!1,c=i.alternate,c!==null&&(c.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)du(t,e),t=t.sibling}var Nt=null;function du(e,t){var l=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qe(t,e),Ze(e),n&4&&(ya(3,e,e.return),hn(3,e),ya(5,e,e.return));break;case 1:Qe(t,e),Ze(e),n&512&&(Ee||l===null||kt(l,l.return)),n&64&&ta&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?n:l.concat(n))));break;case 26:var i=Nt;if(Qe(t,e),Ze(e),n&512&&(Ee||l===null||kt(l,l.return)),n&4){var c=l!==null?l.memoizedState:null;if(n=e.memoizedState,l===null)if(n===null)if(e.stateNode===null){e:{n=e.type,l=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":c=i.getElementsByTagName("title")[0],(!c||c[$l]||c[Re]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=i.createElement(n),i.head.insertBefore(c,i.querySelector("head > title"))),Be(c,n,l),c[Re]=e,Oe(c),n=c;break e;case"link":var u=dm("link","href",i).get(n+(l.href||""));if(u){for(var x=0;x<u.length;x++)if(c=u[x],c.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&c.getAttribute("rel")===(l.rel==null?null:l.rel)&&c.getAttribute("title")===(l.title==null?null:l.title)&&c.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){u.splice(x,1);break t}}c=i.createElement(n),Be(c,n,l),i.head.appendChild(c);break;case"meta":if(u=dm("meta","content",i).get(n+(l.content||""))){for(x=0;x<u.length;x++)if(c=u[x],c.getAttribute("content")===(l.content==null?null:""+l.content)&&c.getAttribute("name")===(l.name==null?null:l.name)&&c.getAttribute("property")===(l.property==null?null:l.property)&&c.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&c.getAttribute("charset")===(l.charSet==null?null:l.charSet)){u.splice(x,1);break t}}c=i.createElement(n),Be(c,n,l),i.head.appendChild(c);break;default:throw Error(r(468,n))}c[Re]=e,Oe(c),n=c}e.stateNode=n}else um(i,e.type,e.stateNode);else e.stateNode=rm(i,n,e.memoizedProps);else c!==n?(c===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):c.count--,n===null?um(i,e.type,e.stateNode):rm(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&kc(e,e.memoizedProps,l.memoizedProps)}break;case 27:Qe(t,e),Ze(e),n&512&&(Ee||l===null||kt(l,l.return)),l!==null&&n&4&&kc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Qe(t,e),Ze(e),n&512&&(Ee||l===null||kt(l,l.return)),e.flags&32){i=e.stateNode;try{il(i,"")}catch(F){ie(e,e.return,F)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,kc(e,i,l!==null?l.memoizedProps:i)),n&1024&&(Rc=!0);break;case 6:if(Qe(t,e),Ze(e),n&4){if(e.stateNode===null)throw Error(r(162));n=e.memoizedProps,l=e.stateNode;try{l.nodeValue=n}catch(F){ie(e,e.return,F)}}break;case 3:if(Gs=null,i=Nt,Nt=_s(t.containerInfo),Qe(t,e),Nt=i,Ze(e),n&4&&l!==null&&l.memoizedState.isDehydrated)try{Fl(t.containerInfo)}catch(F){ie(e,e.return,F)}Rc&&(Rc=!1,uu(e));break;case 4:n=Nt,Nt=_s(e.stateNode.containerInfo),Qe(t,e),Ze(e),Nt=n;break;case 12:Qe(t,e),Ze(e);break;case 31:Qe(t,e),Ze(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Cs(e,n)));break;case 13:Qe(t,e),Ze(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Es=Pe()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Cs(e,n)));break;case 22:i=e.memoizedState!==null;var b=l!==null&&l.memoizedState!==null,T=ta,A=Ee;if(ta=T||i,Ee=A||b,Qe(t,e),Ee=A,ta=T,Ze(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(l===null||b||ta||Ee||Ka(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){b=l=t;try{if(c=b.stateNode,i)u=c.style,typeof u.setProperty=="function"?u.setProperty("display","none","important"):u.display="none";else{x=b.stateNode;var M=b.memoizedProps.style,C=M!=null&&M.hasOwnProperty("display")?M.display:null;x.style.display=C==null||typeof C=="boolean"?"":(""+C).trim()}}catch(F){ie(b,b.return,F)}}}else if(t.tag===6){if(l===null){b=t;try{b.stateNode.nodeValue=i?"":b.memoizedProps}catch(F){ie(b,b.return,F)}}}else if(t.tag===18){if(l===null){b=t;try{var E=b.stateNode;i?em(E,!0):em(b.stateNode,!1)}catch(F){ie(b,b.return,F)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(l=n.retryQueue,l!==null&&(n.retryQueue=null,Cs(e,l))));break;case 19:Qe(t,e),Ze(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Cs(e,n)));break;case 30:break;case 21:break;default:Qe(t,e),Ze(e)}}function Ze(e){var t=e.flags;if(t&2){try{for(var l,n=e.return;n!==null;){if(au(n)){l=n;break}n=n.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var i=l.stateNode,c=Oc(e);Ts(e,c,i);break;case 5:var u=l.stateNode;l.flags&32&&(il(u,""),l.flags&=-33);var x=Oc(e);Ts(e,x,u);break;case 3:case 4:var b=l.stateNode.containerInfo,T=Oc(e);Mc(e,T,b);break;default:throw Error(r(161))}}catch(A){ie(e,e.return,A)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function uu(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;uu(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function la(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)su(e,t.alternate,t),t=t.sibling}function Ka(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ya(4,t,t.return),Ka(t);break;case 1:kt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&eu(t,t.return,l),Ka(t);break;case 27:Cn(t.stateNode);case 26:case 5:kt(t,t.return),Ka(t);break;case 22:t.memoizedState===null&&Ka(t);break;case 30:Ka(t);break;default:Ka(t)}e=e.sibling}}function na(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,c=t,u=c.flags;switch(c.tag){case 0:case 11:case 15:na(i,c,l),hn(4,c);break;case 1:if(na(i,c,l),n=c,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(T){ie(n,n.return,T)}if(n=c,i=n.updateQueue,i!==null){var x=n.stateNode;try{var b=i.shared.hiddenCallbacks;if(b!==null)for(i.shared.hiddenCallbacks=null,i=0;i<b.length;i++)$r(b[i],x)}catch(T){ie(n,n.return,T)}}l&&u&64&&Pd(c),fn(c,c.return);break;case 27:lu(c);case 26:case 5:na(i,c,l),l&&n===null&&u&4&&tu(c),fn(c,c.return);break;case 12:na(i,c,l);break;case 31:na(i,c,l),l&&u&4&&ou(i,c);break;case 13:na(i,c,l),l&&u&4&&ru(i,c);break;case 22:c.memoizedState===null&&na(i,c,l),fn(c,c.return);break;case 30:break;default:na(i,c,l)}t=t.sibling}}function Lc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&tn(l))}function Dc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&tn(e))}function St(e,t,l,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mu(e,t,l,n),t=t.sibling}function mu(e,t,l,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:St(e,t,l,n),i&2048&&hn(9,t);break;case 1:St(e,t,l,n);break;case 3:St(e,t,l,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&tn(e)));break;case 12:if(i&2048){St(e,t,l,n),e=t.stateNode;try{var c=t.memoizedProps,u=c.id,x=c.onPostCommit;typeof x=="function"&&x(u,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){ie(t,t.return,b)}}else St(e,t,l,n);break;case 31:St(e,t,l,n);break;case 13:St(e,t,l,n);break;case 23:break;case 22:c=t.stateNode,u=t.alternate,t.memoizedState!==null?c._visibility&2?St(e,t,l,n):gn(e,t):c._visibility&2?St(e,t,l,n):(c._visibility|=2,wl(e,t,l,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Lc(u,t);break;case 24:St(e,t,l,n),i&2048&&Dc(t.alternate,t);break;default:St(e,t,l,n)}}function wl(e,t,l,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,u=t,x=l,b=n,T=u.flags;switch(u.tag){case 0:case 11:case 15:wl(c,u,x,b,i),hn(8,u);break;case 23:break;case 22:var A=u.stateNode;u.memoizedState!==null?A._visibility&2?wl(c,u,x,b,i):gn(c,u):(A._visibility|=2,wl(c,u,x,b,i)),i&&T&2048&&Lc(u.alternate,u);break;case 24:wl(c,u,x,b,i),i&&T&2048&&Dc(u.alternate,u);break;default:wl(c,u,x,b,i)}t=t.sibling}}function gn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,n=t,i=n.flags;switch(n.tag){case 22:gn(l,n),i&2048&&Lc(n.alternate,n);break;case 24:gn(l,n),i&2048&&Dc(n.alternate,n);break;default:gn(l,n)}t=t.sibling}}var bn=8192;function El(e,t,l){if(e.subtreeFlags&bn)for(e=e.child;e!==null;)xu(e,t,l),e=e.sibling}function xu(e,t,l){switch(e.tag){case 26:El(e,t,l),e.flags&bn&&e.memoizedState!==null&&S0(l,Nt,e.memoizedState,e.memoizedProps);break;case 5:El(e,t,l);break;case 3:case 4:var n=Nt;Nt=_s(e.stateNode.containerInfo),El(e,t,l),Nt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=bn,bn=16777216,El(e,t,l),bn=n):El(e,t,l));break;default:El(e,t,l)}}function pu(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function vn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var n=t[l];Me=n,fu(n,e)}pu(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)hu(e),e=e.sibling}function hu(e){switch(e.tag){case 0:case 11:case 15:vn(e),e.flags&2048&&ya(9,e,e.return);break;case 3:vn(e);break;case 12:vn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ws(e)):vn(e);break;default:vn(e)}}function ws(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var n=t[l];Me=n,fu(n,e)}pu(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ya(8,t,t.return),ws(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,ws(t));break;default:ws(t)}e=e.sibling}}function fu(e,t){for(;Me!==null;){var l=Me;switch(l.tag){case 0:case 11:case 15:ya(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var n=l.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:tn(l.memoizedState.cache)}if(n=l.child,n!==null)n.return=l,Me=n;else e:for(l=e;Me!==null;){n=Me;var i=n.sibling,c=n.return;if(iu(n),n===l){Me=null;break e}if(i!==null){i.return=c,Me=i;break e}Me=c}}}var Hp={getCacheForType:function(e){var t=De(Te),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return De(Te).controller.signal}},_p=typeof WeakMap=="function"?WeakMap:Map,le=0,xe=null,Z=null,K=0,se=0,it=null,ja=!1,Al=!1,zc=!1,sa=0,ve=0,Na=0,Wa=0,Bc=0,ct=0,kl=0,yn=null,Je=null,Fc=!1,Es=0,gu=0,As=1/0,ks=null,Sa=null,Ae=0,Ta=null,Ol=null,ia=0,Hc=0,_c=null,bu=null,jn=0,Uc=null;function ot(){return(le&2)!==0&&K!==0?K&-K:k.T!==null?Vc():Do()}function vu(){if(ct===0)if((K&536870912)===0||ee){var e=Fn;Fn<<=1,(Fn&3932160)===0&&(Fn=262144),ct=e}else ct=536870912;return e=nt.current,e!==null&&(e.flags|=32),ct}function Ke(e,t,l){(e===xe&&(se===2||se===9)||e.cancelPendingCommit!==null)&&(Ml(e,0),Ca(e,K,ct,!1)),Gl(e,l),((le&2)===0||e!==xe)&&(e===xe&&((le&2)===0&&(Wa|=l),ve===4&&Ca(e,K,ct,!1)),Ot(e))}function yu(e,t,l){if((le&6)!==0)throw Error(r(327));var n=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Ul(e,t),i=n?$p(e,t):$c(e,t,!0),c=n;do{if(i===0){Al&&!n&&Ca(e,t,0,!1);break}else{if(l=e.current.alternate,c&&!Up(l)){i=$c(e,t,!1),c=!1;continue}if(i===2){if(c=t,e.errorRecoveryDisabledLanes&c)var u=0;else u=e.pendingLanes&-536870913,u=u!==0?u:u&536870912?536870912:0;if(u!==0){t=u;e:{var x=e;i=yn;var b=x.current.memoizedState.isDehydrated;if(b&&(Ml(x,u).flags|=256),u=$c(x,u,!1),u!==2){if(zc&&!b){x.errorRecoveryDisabledLanes|=c,Wa|=c,i=4;break e}c=Je,Je=i,c!==null&&(Je===null?Je=c:Je.push.apply(Je,c))}i=u}if(c=!1,i!==2)continue}}if(i===1){Ml(e,0),Ca(e,t,0,!0);break}e:{switch(n=e,c=i,c){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Ca(n,t,ct,!ja);break e;case 2:Je=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(i=Es+300-Pe(),10<i)){if(Ca(n,t,ct,!ja),_n(n,0,!0)!==0)break e;ia=t,n.timeoutHandle=Ku(ju.bind(null,n,l,Je,ks,Fc,t,ct,Wa,kl,ja,c,"Throttled",-0,0),i);break e}ju(n,l,Je,ks,Fc,t,ct,Wa,kl,ja,c,null,-0,0)}}break}while(!0);Ot(e)}function ju(e,t,l,n,i,c,u,x,b,T,A,M,C,E){if(e.timeoutHandle=-1,M=t.subtreeFlags,M&8192||(M&16785408)===16785408){M={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qt},xu(t,c,M);var F=(c&62914560)===c?Es-Pe():(c&4194048)===c?gu-Pe():0;if(F=T0(M,F),F!==null){ia=c,e.cancelPendingCommit=F(ku.bind(null,e,t,c,l,n,i,u,x,b,A,M,null,C,E)),Ca(e,c,u,!T);return}}ku(e,t,c,l,n,i,u,x,b)}function Up(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var n=0;n<l.length;n++){var i=l[n],c=i.getSnapshot;i=i.value;try{if(!at(c(),i))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ca(e,t,l,n){t&=~Bc,t&=~Wa,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var c=31-tt(i),u=1<<c;n[c]=-1,i&=~u}l!==0&&Mo(e,l,t)}function Os(){return(le&6)===0?(Nn(0),!1):!0}function Gc(){if(Z!==null){if(se===0)var e=Z.return;else e=Z,Zt=Xa=null,lc(e),jl=null,ln=0,e=Z;for(;e!==null;)Wd(e.alternate,e),e=e.return;Z=null}}function Ml(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,i0(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),ia=0,Gc(),xe=e,Z=l=It(e.current,null),K=t,se=0,it=null,ja=!1,Al=Ul(e,t),zc=!1,kl=ct=Bc=Wa=Na=ve=0,Je=yn=null,Fc=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-tt(n),c=1<<i;t|=e[i],n&=~c}return sa=t,Kn(),l}function Nu(e,t){V=null,k.H=mn,t===yl||t===ss?(t=Hr(),se=3):t===qi?(t=Hr(),se=4):se=t===vc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,it=t,Z===null&&(ve=1,vs(e,xt(t,e.current)))}function Su(){var e=nt.current;return e===null?!0:(K&4194048)===K?gt===null:(K&62914560)===K||(K&536870912)!==0?e===gt:!1}function Tu(){var e=k.H;return k.H=mn,e===null?mn:e}function Cu(){var e=k.A;return k.A=Hp,e}function Ms(){ve=4,ja||(K&4194048)!==K&&nt.current!==null||(Al=!0),(Na&134217727)===0&&(Wa&134217727)===0||xe===null||Ca(xe,K,ct,!1)}function $c(e,t,l){var n=le;le|=2;var i=Tu(),c=Cu();(xe!==e||K!==t)&&(ks=null,Ml(e,t)),t=!1;var u=ve;e:do try{if(se!==0&&Z!==null){var x=Z,b=it;switch(se){case 8:Gc(),u=6;break e;case 3:case 2:case 9:case 6:nt.current===null&&(t=!0);var T=se;if(se=0,it=null,Rl(e,x,b,T),l&&Al){u=0;break e}break;default:T=se,se=0,it=null,Rl(e,x,b,T)}}Gp(),u=ve;break}catch(A){Nu(e,A)}while(!0);return t&&e.shellSuspendCounter++,Zt=Xa=null,le=n,k.H=i,k.A=c,Z===null&&(xe=null,K=0,Kn()),u}function Gp(){for(;Z!==null;)wu(Z)}function $p(e,t){var l=le;le|=2;var n=Tu(),i=Cu();xe!==e||K!==t?(ks=null,As=Pe()+500,Ml(e,t)):Al=Ul(e,t);e:do try{if(se!==0&&Z!==null){t=Z;var c=it;t:switch(se){case 1:se=0,it=null,Rl(e,t,c,1);break;case 2:case 9:if(Br(c)){se=0,it=null,Eu(t);break}t=function(){se!==2&&se!==9||xe!==e||(se=7),Ot(e)},c.then(t,t);break e;case 3:se=7;break e;case 4:se=5;break e;case 7:Br(c)?(se=0,it=null,Eu(t)):(se=0,it=null,Rl(e,t,c,7));break;case 5:var u=null;switch(Z.tag){case 26:u=Z.memoizedState;case 5:case 27:var x=Z;if(u?mm(u):x.stateNode.complete){se=0,it=null;var b=x.sibling;if(b!==null)Z=b;else{var T=x.return;T!==null?(Z=T,Rs(T)):Z=null}break t}}se=0,it=null,Rl(e,t,c,5);break;case 6:se=0,it=null,Rl(e,t,c,6);break;case 8:Gc(),ve=6;break e;default:throw Error(r(462))}}Xp();break}catch(A){Nu(e,A)}while(!0);return Zt=Xa=null,k.H=n,k.A=i,le=l,Z!==null?0:(xe=null,K=0,Kn(),ve)}function Xp(){for(;Z!==null&&!mx();)wu(Z)}function wu(e){var t=Jd(e.alternate,e,sa);e.memoizedProps=e.pendingProps,t===null?Rs(e):Z=t}function Eu(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Yd(l,t,t.pendingProps,t.type,void 0,K);break;case 11:t=Yd(l,t,t.pendingProps,t.type.render,t.ref,K);break;case 5:lc(t);default:Wd(l,t),t=Z=Cr(t,sa),t=Jd(l,t,sa)}e.memoizedProps=e.pendingProps,t===null?Rs(e):Z=t}function Rl(e,t,l,n){Zt=Xa=null,lc(t),jl=null,ln=0;var i=t.return;try{if(Mp(e,i,t,l,K)){ve=1,vs(e,xt(l,e.current)),Z=null;return}}catch(c){if(i!==null)throw Z=i,c;ve=1,vs(e,xt(l,e.current)),Z=null;return}t.flags&32768?(ee||n===1?e=!0:Al||(K&536870912)!==0?e=!1:(ja=e=!0,(n===2||n===9||n===3||n===6)&&(n=nt.current,n!==null&&n.tag===13&&(n.flags|=16384))),Au(t,e)):Rs(t)}function Rs(e){var t=e;do{if((t.flags&32768)!==0){Au(t,ja);return}e=t.return;var l=Dp(t.alternate,t,sa);if(l!==null){Z=l;return}if(t=t.sibling,t!==null){Z=t;return}Z=t=e}while(t!==null);ve===0&&(ve=5)}function Au(e,t){do{var l=zp(e.alternate,e);if(l!==null){l.flags&=32767,Z=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Z=e;return}Z=e=l}while(e!==null);ve=6,Z=null}function ku(e,t,l,n,i,c,u,x,b){e.cancelPendingCommit=null;do Ls();while(Ae!==0);if((le&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(c=t.lanes|t.childLanes,c|=Oi,Nx(e,l,c,u,x,b),e===xe&&(Z=xe=null,K=0),Ol=t,Ta=e,ia=l,Hc=c,_c=i,bu=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ip(zn,function(){return Du(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=k.T,k.T=null,i=D.p,D.p=2,u=le,le|=4;try{Bp(e,t,l)}finally{le=u,D.p=i,k.T=n}}Ae=1,Ou(),Mu(),Ru()}}function Ou(){if(Ae===1){Ae=0;var e=Ta,t=Ol,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var n=D.p;D.p=2;var i=le;le|=4;try{du(t,e);var c=eo,u=fr(e.containerInfo),x=c.focusedElem,b=c.selectionRange;if(u!==x&&x&&x.ownerDocument&&hr(x.ownerDocument.documentElement,x)){if(b!==null&&Ci(x)){var T=b.start,A=b.end;if(A===void 0&&(A=T),"selectionStart"in x)x.selectionStart=T,x.selectionEnd=Math.min(A,x.value.length);else{var M=x.ownerDocument||document,C=M&&M.defaultView||window;if(C.getSelection){var E=C.getSelection(),F=x.textContent.length,G=Math.min(b.start,F),de=b.end===void 0?G:Math.min(b.end,F);!E.extend&&G>de&&(u=de,de=G,G=u);var j=pr(x,G),v=pr(x,de);if(j&&v&&(E.rangeCount!==1||E.anchorNode!==j.node||E.anchorOffset!==j.offset||E.focusNode!==v.node||E.focusOffset!==v.offset)){var S=M.createRange();S.setStart(j.node,j.offset),E.removeAllRanges(),G>de?(E.addRange(S),E.extend(v.node,v.offset)):(S.setEnd(v.node,v.offset),E.addRange(S))}}}}for(M=[],E=x;E=E.parentNode;)E.nodeType===1&&M.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<M.length;x++){var O=M[x];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}qs=!!Pc,eo=Pc=null}finally{le=i,D.p=n,k.T=l}}e.current=t,Ae=2}}function Mu(){if(Ae===2){Ae=0;var e=Ta,t=Ol,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var n=D.p;D.p=2;var i=le;le|=4;try{su(e,t.alternate,t)}finally{le=i,D.p=n,k.T=l}}Ae=3}}function Ru(){if(Ae===4||Ae===3){Ae=0,xx();var e=Ta,t=Ol,l=ia,n=bu;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ae=5:(Ae=0,Ol=Ta=null,Lu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Sa=null),ii(l),t=t.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(_l,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=k.T,i=D.p,D.p=2,k.T=null;try{for(var c=e.onRecoverableError,u=0;u<n.length;u++){var x=n[u];c(x.value,{componentStack:x.stack})}}finally{k.T=t,D.p=i}}(ia&3)!==0&&Ls(),Ot(e),i=e.pendingLanes,(l&261930)!==0&&(i&42)!==0?e===Uc?jn++:(jn=0,Uc=e):jn=0,Nn(0)}}function Lu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,tn(t)))}function Ls(){return Ou(),Mu(),Ru(),Du()}function Du(){if(Ae!==5)return!1;var e=Ta,t=Hc;Hc=0;var l=ii(ia),n=k.T,i=D.p;try{D.p=32>l?32:l,k.T=null,l=_c,_c=null;var c=Ta,u=ia;if(Ae=0,Ol=Ta=null,ia=0,(le&6)!==0)throw Error(r(331));var x=le;if(le|=4,hu(c.current),mu(c,c.current,u,l),le=x,Nn(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(_l,c)}catch{}return!0}finally{D.p=i,k.T=n,Lu(e,t)}}function zu(e,t,l){t=xt(l,t),t=bc(e.stateNode,t,2),e=ga(e,t,2),e!==null&&(Gl(e,2),Ot(e))}function ie(e,t,l){if(e.tag===3)zu(e,e,l);else for(;t!==null;){if(t.tag===3){zu(t,e,l);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Sa===null||!Sa.has(n))){e=xt(l,e),l=Bd(2),n=ga(t,l,2),n!==null&&(Fd(l,n,t,e),Gl(n,2),Ot(n));break}}t=t.return}}function Xc(e,t,l){var n=e.pingCache;if(n===null){n=e.pingCache=new _p;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(l)||(zc=!0,i.add(l),e=Yp.bind(null,e,t,l),t.then(e,e))}function Yp(e,t,l){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,xe===e&&(K&l)===l&&(ve===4||ve===3&&(K&62914560)===K&&300>Pe()-Es?(le&2)===0&&Ml(e,0):Bc|=l,kl===K&&(kl=0)),Ot(e)}function Bu(e,t){t===0&&(t=Oo()),e=Ua(e,t),e!==null&&(Gl(e,t),Ot(e))}function qp(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Bu(e,l)}function Vp(e,t){var l=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(l=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(r(314))}n!==null&&n.delete(t),Bu(e,l)}function Ip(e,t){return ai(e,t)}var Ds=null,Ll=null,Yc=!1,zs=!1,qc=!1,wa=0;function Ot(e){e!==Ll&&e.next===null&&(Ll===null?Ds=Ll=e:Ll=Ll.next=e),zs=!0,Yc||(Yc=!0,Zp())}function Nn(e,t){if(!qc&&zs){qc=!0;do for(var l=!1,n=Ds;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var c=0;else{var u=n.suspendedLanes,x=n.pingedLanes;c=(1<<31-tt(42|e)+1)-1,c&=i&~(u&~x),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(l=!0,Uu(n,c))}else c=K,c=_n(n,n===xe?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(c&3)===0||Ul(n,c)||(l=!0,Uu(n,c));n=n.next}while(l);qc=!1}}function Qp(){Fu()}function Fu(){zs=Yc=!1;var e=0;wa!==0&&s0()&&(e=wa);for(var t=Pe(),l=null,n=Ds;n!==null;){var i=n.next,c=Hu(n,t);c===0?(n.next=null,l===null?Ds=i:l.next=i,i===null&&(Ll=l)):(l=n,(e!==0||(c&3)!==0)&&(zs=!0)),n=i}Ae!==0&&Ae!==5||Nn(e),wa!==0&&(wa=0)}function Hu(e,t){for(var l=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var u=31-tt(c),x=1<<u,b=i[u];b===-1?((x&l)===0||(x&n)!==0)&&(i[u]=jx(x,t)):b<=t&&(e.expiredLanes|=x),c&=~x}if(t=xe,l=K,l=_n(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,l===0||e===t&&(se===2||se===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&li(n),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Ul(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(n!==null&&li(n),ii(l)){case 2:case 8:l=Ao;break;case 32:l=zn;break;case 268435456:l=ko;break;default:l=zn}return n=_u.bind(null,e),l=ai(l,n),e.callbackPriority=t,e.callbackNode=l,t}return n!==null&&n!==null&&li(n),e.callbackPriority=2,e.callbackNode=null,2}function _u(e,t){if(Ae!==0&&Ae!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ls()&&e.callbackNode!==l)return null;var n=K;return n=_n(e,e===xe?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(yu(e,n,t),Hu(e,Pe()),e.callbackNode!=null&&e.callbackNode===l?_u.bind(null,e):null)}function Uu(e,t){if(Ls())return null;yu(e,t,!0)}function Zp(){c0(function(){(le&6)!==0?ai(Eo,Qp):Fu()})}function Vc(){if(wa===0){var e=bl;e===0&&(e=Bn,Bn<<=1,(Bn&261888)===0&&(Bn=256)),wa=e}return wa}function Gu(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xn(""+e)}function $u(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Jp(e,t,l,n,i){if(t==="submit"&&l&&l.stateNode===i){var c=Gu((i[qe]||null).action),u=n.submitter;u&&(t=(t=u[qe]||null)?Gu(t.formAction):u.getAttribute("formAction"),t!==null&&(c=t,u=null));var x=new In("action","action",null,n,i);e.push({event:x,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(wa!==0){var b=u?$u(i,u):new FormData(i);mc(l,{pending:!0,data:b,method:i.method,action:c},null,b)}}else typeof c=="function"&&(x.preventDefault(),b=u?$u(i,u):new FormData(i),mc(l,{pending:!0,data:b,method:i.method,action:c},c,b))},currentTarget:i}]})}}for(var Ic=0;Ic<ki.length;Ic++){var Qc=ki[Ic],Kp=Qc.toLowerCase(),Wp=Qc[0].toUpperCase()+Qc.slice(1);jt(Kp,"on"+Wp)}jt(vr,"onAnimationEnd"),jt(yr,"onAnimationIteration"),jt(jr,"onAnimationStart"),jt("dblclick","onDoubleClick"),jt("focusin","onFocus"),jt("focusout","onBlur"),jt(pp,"onTransitionRun"),jt(hp,"onTransitionStart"),jt(fp,"onTransitionCancel"),jt(Nr,"onTransitionEnd"),nl("onMouseEnter",["mouseout","mouseover"]),nl("onMouseLeave",["mouseout","mouseover"]),nl("onPointerEnter",["pointerout","pointerover"]),nl("onPointerLeave",["pointerout","pointerover"]),Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sn));function Xu(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var n=e[l],i=n.event;n=n.listeners;e:{var c=void 0;if(t)for(var u=n.length-1;0<=u;u--){var x=n[u],b=x.instance,T=x.currentTarget;if(x=x.listener,b!==c&&i.isPropagationStopped())break e;c=x,i.currentTarget=T;try{c(i)}catch(A){Jn(A)}i.currentTarget=null,c=b}else for(u=0;u<n.length;u++){if(x=n[u],b=x.instance,T=x.currentTarget,x=x.listener,b!==c&&i.isPropagationStopped())break e;c=x,i.currentTarget=T;try{c(i)}catch(A){Jn(A)}i.currentTarget=null,c=b}}}}function J(e,t){var l=t[ci];l===void 0&&(l=t[ci]=new Set);var n=e+"__bubble";l.has(n)||(Yu(t,e,2,!1),l.add(n))}function Zc(e,t,l){var n=0;t&&(n|=4),Yu(l,e,n,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function Jc(e){if(!e[Bs]){e[Bs]=!0,Fo.forEach(function(l){l!=="selectionchange"&&(Pp.has(l)||Zc(l,!1,e),Zc(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bs]||(t[Bs]=!0,Zc("selectionchange",!1,t))}}function Yu(e,t,l,n){switch(vm(t)){case 2:var i=E0;break;case 8:i=A0;break;default:i=mo}l=i.bind(null,t,l,e),i=void 0,!fi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,l,{capture:!0,passive:i}):e.addEventListener(t,l,!0):i!==void 0?e.addEventListener(t,l,{passive:i}):e.addEventListener(t,l,!1)}function Kc(e,t,l,n,i){var c=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var x=n.stateNode.containerInfo;if(x===i)break;if(u===4)for(u=n.return;u!==null;){var b=u.tag;if((b===3||b===4)&&u.stateNode.containerInfo===i)return;u=u.return}for(;x!==null;){if(u=tl(x),u===null)return;if(b=u.tag,b===5||b===6||b===26||b===27){n=c=u;continue e}x=x.parentNode}}n=n.return}Zo(function(){var T=c,A=pi(l),M=[];e:{var C=Sr.get(e);if(C!==void 0){var E=In,F=e;switch(e){case"keypress":if(qn(l)===0)break e;case"keydown":case"keyup":E=Vx;break;case"focusin":F="focus",E=yi;break;case"focusout":F="blur",E=yi;break;case"beforeblur":case"afterblur":E=yi;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Dx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Zx;break;case vr:case yr:case jr:E=Fx;break;case Nr:E=Kx;break;case"scroll":case"scrollend":E=Rx;break;case"wheel":E=Px;break;case"copy":case"cut":case"paste":E=_x;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=er;break;case"toggle":case"beforetoggle":E=tp}var G=(t&4)!==0,de=!G&&(e==="scroll"||e==="scrollend"),j=G?C!==null?C+"Capture":null:C;G=[];for(var v=T,S;v!==null;){var O=v;if(S=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||S===null||j===null||(O=Yl(v,j),O!=null&&G.push(Tn(v,O,S))),de)break;v=v.return}0<G.length&&(C=new E(C,F,null,l,A),M.push({event:C,listeners:G}))}}if((t&7)===0){e:{if(C=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",C&&l!==xi&&(F=l.relatedTarget||l.fromElement)&&(tl(F)||F[el]))break e;if((E||C)&&(C=A.window===A?A:(C=A.ownerDocument)?C.defaultView||C.parentWindow:window,E?(F=l.relatedTarget||l.toElement,E=T,F=F?tl(F):null,F!==null&&(de=f(F),G=F.tag,F!==de||G!==5&&G!==27&&G!==6)&&(F=null)):(E=null,F=T),E!==F)){if(G=Wo,O="onMouseLeave",j="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(G=er,O="onPointerLeave",j="onPointerEnter",v="pointer"),de=E==null?C:Xl(E),S=F==null?C:Xl(F),C=new G(O,v+"leave",E,l,A),C.target=de,C.relatedTarget=S,O=null,tl(A)===T&&(G=new G(j,v+"enter",F,l,A),G.target=S,G.relatedTarget=de,O=G),de=O,E&&F)t:{for(G=e0,j=E,v=F,S=0,O=j;O;O=G(O))S++;O=0;for(var U=v;U;U=G(U))O++;for(;0<S-O;)j=G(j),S--;for(;0<O-S;)v=G(v),O--;for(;S--;){if(j===v||v!==null&&j===v.alternate){G=j;break t}j=G(j),v=G(v)}G=null}else G=null;E!==null&&qu(M,C,E,G,!1),F!==null&&de!==null&&qu(M,de,F,G,!0)}}e:{if(C=T?Xl(T):window,E=C.nodeName&&C.nodeName.toLowerCase(),E==="select"||E==="input"&&C.type==="file")var te=or;else if(ir(C))if(rr)te=up;else{te=rp;var _=op}else E=C.nodeName,!E||E.toLowerCase()!=="input"||C.type!=="checkbox"&&C.type!=="radio"?T&&mi(T.elementType)&&(te=or):te=dp;if(te&&(te=te(e,T))){cr(M,te,l,A);break e}_&&_(e,C,T),e==="focusout"&&T&&C.type==="number"&&T.memoizedProps.value!=null&&ui(C,"number",C.value)}switch(_=T?Xl(T):window,e){case"focusin":(ir(_)||_.contentEditable==="true")&&(dl=_,wi=T,Wl=null);break;case"focusout":Wl=wi=dl=null;break;case"mousedown":Ei=!0;break;case"contextmenu":case"mouseup":case"dragend":Ei=!1,gr(M,l,A);break;case"selectionchange":if(xp)break;case"keydown":case"keyup":gr(M,l,A)}var I;if(Ni)e:{switch(e){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else rl?nr(e,l)&&(W="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(W="onCompositionStart");W&&(tr&&l.locale!=="ko"&&(rl||W!=="onCompositionStart"?W==="onCompositionEnd"&&rl&&(I=Jo()):(da=A,gi="value"in da?da.value:da.textContent,rl=!0)),_=Fs(T,W),0<_.length&&(W=new Po(W,e,null,l,A),M.push({event:W,listeners:_}),I?W.data=I:(I=sr(l),I!==null&&(W.data=I)))),(I=lp?np(e,l):sp(e,l))&&(W=Fs(T,"onBeforeInput"),0<W.length&&(_=new Po("onBeforeInput","beforeinput",null,l,A),M.push({event:_,listeners:W}),_.data=I)),Jp(M,e,T,l,A)}Xu(M,t)})}function Tn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Fs(e,t){for(var l=t+"Capture",n=[];e!==null;){var i=e,c=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||c===null||(i=Yl(e,l),i!=null&&n.unshift(Tn(e,i,c)),i=Yl(e,t),i!=null&&n.push(Tn(e,i,c))),e.tag===3)return n;e=e.return}return[]}function e0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qu(e,t,l,n,i){for(var c=t._reactName,u=[];l!==null&&l!==n;){var x=l,b=x.alternate,T=x.stateNode;if(x=x.tag,b!==null&&b===n)break;x!==5&&x!==26&&x!==27||T===null||(b=T,i?(T=Yl(l,c),T!=null&&u.unshift(Tn(l,T,b))):i||(T=Yl(l,c),T!=null&&u.push(Tn(l,T,b)))),l=l.return}u.length!==0&&e.push({event:t,listeners:u})}var t0=/\r\n?/g,a0=/\u0000|\uFFFD/g;function Vu(e){return(typeof e=="string"?e:""+e).replace(t0,`
`).replace(a0,"")}function Iu(e,t){return t=Vu(t),Vu(e)===t}function re(e,t,l,n,i,c){switch(l){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||il(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&il(e,""+n);break;case"className":Gn(e,"class",n);break;case"tabIndex":Gn(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,l,n);break;case"style":Io(e,n,c);break;case"data":if(t!=="object"){Gn(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(l);break}n=Xn(""+n),e.setAttribute(l,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(l==="formAction"?(t!=="input"&&re(e,t,"name",i.name,i,null),re(e,t,"formEncType",i.formEncType,i,null),re(e,t,"formMethod",i.formMethod,i,null),re(e,t,"formTarget",i.formTarget,i,null)):(re(e,t,"encType",i.encType,i,null),re(e,t,"method",i.method,i,null),re(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(l);break}n=Xn(""+n),e.setAttribute(l,n);break;case"onClick":n!=null&&(e.onclick=qt);break;case"onScroll":n!=null&&J("scroll",e);break;case"onScrollEnd":n!=null&&J("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(l=n.__html,l!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}l=Xn(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(l,""+n):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":n===!0?e.setAttribute(l,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(l,n):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(l,n):e.removeAttribute(l);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(l):e.setAttribute(l,n);break;case"popover":J("beforetoggle",e),J("toggle",e),Un(e,"popover",n);break;case"xlinkActuate":Yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Yt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Yt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Yt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Yt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Un(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Ox.get(l)||l,Un(e,l,n))}}function Wc(e,t,l,n,i,c){switch(l){case"style":Io(e,n,c);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(r(61));if(l=n.__html,l!=null){if(i.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"children":typeof n=="string"?il(e,n):(typeof n=="number"||typeof n=="bigint")&&il(e,""+n);break;case"onScroll":n!=null&&J("scroll",e);break;case"onScrollEnd":n!=null&&J("scrollend",e);break;case"onClick":n!=null&&(e.onclick=qt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(i=l.endsWith("Capture"),t=l.slice(2,i?l.length-7:void 0),c=e[qe]||null,c=c!=null?c[l]:null,typeof c=="function"&&e.removeEventListener(t,c,i),typeof n=="function")){typeof c!="function"&&c!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,n,i);break e}l in e?e[l]=n:n===!0?e.setAttribute(l,""):Un(e,l,n)}}}function Be(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":J("error",e),J("load",e);var n=!1,i=!1,c;for(c in l)if(l.hasOwnProperty(c)){var u=l[c];if(u!=null)switch(c){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:re(e,t,c,u,l,null)}}i&&re(e,t,"srcSet",l.srcSet,l,null),n&&re(e,t,"src",l.src,l,null);return;case"input":J("invalid",e);var x=c=u=i=null,b=null,T=null;for(n in l)if(l.hasOwnProperty(n)){var A=l[n];if(A!=null)switch(n){case"name":i=A;break;case"type":u=A;break;case"checked":b=A;break;case"defaultChecked":T=A;break;case"value":c=A;break;case"defaultValue":x=A;break;case"children":case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(137,t));break;default:re(e,t,n,A,l,null)}}Xo(e,c,x,b,T,u,i,!1);return;case"select":J("invalid",e),n=u=c=null;for(i in l)if(l.hasOwnProperty(i)&&(x=l[i],x!=null))switch(i){case"value":c=x;break;case"defaultValue":u=x;break;case"multiple":n=x;default:re(e,t,i,x,l,null)}t=c,l=u,e.multiple=!!n,t!=null?sl(e,!!n,t,!1):l!=null&&sl(e,!!n,l,!0);return;case"textarea":J("invalid",e),c=i=n=null;for(u in l)if(l.hasOwnProperty(u)&&(x=l[u],x!=null))switch(u){case"value":n=x;break;case"defaultValue":i=x;break;case"children":c=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:re(e,t,u,x,l,null)}qo(e,n,i,c);return;case"option":for(b in l)l.hasOwnProperty(b)&&(n=l[b],n!=null)&&(b==="selected"?e.selected=n&&typeof n!="function"&&typeof n!="symbol":re(e,t,b,n,l,null));return;case"dialog":J("beforetoggle",e),J("toggle",e),J("cancel",e),J("close",e);break;case"iframe":case"object":J("load",e);break;case"video":case"audio":for(n=0;n<Sn.length;n++)J(Sn[n],e);break;case"image":J("error",e),J("load",e);break;case"details":J("toggle",e);break;case"embed":case"source":case"link":J("error",e),J("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(T in l)if(l.hasOwnProperty(T)&&(n=l[T],n!=null))switch(T){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:re(e,t,T,n,l,null)}return;default:if(mi(t)){for(A in l)l.hasOwnProperty(A)&&(n=l[A],n!==void 0&&Wc(e,t,A,n,l,void 0));return}}for(x in l)l.hasOwnProperty(x)&&(n=l[x],n!=null&&re(e,t,x,n,l,null))}function l0(e,t,l,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,c=null,u=null,x=null,b=null,T=null,A=null;for(E in l){var M=l[E];if(l.hasOwnProperty(E)&&M!=null)switch(E){case"checked":break;case"value":break;case"defaultValue":b=M;default:n.hasOwnProperty(E)||re(e,t,E,null,n,M)}}for(var C in n){var E=n[C];if(M=l[C],n.hasOwnProperty(C)&&(E!=null||M!=null))switch(C){case"type":c=E;break;case"name":i=E;break;case"checked":T=E;break;case"defaultChecked":A=E;break;case"value":u=E;break;case"defaultValue":x=E;break;case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(137,t));break;default:E!==M&&re(e,t,C,E,n,M)}}di(e,u,x,b,T,A,c,i);return;case"select":E=u=x=C=null;for(c in l)if(b=l[c],l.hasOwnProperty(c)&&b!=null)switch(c){case"value":break;case"multiple":E=b;default:n.hasOwnProperty(c)||re(e,t,c,null,n,b)}for(i in n)if(c=n[i],b=l[i],n.hasOwnProperty(i)&&(c!=null||b!=null))switch(i){case"value":C=c;break;case"defaultValue":x=c;break;case"multiple":u=c;default:c!==b&&re(e,t,i,c,n,b)}t=x,l=u,n=E,C!=null?sl(e,!!l,C,!1):!!n!=!!l&&(t!=null?sl(e,!!l,t,!0):sl(e,!!l,l?[]:"",!1));return;case"textarea":E=C=null;for(x in l)if(i=l[x],l.hasOwnProperty(x)&&i!=null&&!n.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:re(e,t,x,null,n,i)}for(u in n)if(i=n[u],c=l[u],n.hasOwnProperty(u)&&(i!=null||c!=null))switch(u){case"value":C=i;break;case"defaultValue":E=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(r(91));break;default:i!==c&&re(e,t,u,i,n,c)}Yo(e,C,E);return;case"option":for(var F in l)C=l[F],l.hasOwnProperty(F)&&C!=null&&!n.hasOwnProperty(F)&&(F==="selected"?e.selected=!1:re(e,t,F,null,n,C));for(b in n)C=n[b],E=l[b],n.hasOwnProperty(b)&&C!==E&&(C!=null||E!=null)&&(b==="selected"?e.selected=C&&typeof C!="function"&&typeof C!="symbol":re(e,t,b,C,n,E));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var G in l)C=l[G],l.hasOwnProperty(G)&&C!=null&&!n.hasOwnProperty(G)&&re(e,t,G,null,n,C);for(T in n)if(C=n[T],E=l[T],n.hasOwnProperty(T)&&C!==E&&(C!=null||E!=null))switch(T){case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(137,t));break;default:re(e,t,T,C,n,E)}return;default:if(mi(t)){for(var de in l)C=l[de],l.hasOwnProperty(de)&&C!==void 0&&!n.hasOwnProperty(de)&&Wc(e,t,de,void 0,n,C);for(A in n)C=n[A],E=l[A],!n.hasOwnProperty(A)||C===E||C===void 0&&E===void 0||Wc(e,t,A,C,n,E);return}}for(var j in l)C=l[j],l.hasOwnProperty(j)&&C!=null&&!n.hasOwnProperty(j)&&re(e,t,j,null,n,C);for(M in n)C=n[M],E=l[M],!n.hasOwnProperty(M)||C===E||C==null&&E==null||re(e,t,M,C,n,E)}function Qu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function n0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),n=0;n<l.length;n++){var i=l[n],c=i.transferSize,u=i.initiatorType,x=i.duration;if(c&&x&&Qu(u)){for(u=0,x=i.responseEnd,n+=1;n<l.length;n++){var b=l[n],T=b.startTime;if(T>x)break;var A=b.transferSize,M=b.initiatorType;A&&Qu(M)&&(b=b.responseEnd,u+=A*(b<x?1:(x-T)/(b-T)))}if(--n,t+=8*(c+u)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Pc=null,eo=null;function Hs(e){return e.nodeType===9?e:e.ownerDocument}function Zu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ju(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function to(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ao=null;function s0(){var e=window.event;return e&&e.type==="popstate"?e===ao?!1:(ao=e,!0):(ao=null,!1)}var Ku=typeof setTimeout=="function"?setTimeout:void 0,i0=typeof clearTimeout=="function"?clearTimeout:void 0,Wu=typeof Promise=="function"?Promise:void 0,c0=typeof queueMicrotask=="function"?queueMicrotask:typeof Wu<"u"?function(e){return Wu.resolve(null).then(e).catch(o0)}:Ku;function o0(e){setTimeout(function(){throw e})}function Ea(e){return e==="head"}function Pu(e,t){var l=t,n=0;do{var i=l.nextSibling;if(e.removeChild(l),i&&i.nodeType===8)if(l=i.data,l==="/$"||l==="/&"){if(n===0){e.removeChild(i),Fl(t);return}n--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")n++;else if(l==="html")Cn(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Cn(l);for(var c=l.firstChild;c;){var u=c.nextSibling,x=c.nodeName;c[$l]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&c.rel.toLowerCase()==="stylesheet"||l.removeChild(c),c=u}}else l==="body"&&Cn(e.ownerDocument.body);l=i}while(l);Fl(t)}function em(e,t){var l=e;e=0;do{var n=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),n&&n.nodeType===8)if(l=n.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=n}while(l)}function lo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":lo(l),oi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function r0(e,t,l,n){for(;e.nodeType===1;){var i=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[$l])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=bt(e.nextSibling),e===null)break}return null}function d0(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=bt(e.nextSibling),e===null))return null;return e}function tm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=bt(e.nextSibling),e===null))return null;return e}function no(e){return e.data==="$?"||e.data==="$~"}function so(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function u0(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var n=function(){t(),l.removeEventListener("DOMContentLoaded",n)};l.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function bt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var io=null;function am(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return bt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function lm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function nm(e,t,l){switch(t=Hs(l),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Cn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);oi(e)}var vt=new Map,sm=new Set;function _s(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ca=D.d;D.d={f:m0,r:x0,D:p0,C:h0,L:f0,m:g0,X:v0,S:b0,M:y0};function m0(){var e=ca.f(),t=Os();return e||t}function x0(e){var t=al(e);t!==null&&t.tag===5&&t.type==="form"?Nd(t):ca.r(e)}var Dl=typeof document>"u"?null:document;function im(e,t,l){var n=Dl;if(n&&typeof t=="string"&&t){var i=ut(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof l=="string"&&(i+='[crossorigin="'+l+'"]'),sm.has(i)||(sm.add(i),e={rel:e,crossOrigin:l,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),Be(t,"link",e),Oe(t),n.head.appendChild(t)))}}function p0(e){ca.D(e),im("dns-prefetch",e,null)}function h0(e,t){ca.C(e,t),im("preconnect",e,t)}function f0(e,t,l){ca.L(e,t,l);var n=Dl;if(n&&e&&t){var i='link[rel="preload"][as="'+ut(t)+'"]';t==="image"&&l&&l.imageSrcSet?(i+='[imagesrcset="'+ut(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(i+='[imagesizes="'+ut(l.imageSizes)+'"]')):i+='[href="'+ut(e)+'"]';var c=i;switch(t){case"style":c=zl(e);break;case"script":c=Bl(e)}vt.has(c)||(e=B({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),vt.set(c,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(wn(c))||t==="script"&&n.querySelector(En(c))||(t=n.createElement("link"),Be(t,"link",e),Oe(t),n.head.appendChild(t)))}}function g0(e,t){ca.m(e,t);var l=Dl;if(l&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+ut(n)+'"][href="'+ut(e)+'"]',c=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Bl(e)}if(!vt.has(c)&&(e=B({rel:"modulepreload",href:e},t),vt.set(c,e),l.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(En(c)))return}n=l.createElement("link"),Be(n,"link",e),Oe(n),l.head.appendChild(n)}}}function b0(e,t,l){ca.S(e,t,l);var n=Dl;if(n&&e){var i=ll(n).hoistableStyles,c=zl(e);t=t||"default";var u=i.get(c);if(!u){var x={loading:0,preload:null};if(u=n.querySelector(wn(c)))x.loading=5;else{e=B({rel:"stylesheet",href:e,"data-precedence":t},l),(l=vt.get(c))&&co(e,l);var b=u=n.createElement("link");Oe(b),Be(b,"link",e),b._p=new Promise(function(T,A){b.onload=T,b.onerror=A}),b.addEventListener("load",function(){x.loading|=1}),b.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Us(u,t,n)}u={type:"stylesheet",instance:u,count:1,state:x},i.set(c,u)}}}function v0(e,t){ca.X(e,t);var l=Dl;if(l&&e){var n=ll(l).hoistableScripts,i=Bl(e),c=n.get(i);c||(c=l.querySelector(En(i)),c||(e=B({src:e,async:!0},t),(t=vt.get(i))&&oo(e,t),c=l.createElement("script"),Oe(c),Be(c,"link",e),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(i,c))}}function y0(e,t){ca.M(e,t);var l=Dl;if(l&&e){var n=ll(l).hoistableScripts,i=Bl(e),c=n.get(i);c||(c=l.querySelector(En(i)),c||(e=B({src:e,async:!0,type:"module"},t),(t=vt.get(i))&&oo(e,t),c=l.createElement("script"),Oe(c),Be(c,"link",e),l.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},n.set(i,c))}}function cm(e,t,l,n){var i=(i=Q.current)?_s(i):null;if(!i)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=zl(l.href),l=ll(i).hoistableStyles,n=l.get(t),n||(n={type:"style",instance:null,count:0,state:null},l.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=zl(l.href);var c=ll(i).hoistableStyles,u=c.get(e);if(u||(i=i.ownerDocument||i,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,u),(c=i.querySelector(wn(e)))&&!c._p&&(u.instance=c,u.state.loading=5),vt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},vt.set(e,l),c||j0(i,e,l,u.state))),t&&n===null)throw Error(r(528,""));return u}if(t&&n!==null)throw Error(r(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Bl(l),l=ll(i).hoistableScripts,n=l.get(t),n||(n={type:"script",instance:null,count:0,state:null},l.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function zl(e){return'href="'+ut(e)+'"'}function wn(e){return'link[rel="stylesheet"]['+e+"]"}function om(e){return B({},e,{"data-precedence":e.precedence,precedence:null})}function j0(e,t,l,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Be(t,"link",l),Oe(t),e.head.appendChild(t))}function Bl(e){return'[src="'+ut(e)+'"]'}function En(e){return"script[async]"+e}function rm(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+ut(l.href)+'"]');if(n)return t.instance=n,Oe(n),n;var i=B({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Oe(n),Be(n,"style",i),Us(n,l.precedence,e),t.instance=n;case"stylesheet":i=zl(l.href);var c=e.querySelector(wn(i));if(c)return t.state.loading|=4,t.instance=c,Oe(c),c;n=om(l),(i=vt.get(i))&&co(n,i),c=(e.ownerDocument||e).createElement("link"),Oe(c);var u=c;return u._p=new Promise(function(x,b){u.onload=x,u.onerror=b}),Be(c,"link",n),t.state.loading|=4,Us(c,l.precedence,e),t.instance=c;case"script":return c=Bl(l.src),(i=e.querySelector(En(c)))?(t.instance=i,Oe(i),i):(n=l,(i=vt.get(c))&&(n=B({},l),oo(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),Oe(i),Be(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,Us(n,l.precedence,e));return t.instance}function Us(e,t,l){for(var n=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,c=i,u=0;u<n.length;u++){var x=n[u];if(x.dataset.precedence===t)c=x;else if(c!==i)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function co(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function oo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Gs=null;function dm(e,t,l){if(Gs===null){var n=new Map,i=Gs=new Map;i.set(l,n)}else i=Gs,n=i.get(l),n||(n=new Map,i.set(l,n));if(n.has(e))return n;for(n.set(e,null),l=l.getElementsByTagName(e),i=0;i<l.length;i++){var c=l[i];if(!(c[$l]||c[Re]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var u=c.getAttribute(t)||"";u=e+u;var x=n.get(u);x?x.push(c):n.set(u,[c])}}return n}function um(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function N0(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function mm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function S0(e,t,l,n){if(l.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var i=zl(n.href),c=t.querySelector(wn(i));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=$s.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=c,Oe(c);return}c=t.ownerDocument||t,n=om(n),(i=vt.get(i))&&co(n,i),c=c.createElement("link"),Oe(c);var u=c;u._p=new Promise(function(x,b){u.onload=x,u.onerror=b}),Be(c,"link",n),l.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=$s.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var ro=0;function T0(e,t){return e.stylesheets&&e.count===0&&Ys(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var n=setTimeout(function(){if(e.stylesheets&&Ys(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&ro===0&&(ro=62500*n0());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ys(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>ro?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function $s(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ys(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xs=null;function Ys(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xs=new Map,t.forEach(C0,e),Xs=null,$s.call(e))}function C0(e,t){if(!(t.state.loading&4)){var l=Xs.get(e);if(l)var n=l.get(null);else{l=new Map,Xs.set(e,l);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<i.length;c++){var u=i[c];(u.nodeName==="LINK"||u.getAttribute("media")!=="not all")&&(l.set(u.dataset.precedence,u),n=u)}n&&l.set(null,n)}i=t.instance,u=i.getAttribute("data-precedence"),c=l.get(u)||n,c===n&&l.set(null,i),l.set(u,i),this.count++,n=$s.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),c?c.parentNode.insertBefore(i,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var An={$$typeof:Fe,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function w0(e,t,l,n,i,c,u,x,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=c,this.onRecoverableError=u,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function xm(e,t,l,n,i,c,u,x,b,T,A,M){return e=new w0(e,t,l,u,b,T,A,M,x),t=1,c===!0&&(t|=24),c=lt(3,null,null,t),e.current=c,c.stateNode=e,t=$i(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:n,isDehydrated:l,cache:t},Vi(c),e}function pm(e){return e?(e=xl,e):xl}function hm(e,t,l,n,i,c){i=pm(i),n.context===null?n.context=i:n.pendingContext=i,n=fa(t),n.payload={element:l},c=c===void 0?null:c,c!==null&&(n.callback=c),l=ga(e,n,t),l!==null&&(Ke(l,e,t),sn(l,e,t))}function fm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function uo(e,t){fm(e,t),(e=e.alternate)&&fm(e,t)}function gm(e){if(e.tag===13||e.tag===31){var t=Ua(e,67108864);t!==null&&Ke(t,e,67108864),uo(e,67108864)}}function bm(e){if(e.tag===13||e.tag===31){var t=ot();t=si(t);var l=Ua(e,t);l!==null&&Ke(l,e,t),uo(e,t)}}var qs=!0;function E0(e,t,l,n){var i=k.T;k.T=null;var c=D.p;try{D.p=2,mo(e,t,l,n)}finally{D.p=c,k.T=i}}function A0(e,t,l,n){var i=k.T;k.T=null;var c=D.p;try{D.p=8,mo(e,t,l,n)}finally{D.p=c,k.T=i}}function mo(e,t,l,n){if(qs){var i=xo(n);if(i===null)Kc(e,t,n,Vs,l),ym(e,n);else if(O0(i,e,t,l,n))n.stopPropagation();else if(ym(e,n),t&4&&-1<k0.indexOf(e)){for(;i!==null;){var c=al(i);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var u=za(c.pendingLanes);if(u!==0){var x=c;for(x.pendingLanes|=2,x.entangledLanes|=2;u;){var b=1<<31-tt(u);x.entanglements[1]|=b,u&=~b}Ot(c),(le&6)===0&&(As=Pe()+500,Nn(0))}}break;case 31:case 13:x=Ua(c,2),x!==null&&Ke(x,c,2),Os(),uo(c,2)}if(c=xo(n),c===null&&Kc(e,t,n,Vs,l),c===i)break;i=c}i!==null&&n.stopPropagation()}else Kc(e,t,n,null,l)}}function xo(e){return e=pi(e),po(e)}var Vs=null;function po(e){if(Vs=null,e=tl(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=g(t),e!==null)return e;e=null}else if(l===31){if(e=N(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vs=e,null}function vm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(px()){case Eo:return 2;case Ao:return 8;case zn:case hx:return 32;case ko:return 268435456;default:return 32}default:return 32}}var ho=!1,Aa=null,ka=null,Oa=null,kn=new Map,On=new Map,Ma=[],k0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(e,t){switch(e){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":kn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(t.pointerId)}}function Mn(e,t,l,n,i,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:l,eventSystemFlags:n,nativeEvent:c,targetContainers:[i]},t!==null&&(t=al(t),t!==null&&gm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function O0(e,t,l,n,i){switch(t){case"focusin":return Aa=Mn(Aa,e,t,l,n,i),!0;case"dragenter":return ka=Mn(ka,e,t,l,n,i),!0;case"mouseover":return Oa=Mn(Oa,e,t,l,n,i),!0;case"pointerover":var c=i.pointerId;return kn.set(c,Mn(kn.get(c)||null,e,t,l,n,i)),!0;case"gotpointercapture":return c=i.pointerId,On.set(c,Mn(On.get(c)||null,e,t,l,n,i)),!0}return!1}function jm(e){var t=tl(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=g(l),t!==null){e.blockedOn=t,zo(e.priority,function(){bm(l)});return}}else if(t===31){if(t=N(l),t!==null){e.blockedOn=t,zo(e.priority,function(){bm(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Is(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=xo(e.nativeEvent);if(l===null){l=e.nativeEvent;var n=new l.constructor(l.type,l);xi=n,l.target.dispatchEvent(n),xi=null}else return t=al(l),t!==null&&gm(t),e.blockedOn=l,!1;t.shift()}return!0}function Nm(e,t,l){Is(e)&&l.delete(t)}function M0(){ho=!1,Aa!==null&&Is(Aa)&&(Aa=null),ka!==null&&Is(ka)&&(ka=null),Oa!==null&&Is(Oa)&&(Oa=null),kn.forEach(Nm),On.forEach(Nm)}function Qs(e,t){e.blockedOn===t&&(e.blockedOn=null,ho||(ho=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,M0)))}var Zs=null;function Sm(e){Zs!==e&&(Zs=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Zs===e&&(Zs=null);for(var t=0;t<e.length;t+=3){var l=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(po(n||l)===null)continue;break}var c=al(l);c!==null&&(e.splice(t,3),t-=3,mc(c,{pending:!0,data:i,method:l.method,action:n},n,i))}}))}function Fl(e){function t(b){return Qs(b,e)}Aa!==null&&Qs(Aa,e),ka!==null&&Qs(ka,e),Oa!==null&&Qs(Oa,e),kn.forEach(t),On.forEach(t);for(var l=0;l<Ma.length;l++){var n=Ma[l];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ma.length&&(l=Ma[0],l.blockedOn===null);)jm(l),l.blockedOn===null&&Ma.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(n=0;n<l.length;n+=3){var i=l[n],c=l[n+1],u=i[qe]||null;if(typeof c=="function")u||Sm(l);else if(u){var x=null;if(c&&c.hasAttribute("formAction")){if(i=c,u=c[qe]||null)x=u.formAction;else if(po(i)!==null)continue}else x=u.action;typeof x=="function"?l[n+1]=x:(l.splice(n,3),n-=3),Sm(l)}}}function Tm(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(u){return i=u})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(l,20)}function l(){if(!n&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function fo(e){this._internalRoot=e}Js.prototype.render=fo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var l=t.current,n=ot();hm(l,n,e,t,null,null)},Js.prototype.unmount=fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hm(e.current,2,null,e,null,null),Os(),t[el]=null}};function Js(e){this._internalRoot=e}Js.prototype.unstable_scheduleHydration=function(e){if(e){var t=Do();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Ma.length&&t!==0&&t<Ma[l].priority;l++);Ma.splice(l,0,e),l===0&&jm(e)}};var Cm=o.version;if(Cm!=="19.2.4")throw Error(r(527,Cm,"19.2.4"));D.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(t),e=e!==null?L(e):null,e=e===null?null:e.stateNode,e};var R0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ks.isDisabled&&Ks.supportsFiber)try{_l=Ks.inject(R0),et=Ks}catch{}}return Ln.createRoot=function(e,t){if(!m(e))throw Error(r(299));var l=!1,n="",i=Rd,c=Ld,u=Dd;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=xm(e,1,!1,null,null,l,n,null,i,c,u,Tm),e[el]=t.current,Jc(e),new fo(t)},Ln.hydrateRoot=function(e,t,l){if(!m(e))throw Error(r(299));var n=!1,i="",c=Rd,u=Ld,x=Dd,b=null;return l!=null&&(l.unstable_strictMode===!0&&(n=!0),l.identifierPrefix!==void 0&&(i=l.identifierPrefix),l.onUncaughtError!==void 0&&(c=l.onUncaughtError),l.onCaughtError!==void 0&&(u=l.onCaughtError),l.onRecoverableError!==void 0&&(x=l.onRecoverableError),l.formState!==void 0&&(b=l.formState)),t=xm(e,1,!0,t,l??null,n,i,b,c,u,x,Tm),t.context=pm(null),l=t.current,n=ot(),n=si(n),i=fa(n),i.callback=null,ga(l,i,n),l=n,t.current.lanes=l,Gl(t,l),Ot(t),e[el]=t.current,Jc(e),new Js(t)},Ln.version="19.2.4",Ln}var zm;function Y0(){if(zm)return vo.exports;zm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(o){console.error(o)}}return s(),vo.exports=X0(),vo.exports}var q0=Y0();const V0=[{id:1,title:"Introduction",subtitle:"Why Study Programming Languages?",color:"#f97316"},{id:2,title:"Programming Language Syntax",subtitle:"From Characters to Parse Trees",color:"#8b5cf6"},{id:3,title:"Names, Scopes, and Bindings",subtitle:"The Foundation of Program Organization",color:"#06b6d4"},{id:4,title:"Semantic Analysis",subtitle:"Understanding Program Meaning",color:"#10b981"},{id:5,title:"Target Machine Architecture",subtitle:"Data in Memory",color:"#f59e0b"},{id:6,title:"Control Flow",subtitle:"Conditionals, Loops, and Jumps",color:"#ec4899"},{id:7,title:"Type Systems",subtitle:"Static and Dynamic Typing",color:"#6366f1"},{id:8,title:"Composite Types",subtitle:"Records, Arrays, and Unions",color:"#14b8a6"},{id:9,title:"Subroutines",subtitle:"Calls, Stack, and Activation",color:"#f43f5e"},{id:10,title:"Object-Oriented Programming",subtitle:"Classes and Inheritance",color:"#8b5cf6"},{id:11,title:"Functional Programming",subtitle:"First-Class Functions",color:"#22c55e"},{id:12,title:"Logic Programming",subtitle:"Unification and Resolution",color:"#3b82f6"}];function I0({onSelectChapter:s}){return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[a.jsx("header",{className:"border-b border-slate-700 bg-slate-900/80 backdrop-blur-sm",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Programming Language Pragmatics"}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Fourth Edition  Michael L. Scott  Interactive Slides"})]})}),a.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-12",children:[a.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Chapters"}),a.jsx("p",{className:"text-slate-400 mb-10",children:"Select a chapter to view its slides."}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:V0.map(o=>a.jsxs("button",{onClick:()=>s(o.id),className:"group text-left rounded-xl bg-slate-800/80 border border-slate-700 p-6 hover:border-slate-500 hover:bg-slate-800 transition-all focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 focus:ring-slate-500",children:[a.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-2xl font-bold text-white mb-4",style:{backgroundColor:o.color},children:o.id}),a.jsxs("h3",{className:"text-xl font-bold text-white group-hover:opacity-90",style:{color:o.color},children:["Chapter ",o.id,": ",o.title]}),o.subtitle&&a.jsx("p",{className:"text-slate-400 text-sm mt-2",children:o.subtitle}),a.jsx("p",{className:"text-slate-500 text-xs mt-3",children:"View slides "})]},o.id))})]}),a.jsx("footer",{className:"border-t border-slate-700 mt-16 py-6",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center text-slate-500 text-sm",children:["Use arrow keys or on-screen controls to navigate. Press ",a.jsx("kbd",{className:"px-1.5 py-0.5 bg-slate-700 rounded text-slate-300",children:"M"})," for menu."]})})]})}const Mt=[{id:1,section:"intro",type:"title",title:"Chapter 1: Introduction",content:{subtitle:"Why Study Programming Languages?",topics:["Language Categories","Compilation vs Interpretation","Phases of Compilation","Lexical Analysis","Parsing","Semantic Analysis"]}},{id:2,section:"intro",type:"concept",title:"Programming Language Levels",content:{description:"Three categories of programming languages:",items:[{icon:"",text:"Machine Languages",detail:"Binary code - the ONLY language CPUs understand directly"},{icon:"",text:"Assembly Languages",detail:"Low-level symbolic representation (mov, add, jmp)"},{icon:"",text:"High-Level Languages",detail:"Abstracted from hardware (C, Java, Python, etc.)"}]},interactive:{type:"language-levels"}},{id:3,section:"intro",type:"concept",title:"Why Study Programming Languages?",content:{description:"Understanding languages makes you a better programmer:",items:[{icon:"",text:"Choose the Right Tool",detail:"C for systems, Python for ML, JavaScript for web"},{icon:"",text:"Learn New Languages Faster",detail:"Concepts transfer between languages"},{icon:"",text:"Use Languages Better",detail:"Understand obscure features and implementation costs"},{icon:"",text:"Simulate Missing Features",detail:"Implement recursion, OOP, etc. in languages that lack them"}]}},{id:4,section:"intro",type:"concept",title:"What Makes a Language Successful?",content:{description:"Factors that contribute to language adoption:",items:[{icon:"",text:"Easy to Learn",detail:"Python, BASIC, Pascal, Go"},{icon:"",text:"Expressive Power",detail:"C, Lisp, Perl - powerful once fluent"},{icon:"",text:"Fast Execution",detail:"C, C++, Fortran, Rust - compile to efficient code"},{icon:"",text:"Corporate Backing",detail:"Java (Oracle), C# (Microsoft), Swift (Apple), Go (Google)"},{icon:"",text:"Free & Accessible",detail:"Python, JavaScript, Java - widely available"}]}},{id:5,section:"paradigms",type:"concept",title:"Programming Paradigms",content:{description:"Languages grouped by computational model:",items:[{icon:"",text:"Imperative - von Neumann",detail:"Fortran, C, Pascal, Basic"},{icon:"",text:"Imperative - Object-Oriented",detail:"Smalltalk, C++, Java, Python"},{icon:"",text:"Imperative - Scripting",detail:"Perl, Python, JavaScript, PHP, Ruby"},{icon:"",text:"Declarative - Functional",detail:"Scheme, ML, Haskell, Lisp"},{icon:"",text:"Declarative - Logic",detail:"Prolog, Datalog"}]},interactive:{type:"paradigm-explorer"}},{id:6,section:"compilation",type:"comparison",title:"Compilation vs Interpretation",content:{approaches:[{name:"Compilation",characteristics:["Translate entire program before execution","Compiler goes away after translation","Better performance (optimizations)","Less flexibility at runtime"],examples:"C, C++, Rust, Go"},{name:"Interpretation",characteristics:["Execute program directly, line by line","Interpreter stays during execution","Greater flexibility","Better error messages"],examples:"Python, JavaScript, Ruby"}]}},{id:7,section:"compilation",type:"concept",title:"The Compilation Pipeline",content:{description:"Source code  Executable through multiple stages:",items:[{icon:"",text:"Source Program",detail:"Human-readable code (e.g., .c, .java)"},{icon:"",text:"Compiler",detail:"Translates to target language"},{icon:"",text:"Linker",detail:"Combines with libraries"},{icon:"",text:"Executable",detail:"Machine code ready to run"}]},interactive:{type:"compilation-pipeline"}},{id:8,section:"compilation",type:"concept",title:"Hybrid Approaches",content:{description:"Most modern implementations mix compilation and interpretation:",items:[{icon:"",text:"Java",detail:"Compile to bytecode  JVM interprets/JIT compiles"},{icon:"",text:"C#/.NET",detail:"Compile to CIL  CLR JIT compiles"},{icon:"",text:"Python",detail:"Compile to bytecode  Python VM interprets"},{icon:"",text:"JavaScript",detail:"JIT compilation in modern engines (V8, SpiderMonkey)"}]}},{id:9,section:"compilation",type:"concept",title:"Just-In-Time (JIT) Compilation",content:{description:"Compile at runtime for the best of both worlds:",items:[{icon:"",text:"Delayed Compilation",detail:"Wait until code is actually needed"},{icon:"",text:"Hot Spot Optimization",detail:"Optimize frequently executed code paths"},{icon:"",text:"Profile-Guided",detail:"Use runtime info to make better decisions"},{icon:"",text:"Speculative",detail:"Assume types, deoptimize if wrong"}]}},{id:10,section:"phases",type:"concept",title:"Phases of Compilation",content:{description:"A compiler works in distinct phases:",items:[{icon:"1",text:"Lexical Analysis (Scanning)",detail:"Characters  Tokens"},{icon:"2",text:"Syntax Analysis (Parsing)",detail:"Tokens  Parse Tree"},{icon:"3",text:"Semantic Analysis",detail:"Check types, resolve names"},{icon:"4",text:"Intermediate Code Gen",detail:"Parse Tree  IR"},{icon:"5",text:"Optimization",detail:"Improve IR"},{icon:"6",text:"Code Generation",detail:"IR  Target Code"}]},interactive:{type:"compiler-phases"}},{id:11,section:"phases",type:"concept",title:"Lexical Analysis (Scanning)",content:{description:"Break source code into tokens - the smallest meaningful units:",items:[{icon:"",text:"Keywords",detail:"if, while, for, return, class"},{icon:"",text:"Identifiers",detail:"Variable and function names"},{icon:"",text:"Literals",detail:"Numbers, strings, characters"},{icon:"",text:"Operators",detail:"+, -, *, /, ==, &&"},{icon:"",text:"Punctuation",detail:"( ) { } [ ] ; ,"}],note:"Implemented using DFAs (Deterministic Finite Automata)"},interactive:{type:"tokenizer"}},{id:12,section:"phases",type:"concept",title:"Syntax Analysis (Parsing)",content:{description:"Organize tokens into a hierarchical structure:",items:[{icon:"",text:"Context-Free Grammar",detail:"Rules defining valid syntax"},{icon:"",text:"Parse Tree",detail:"Full derivation structure"},{icon:"",text:"Abstract Syntax Tree",detail:"Simplified tree (no punctuation)"},{icon:"",text:"Syntax Errors",detail:"Report invalid structure"}],note:"Implemented using PDAs (Pushdown Automata)"}},{id:13,section:"phases",type:"concept",title:"Context-Free Grammars",content:{description:"Rules that define the structure of valid programs:",code:`// Example grammar for while loops
statement  while ( expression ) statement
statement  { statement-list }
statement  identifier = expression ;

expression  expression + term
expression  term
term  identifier | number`},interactive:{type:"grammar-demo"}},{id:14,section:"phases",type:"concept",title:"Semantic Analysis",content:{description:"Discover and check the meaning of the program:",items:[{icon:"",text:"Type Checking",detail:"Ensure operations are type-compatible"},{icon:"",text:"Name Resolution",detail:"Link identifiers to declarations"},{icon:"",text:"Symbol Table",detail:"Track all identifiers and their attributes"},{icon:"",text:"Static vs Dynamic",detail:"Compile-time vs runtime checks"}]}},{id:15,section:"phases",type:"concept",title:"The Symbol Table",content:{description:"Central data structure tracking all program identifiers:",items:[{icon:"",text:"Name",detail:"The identifier string"},{icon:"",text:"Type",detail:"int, float, function, class, etc."},{icon:"",text:"Scope",detail:"Where the identifier is visible"},{icon:"",text:"Location",detail:"Memory address or register"},{icon:"",text:"Size",detail:"How much memory it needs"}]},interactive:{type:"symbol-table"}},{id:16,section:"phases",type:"concept",title:"Intermediate Representation (IR)",content:{description:"Machine-independent code between front and back end:",items:[{icon:"",text:"Tree-based IR",detail:"AST or DAG"},{icon:"",text:"Three-Address Code",detail:"x = y op z format"},{icon:"",text:"Stack Machine Code",detail:"Like Java bytecode"},{icon:"",text:"SSA Form",detail:"Static Single Assignment"}],note:"Allows same front-end for multiple targets, same back-end for multiple languages"}},{id:17,section:"phases",type:"concept",title:"Code Optimization",content:{description:"Transform code to run faster or use less space:",items:[{icon:"",text:"Dead Code Elimination",detail:"Remove unreachable code"},{icon:"",text:"Constant Folding",detail:"Compute constants at compile time"},{icon:"",text:"Loop Optimization",detail:"Unrolling, invariant motion"},{icon:"",text:"Register Allocation",detail:"Minimize memory access"},{icon:"",text:"Inlining",detail:"Replace function calls with body"}]}},{id:18,section:"phases",type:"concept",title:"Code Generation",content:{description:"Translate IR to target machine code:",items:[{icon:"",text:"Instruction Selection",detail:"Choose machine instructions for IR ops"},{icon:"",text:"Register Allocation",detail:"Assign variables to registers"},{icon:"",text:"Instruction Scheduling",detail:"Order instructions for pipeline efficiency"},{icon:"",text:"Memory Layout",detail:"Assign addresses to data"}]}},{id:19,section:"example",type:"concept",title:"Example: GCD Program",content:{description:"Let's trace a simple program through compilation:",code:`int main() {
    int i = getint(), j = getint();
    while (i != j) {
        if (i > j) i = i - j;
        else j = j - i;
    }
    putint(i);
}`},interactive:{type:"gcd-compilation"}},{id:20,section:"summary",type:"summary",title:"Chapter 1 Summary",content:{sections:[{title:"Language Concepts",points:["Machine  Assembly  High-level","Imperative vs Declarative paradigms","Compilation vs Interpretation"]},{title:"Compilation Phases",points:["Lexical: chars  tokens (DFA)","Syntax: tokens  tree (CFG)","Semantic: type check, resolve names"]},{title:"Back End",points:["Intermediate representation (IR)","Optimization transforms","Target code generation"]}]}}],Q0=()=>{const[s,o]=w.useState("high"),d={high:{name:"High-Level (C)",code:"int sum = a + b;",desc:"Human readable, portable, abstracted from hardware"},asm:{name:"Assembly (x86)",code:`mov eax, [a]
add eax, [b]
mov [sum], eax`,desc:"Symbolic, 1-to-1 with machine code, architecture-specific"},machine:{name:"Machine Code",code:`8B 45 FC
03 45 F8
89 45 F4`,desc:"Binary/hex, directly executed by CPU, not human readable"}},r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-orange-400 text-lg mb-4 font-mono",children:"Interactive: Language Levels"}),a.jsx("div",{className:"flex gap-3 mb-4 justify-center",children:Object.entries(d).map(([m,f])=>a.jsx("button",{onClick:()=>o(m),className:`px-4 py-2 rounded-lg text-lg ${s===m?"bg-orange-500 text-white":"bg-slate-700"}`,children:m==="high"?"High-Level":m==="asm"?"Assembly":"Machine"},m))}),a.jsxs("div",{className:"bg-slate-900 p-5 rounded-lg mb-4",children:[a.jsx("div",{className:"text-orange-400 font-bold mb-2",children:r.name}),a.jsx("pre",{className:"text-green-400 font-mono text-xl",children:r.code})]}),a.jsx("div",{className:"bg-orange-500/20 p-4 rounded-lg",children:a.jsx("div",{className:"text-slate-300",children:r.desc})}),a.jsxs("div",{className:"mt-4 flex justify-center items-center gap-4",children:[a.jsx("div",{className:`px-4 py-2 rounded ${s==="high"?"bg-orange-500":"bg-slate-700"}`,children:"High"}),a.jsx("span",{className:"text-slate-500",children:""}),a.jsx("div",{className:`px-4 py-2 rounded ${s==="asm"?"bg-orange-500":"bg-slate-700"}`,children:"Assembly"}),a.jsx("span",{className:"text-slate-500",children:""}),a.jsx("div",{className:`px-4 py-2 rounded ${s==="machine"?"bg-orange-500":"bg-slate-700"}`,children:"Machine"})]})]})},Z0=()=>{const[s,o]=w.useState("imperative"),d={imperative:{name:"Imperative",desc:"Describe HOW to compute step by step",code:`// Sum of 1 to n
int sum = 0;
for (int i = 1; i <= n; i++) {
    sum = sum + i;
}`,langs:["C","Java","Python","JavaScript"]},functional:{name:"Functional",desc:"Describe WHAT to compute using functions",code:`-- Sum of 1 to n
sum [1..n]
-- or
foldr (+) 0 [1..n]`,langs:["Haskell","Lisp","ML","Erlang"]},logic:{name:"Logic",desc:"Describe WHAT is true, let system find solution",code:`% Sum of 1 to N
sum(0, 0).
sum(N, S) :- 
    N > 0,
    N1 is N - 1,
    sum(N1, S1),
    S is S1 + N.`,langs:["Prolog","Datalog","Mercury"]}},r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-orange-400 text-lg mb-4 font-mono",children:"Interactive: Programming Paradigms"}),a.jsx("div",{className:"flex gap-3 mb-4 justify-center",children:Object.keys(d).map(m=>a.jsx("button",{onClick:()=>o(m),className:`px-5 py-2 rounded-lg text-lg capitalize ${s===m?"bg-orange-500 text-white":"bg-slate-700"}`,children:m},m))}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-orange-400 font-bold text-xl mb-1",children:r.name}),a.jsx("div",{className:"text-slate-400",children:r.desc})]}),a.jsx("div",{className:"bg-slate-900 p-4 rounded-lg mb-4",children:a.jsx("pre",{className:"text-green-400 font-mono text-base",children:r.code})}),a.jsx("div",{className:"flex gap-2 justify-center flex-wrap",children:r.langs.map(m=>a.jsx("span",{className:"px-3 py-1 bg-orange-500/20 text-orange-400 rounded-full",children:m},m))})]})},J0=()=>{const[s,o]=w.useState(0),d=[{name:"Source",icon:"",file:"program.c",desc:"Human-readable source code"},{name:"Preprocessor",icon:"",file:"program.i",desc:"Expand macros, includes"},{name:"Compiler",icon:"",file:"program.s",desc:"Translate to assembly"},{name:"Assembler",icon:"",file:"program.o",desc:"Translate to object code"},{name:"Linker",icon:"",file:"program",desc:"Combine with libraries"},{name:"Executable",icon:"",file:"./program",desc:"Ready to run!"}];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-orange-400 text-lg mb-4 font-mono",children:"Interactive: Compilation Pipeline"}),a.jsx("div",{className:"flex items-center justify-center gap-2 mb-6 flex-wrap",children:d.map((r,m)=>a.jsxs(H0.Fragment,{children:[a.jsxs("button",{onClick:()=>o(m),className:`flex flex-col items-center p-3 rounded-lg ${s===m?"bg-orange-500":"bg-slate-700"}`,children:[a.jsx("span",{className:"text-2xl",children:r.icon}),a.jsx("span",{className:"text-xs mt-1",children:r.name})]}),m<d.length-1&&a.jsx("span",{className:"text-slate-500 text-xl",children:""})]},m))}),a.jsxs("div",{className:"bg-slate-900 p-5 rounded-lg",children:[a.jsx("div",{className:"text-orange-400 font-bold text-xl",children:d[s].name}),a.jsx("div",{className:"text-green-400 font-mono mt-2",children:d[s].file}),a.jsx("div",{className:"text-slate-300 mt-2",children:d[s].desc})]}),a.jsxs("div",{className:"flex gap-3 justify-center mt-4",children:[a.jsx("button",{onClick:()=>o(r=>Math.max(0,r-1)),disabled:s===0,className:"px-4 py-2 bg-slate-700 rounded disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>o(r=>Math.min(d.length-1,r+1)),disabled:s>=d.length-1,className:"px-4 py-2 bg-orange-600 rounded disabled:opacity-50",children:"Next "})]})]})},K0=()=>{const[s,o]=w.useState(0),d=[{name:"Source Code",input:"int x = 5 + 3;",output:null,desc:"Original program text"},{name:"Lexical Analysis",input:"int x = 5 + 3;",output:["int","x","=","5","+","3",";"],desc:"Break into tokens"},{name:"Parsing",input:"Tokens",output:"AST: Decl(int, x, Add(5, 3))",desc:"Build syntax tree"},{name:"Semantic Analysis",input:"AST",output:"Type-checked AST + Symbol Table",desc:"Check types, resolve names"},{name:"IR Generation",input:"Typed AST",output:`t1 = 5
t2 = 3
t3 = t1 + t2
x = t3`,desc:"Generate intermediate code"},{name:"Code Generation",input:"IR",output:`mov eax, 5
add eax, 3
mov [x], eax`,desc:"Generate target code"}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-orange-400 text-lg mb-4 font-mono",children:"Interactive: Compiler Phases"}),a.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:d.map((m,f)=>a.jsxs("button",{onClick:()=>o(f),className:`px-3 py-2 rounded text-sm ${s===f?"bg-orange-500 text-white":"bg-slate-700"}`,children:[f+1,". ",m.name]},f))}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-1",children:"Input:"}),a.jsx("div",{className:"text-amber-400 font-mono",children:r.input})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-1",children:"Output:"}),a.jsx("div",{className:"text-green-400 font-mono text-sm",children:Array.isArray(r.output)?r.output.map((m,f)=>a.jsx("span",{className:"inline-block px-2 py-1 bg-green-500/20 rounded m-1",children:m},f)):r.output||""})]})]}),a.jsxs("div",{className:"bg-orange-500/20 p-4 rounded-lg",children:[a.jsx("div",{className:"text-orange-400 font-bold",children:r.name}),a.jsx("div",{className:"text-slate-300",children:r.desc})]})]})},W0=()=>{const[s,o]=w.useState("int x = 42;"),r=(f=>{const g=[],N=[{type:"KEYWORD",regex:/^(int|float|if|else|while|return|void)\b/},{type:"IDENT",regex:/^[a-zA-Z_][a-zA-Z0-9_]*/},{type:"NUMBER",regex:/^[0-9]+/},{type:"OP",regex:/^[+\-*/=<>!&|]+/},{type:"PUNCT",regex:/^[;,(){}[\]]/},{type:"SPACE",regex:/^\s+/}];let h=f;for(;h.length>0;){let p=!1;for(const{type:L,regex:B}of N){const X=h.match(B);if(X){L!=="SPACE"&&g.push({type:L,value:X[0]}),h=h.slice(X[0].length),p=!0;break}}p||(g.push({type:"ERROR",value:h[0]}),h=h.slice(1))}return g})(s),m={KEYWORD:"bg-purple-500/30 text-purple-400",IDENT:"bg-blue-500/30 text-blue-400",NUMBER:"bg-green-500/30 text-green-400",OP:"bg-amber-500/30 text-amber-400",PUNCT:"bg-slate-500/30 text-slate-400",ERROR:"bg-red-500/30 text-red-400"};return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-orange-400 text-lg mb-4 font-mono",children:"Interactive: Tokenizer (Lexical Analysis)"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"text-slate-400 text-sm",children:"Enter code:"}),a.jsx("input",{type:"text",value:s,onChange:f=>o(f.target.value),className:"w-full bg-slate-900 text-white p-3 rounded font-mono text-lg mt-1",placeholder:"int x = 42;"})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-2",children:"Tokens:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:r.map((f,g)=>a.jsxs("div",{className:`px-3 py-2 rounded ${m[f.type]}`,children:[a.jsx("div",{className:"font-mono text-lg",children:f.value}),a.jsx("div",{className:"text-xs opacity-70",children:f.type})]},g))})]}),a.jsxs("div",{className:"mt-4 flex gap-2 flex-wrap",children:[a.jsx("button",{onClick:()=>o("if (x > 0) return x;"),className:"px-3 py-1 bg-slate-700 rounded text-sm",children:"if statement"}),a.jsx("button",{onClick:()=>o("while (i < 10) i = i + 1;"),className:"px-3 py-1 bg-slate-700 rounded text-sm",children:"while loop"}),a.jsx("button",{onClick:()=>o("int sum(int a, int b) { return a + b; }"),className:"px-3 py-1 bg-slate-700 rounded text-sm",children:"function"})]})]})},P0=()=>{const[s,o]=w.useState(["stmt"]),d={stmt:["while ( expr ) stmt","{ stmt-list }","id = expr ;"],expr:["expr + term","expr - term","term"],term:["term * factor","term / factor","factor"],factor:["( expr )","id","num"]},r=m=>{o(f=>f.includes(m)?f.filter(g=>g!==m):[...f,m])};return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-orange-400 text-lg mb-4 font-mono",children:"Interactive: Context-Free Grammar"}),a.jsx("div",{className:"space-y-3",children:Object.entries(d).map(([m,f])=>a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsxs("button",{onClick:()=>r(m),className:"flex items-center gap-2 text-left w-full",children:[a.jsx("span",{className:`transform transition-transform ${s.includes(m)?"rotate-90":""}`,children:""}),a.jsx("span",{className:"text-purple-400 font-mono font-bold",children:m}),a.jsx("span",{className:"text-slate-500",children:""})]}),s.includes(m)&&a.jsx("div",{className:"mt-2 ml-6 space-y-1",children:f.map((g,N)=>a.jsxs("div",{className:"text-green-400 font-mono",children:[N>0&&a.jsx("span",{className:"text-slate-500 mr-2",children:"|"}),g]},N))})]},m))}),a.jsx("div",{className:"mt-4 bg-orange-500/20 p-4 rounded-lg",children:a.jsxs("div",{className:"text-slate-300 text-sm",children:[a.jsx("strong",{children:"Non-terminals"})," (purple): Can be expanded using rules",a.jsx("br",{}),a.jsx("strong",{children:"Terminals"}),": Actual tokens (id, num, +, -, etc.)"]})})]})},eh=()=>{const[s]=w.useState([{name:"main",type:"function",scope:"global",size:""},{name:"i",type:"int",scope:"main",size:"4 bytes"},{name:"j",type:"int",scope:"main",size:"4 bytes"},{name:"getint",type:"function",scope:"global",size:""},{name:"putint",type:"function",scope:"global",size:""}]);return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-orange-400 text-lg mb-4 font-mono",children:"Interactive: Symbol Table"}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-2",children:"Source code:"}),a.jsx("pre",{className:"text-green-400 font-mono text-sm",children:`int main() {
    int i = getint();
    int j = getint();
    ...
}`})]}),a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-slate-700",children:[a.jsx("th",{className:"p-2 text-left",children:"Name"}),a.jsx("th",{className:"p-2 text-left",children:"Type"}),a.jsx("th",{className:"p-2 text-left",children:"Scope"}),a.jsx("th",{className:"p-2 text-left",children:"Size"})]})}),a.jsx("tbody",{children:s.map((o,d)=>a.jsxs("tr",{className:"border-t border-slate-700",children:[a.jsx("td",{className:"p-2 text-purple-400 font-mono",children:o.name}),a.jsx("td",{className:"p-2 text-amber-400",children:o.type}),a.jsx("td",{className:"p-2 text-blue-400",children:o.scope}),a.jsx("td",{className:"p-2 text-slate-400",children:o.size})]},d))})]})]})},th=()=>{const[s,o]=w.useState("source"),d={source:{title:"Source Code",content:`int main() {
    int i = getint(), j = getint();
    while (i != j) {
        if (i > j) i = i - j;
        else j = j - i;
    }
    putint(i);
}`},tokens:{title:"Tokens",content:`int  main  (  )  {
int  i  =  getint  (  )  ,  j  =  getint  (  )  ;
while  (  i  !=  j  )  {
if  (  i  >  j  )  i  =  i  -  j  ;
else  j  =  j  -  i  ;
}
putint  (  i  )  ;
}`},ast:{title:"Abstract Syntax Tree",content:`Program
 Function: main
    Block
       Decl: i = Call(getint)
       Decl: j = Call(getint)
       While: (i != j)
         If: (i > j)
            Assign: i = i - j
            Assign: j = j - i
       Call: putint(i)`},ir:{title:"Intermediate Code",content:`entry:
  i = call getint
  j = call getint
loop:
  t1 = i != j
  if !t1 goto end
  t2 = i > j
  if !t2 goto else
  i = i - j
  goto loop
else:
  j = j - i
  goto loop
end:
  call putint, i`}};return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-orange-400 text-lg mb-4 font-mono",children:"Interactive: GCD Compilation"}),a.jsx("div",{className:"flex gap-2 mb-4 justify-center",children:Object.entries(d).map(([r,m])=>a.jsx("button",{onClick:()=>o(r),className:`px-4 py-2 rounded ${s===r?"bg-orange-500 text-white":"bg-slate-700"}`,children:m.title},r))}),a.jsxs("div",{className:"bg-slate-900 p-5 rounded-lg",children:[a.jsx("div",{className:"text-orange-400 font-bold mb-2",children:d[s].title}),a.jsx("pre",{className:"text-green-400 font-mono text-sm whitespace-pre-wrap",children:d[s].content})]})]})},ah=({slide:s})=>a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[a.jsx("div",{className:"text-7xl mb-8",children:""}),a.jsx("h1",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.subtitle&&a.jsx("h2",{className:"text-2xl text-orange-400 mb-10",children:s.content.subtitle}),a.jsx("div",{className:"mt-8 flex flex-wrap gap-3 justify-center max-w-3xl",children:s.content.topics?.map((o,d)=>a.jsx("span",{className:"px-4 py-2 bg-slate-800 text-slate-300 rounded-full text-lg",children:o},d))})]}),Bm=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.description&&a.jsx("p",{className:"text-2xl text-slate-300 mb-6",children:s.content.description}),s.content.items&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.content.items.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl flex items-start gap-4",children:[o.icon&&a.jsx("span",{className:"text-4xl",children:o.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold text-xl",children:o.text}),o.detail&&a.jsx("p",{className:"text-slate-300 text-lg mt-1",children:o.detail})]})]},d))}),s.content.code&&a.jsx("div",{className:"mt-6 bg-slate-900 p-5 rounded-lg",children:a.jsx("pre",{className:"text-green-400 font-mono text-lg whitespace-pre-wrap",children:s.content.code})}),s.content.note&&a.jsx("p",{className:"mt-4 text-orange-400 italic text-lg",children:s.content.note}),s.interactive?.type==="language-levels"&&a.jsx(Q0,{}),s.interactive?.type==="paradigm-explorer"&&a.jsx(Z0,{}),s.interactive?.type==="compilation-pipeline"&&a.jsx(J0,{}),s.interactive?.type==="compiler-phases"&&a.jsx(K0,{}),s.interactive?.type==="tokenizer"&&a.jsx(W0,{}),s.interactive?.type==="grammar-demo"&&a.jsx(P0,{}),s.interactive?.type==="symbol-table"&&a.jsx(eh,{}),s.interactive?.type==="gcd-compilation"&&a.jsx(th,{})]}),lh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.content.approaches?.map((o,d)=>a.jsxs("div",{className:`p-6 rounded-xl border-2 ${d===0?"border-blue-500 bg-blue-500/10":"border-green-500 bg-green-500/10"}`,children:[a.jsx("h3",{className:`font-bold text-2xl mb-3 ${d===0?"text-blue-400":"text-green-400"}`,children:o.name}),a.jsx("ul",{className:"space-y-2 mb-4",children:o.characteristics.map((r,m)=>a.jsxs("li",{className:"text-slate-300 text-lg",children:[" ",r]},m))}),o.examples&&a.jsxs("p",{className:"text-slate-500",children:["Examples: ",o.examples]})]},d))})]}),nh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 flex flex-col justify-center overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-10 text-center",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.content.sections?.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-orange-400 font-bold text-xl mb-4",children:o.title}),a.jsx("ul",{className:"space-y-2",children:o.points.map((r,m)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-400 mt-1",children:""}),a.jsx("span",{className:"text-slate-300 text-lg",children:r})]},m))})]},d))})]}),sh=({slide:s})=>{switch(s.type){case"title":return a.jsx(ah,{slide:s});case"concept":return a.jsx(Bm,{slide:s});case"comparison":return a.jsx(lh,{slide:s});case"summary":return a.jsx(nh,{slide:s});default:return a.jsx(Bm,{slide:s})}};function ih({onBackToChapters:s}){const[o,d]=w.useState(0),[r,m]=w.useState(!1),f=[...new Set(Mt.map(h=>h.section))],g=w.useCallback(h=>{h.key==="ArrowRight"||h.key===" "?d(p=>Math.min(p+1,Mt.length-1)):h.key==="ArrowLeft"?d(p=>Math.max(p-1,0)):h.key==="Escape"?m(!1):h.key==="m"&&m(p=>!p)},[]);w.useEffect(()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)),[g]);const N=Mt[o];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm z-40 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>m(!r),className:"p-2 hover:bg-slate-700 rounded",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsx("span",{className:"text-orange-400 font-bold text-lg",children:"Ch 1: Introduction"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-slate-400",children:[o+1," / ",Mt.length]}),a.jsx("button",{type:"button",onClick:s,"aria-label":"Back to chapters",title:"Back to chapters",className:"p-1.5 rounded-full border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 hover:bg-slate-700/60 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"px-3 py-1 bg-slate-700 text-slate-300 rounded text-sm",children:N.section})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>m(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-slate-800 p-4 overflow-auto",onClick:h=>h.stopPropagation(),children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Chapter 1 Slides"}),f.map(h=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-orange-400 text-sm uppercase tracking-wider mb-2",children:h}),Mt.filter(p=>p.section===h).map(p=>a.jsxs("button",{onClick:()=>{d(Mt.indexOf(p)),m(!1)},className:`block w-full text-left px-3 py-2 rounded mb-1 text-base ${Mt.indexOf(p)===o?"bg-orange-500 text-white":"hover:bg-slate-700"}`,children:[a.jsx("span",{className:"text-xs opacity-60 mr-2",children:p.id}),p.title]},p.id))]},h))]})}),a.jsx("main",{className:"pt-14 pb-20 min-h-screen",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(sh,{slide:N})})}),a.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("button",{onClick:()=>d(h=>Math.max(h-1,0)),disabled:o===0,className:"flex items-center gap-2 px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-30",children:" Previous"}),a.jsx("div",{className:"flex-1 mx-8",children:a.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-orange-500 transition-all",style:{width:`${(o+1)/Mt.length*100}%`}})})}),a.jsx("button",{onClick:()=>d(h=>Math.min(h+1,Mt.length-1)),disabled:o===Mt.length-1,className:"flex items-center gap-2 px-5 py-2 bg-orange-600 rounded text-lg disabled:opacity-30",children:"Next "})]}),a.jsxs("div",{className:"text-center text-slate-500 text-sm pb-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," navigate  ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:"M"})," menu"]})]})]})}const Rt=[{id:1,section:"intro",type:"title",title:"Chapter 2: Programming Language Syntax",content:{subtitle:"From Characters to Parse Trees",topics:["Regular Expressions & Scanning","Context-Free Grammars","FIRST and FOLLOW Sets","LL(1) Parsing Tables","LR Parsing & Table Construction","Parse Trees & Derivations"]}},{id:2,section:"scanning",type:"concept",title:"Scanning (Lexical Analysis)",content:{description:"Convert character stream to token stream:",items:[{icon:"",text:"Tokenizing",detail:"Break source into tokens using DFA"},{icon:"",text:"Longest Match",detail:"foobar is one ID, not 'foo' + 'bar'"},{icon:"",text:"Remove Comments",detail:"Strip // and /* */ comments"},{icon:"",text:"Track Position",detail:"Line/column for error messages"}]}},{id:3,section:"cfg",type:"definition",title:"Context-Free Grammars (CFG)",content:{definition:"A CFG G = (T, N, S, P) where:",items:[{term:"T (Terminals)",definition:"Tokens from scanner",example:"id, num, +, *, ("},{term:"N (Non-terminals)",definition:"Grammar variables",example:"E, T, F, stmt"},{term:"S (Start Symbol)",definition:"Where derivation begins",example:"S or program"},{term:"P (Productions)",definition:"Rewrite rules A  ",example:"E  E + T | T"}]}},{id:4,section:"cfg",type:"grammar",title:"Classic Expression Grammar",content:{title:"Grammar G1 (for FIRST/FOLLOW examples):",productions:["E   T E'","E'  + T E' | ","T   F T'","T'  * F T' | ","F   ( E ) | id"],properties:["Left recursion eliminated (E' and T' handle repetition)"," productions for optional parts","Suitable for LL(1) parsing"]}},{id:5,section:"parsing",type:"comparison",title:"LL vs LR Parsing",content:{approaches:[{name:"LL (Top-Down)",meaning:"Left-to-right, Leftmost derivation",how:"Predict which production to use",direction:"Build tree from root down",actions:["Predict","Match"],tools:"Recursive descent, ANTLR"},{name:"LR (Bottom-Up)",meaning:"Left-to-right, Rightmost derivation (reverse)",how:"Recognize handles and reduce",direction:"Build tree from leaves up",actions:["Shift","Reduce"],tools:"Yacc, Bison, most generators"}],insight:"Every LL(1) grammar is LR(1), but not vice versa"}},{id:6,section:"first-follow",type:"concept",title:"Computing FIRST Sets",content:{description:"FIRST() = set of terminals that can begin strings derived from ",items:[{icon:"1",text:"If X is terminal",detail:"FIRST(X) = {X}"},{icon:"2",text:"If X   exists",detail:"Add  to FIRST(X)"},{icon:"3",text:"If X  YY...Y",detail:"Add FIRST(Y) to FIRST(X). If   FIRST(Y), add FIRST(Y), etc."}],note:"Repeat until no changes (fixed-point algorithm)"}},{id:7,section:"first-follow",type:"algorithm",title:"FIRST Set Algorithm",content:{code:`Algorithm FIRST(X):
  if X is terminal:
    return {X}
  
  result = {}
  for each production X  YY...Y:
    for i = 1 to k:
      result = result  (FIRST(Y) - {})
      if   FIRST(Y):
        break
      if i == k:  // all Y can derive 
        result = result  {}
  
  if X   exists:
    result = result  {}
  
  return result`}},{id:8,section:"first-follow",type:"interactive",title:"FIRST Set Computation Demo",content:{description:"Step through computing FIRST sets for expression grammar:"},interactive:{type:"first-set-builder"}},{id:9,section:"first-follow",type:"concept",title:"Computing FOLLOW Sets",content:{description:"FOLLOW(A) = set of terminals that can appear immediately after A",items:[{icon:"1",text:"Start symbol",detail:"Add $ (end marker) to FOLLOW(S)"},{icon:"2",text:"If A  B",detail:"Add FIRST() - {} to FOLLOW(B)"},{icon:"3",text:"If A  B or A  B where   FIRST()",detail:"Add FOLLOW(A) to FOLLOW(B)"}],note:"Compute FIRST sets completely before computing FOLLOW"}},{id:10,section:"first-follow",type:"algorithm",title:"FOLLOW Set Algorithm",content:{code:`Algorithm FOLLOW:
  FOLLOW(S) = {$}  // S is start symbol
  
  repeat until no changes:
    for each production A  ...:
      for each non-terminal B in RHS:
        let  = symbols after B
        
        if  is not empty:
          FOLLOW(B) = FOLLOW(B)  (FIRST() - {})
          
        if  is empty OR   FIRST():
          FOLLOW(B) = FOLLOW(B)  FOLLOW(A)`}},{id:11,section:"first-follow",type:"interactive",title:"FOLLOW Set Computation Demo",content:{description:"Step through computing FOLLOW sets:"},interactive:{type:"follow-set-builder"}},{id:12,section:"ll-parsing",type:"concept",title:"LL(1) Parsing Table Construction",content:{description:"Build table M[A, a] telling which production to use:",items:[{icon:"1",text:"For each production A  ",detail:"For each a  FIRST(), add A   to M[A, a]"},{icon:"2",text:"If   FIRST()",detail:"For each b  FOLLOW(A), add A   to M[A, b]"},{icon:"",text:"Conflict check",detail:"If any cell has multiple entries, grammar is NOT LL(1)"}]}},{id:13,section:"ll-parsing",type:"algorithm",title:"LL(1) Table Algorithm",content:{code:`Algorithm BuildLL1Table:
  for each production A  :
    // Rule 1: Add to table for each terminal in FIRST()
    for each terminal a in FIRST():
      M[A, a] = A  
    
    // Rule 2: If  can derive , add for FOLLOW(A)
    if   FIRST():
      for each terminal b in FOLLOW(A):
        M[A, b] = A  
      if $  FOLLOW(A):
        M[A, $] = A  

LL(1) Condition:
  For any two productions A   | :
  1. FIRST()  FIRST() = 
  2. At most one can derive 
  3. If  * , then FIRST()  FOLLOW(A) = `}},{id:14,section:"ll-parsing",type:"interactive",title:"LL(1) Table Construction Demo",content:{description:"Build the complete LL(1) parsing table step by step:"},interactive:{type:"ll1-table-builder"}},{id:15,section:"ll-parsing",type:"interactive",title:"LL(1) Parser in Action",content:{description:"Watch the parser use the table to parse 'id + id * id':"},interactive:{type:"ll-parser"}},{id:16,section:"lr-parsing",type:"concept",title:"LR Parsing Overview",content:{description:"Bottom-up parsing using shift-reduce:",items:[{icon:"",text:"Shift",detail:"Push next input token onto stack"},{icon:"",text:"Reduce",detail:"Replace RHS with LHS (reverse production)"},{icon:"",text:"Accept",detail:"Shift $ when only start symbol on stack"},{icon:"",text:"Error",detail:"No valid action in table"}],note:"Stack holds states (numbers) interleaved with symbols"}},{id:17,section:"lr-parsing",type:"concept",title:"LR(0) Items",content:{description:"An item shows how much of a production we've seen:",items:[{icon:"",text:"Dot Position",detail:"A   means we've seen , expecting "},{icon:"",text:"A  XYZ",detail:"At start, haven't seen anything yet"},{icon:"",text:"A  XYZ",detail:"Seen X, expecting YZ"},{icon:"",text:"A  XYZ",detail:"Seen everything, ready to reduce"}],example:"E  E +  T means we've seen 'E +' and expect 'T'"}},{id:18,section:"lr-parsing",type:"concept",title:"Closure and Goto",content:{description:"Two key operations for building LR states:",items:[{icon:"",text:"CLOSURE(I)",detail:"If A  B  I, add B   for all productions B  "},{icon:"",text:"GOTO(I, X)",detail:"Move dot past X: {A  X | A  X  I}, then take closure"}],note:"CLOSURE adds items when dot is before non-terminal. GOTO follows transitions."}},{id:19,section:"lr-parsing",type:"algorithm",title:"LR(0) State Construction",content:{code:`Algorithm BuildLR0States:
  // Start state: closure of S'  S
  I = CLOSURE({S'  S})
  states = {I}
  
  repeat until no new states:
    for each state I in states:
      for each symbol X (terminal or non-terminal):
        J = GOTO(I, X)
        if J is not empty and J  states:
          states = states  {J}
          
CLOSURE(I):
  repeat until no change:
    for each item A  B in I:
      for each production B  :
        add B   to I
  return I
  
GOTO(I, X):
  return CLOSURE({A  X | A  X  I})`}},{id:20,section:"lr-parsing",type:"interactive",title:"LR(0) State Construction Demo",content:{description:"Build LR(0) automaton states step by step:"},interactive:{type:"lr-state-builder"}},{id:21,section:"lr-parsing",type:"concept",title:"SLR(1) Table Construction",content:{description:"Build ACTION and GOTO tables from LR(0) states:",items:[{icon:"",text:"Shift",detail:"If A  a  I and GOTO(I,a) = I, then ACTION[i,a] = shift j"},{icon:"",text:"Reduce",detail:"If A    I, then for all a  FOLLOW(A), ACTION[i,a] = reduce A"},{icon:"",text:"Accept",detail:"If S'  S  I, then ACTION[i,$] = accept"},{icon:"",text:"Goto",detail:"If GOTO(I,A) = I for non-terminal A, then GOTO[i,A] = j"}]}},{id:22,section:"lr-parsing",type:"algorithm",title:"SLR(1) Table Algorithm",content:{code:`Algorithm BuildSLRTable:
  Construct LR(0) item sets {I, I, ..., I}
  State i corresponds to I
  
  for each state i:
    for each item A  a in I (a is terminal):
      if GOTO(I, a) = I:
        ACTION[i, a] = shift j
        
    for each item A   in I (A  S'):
      for each a in FOLLOW(A):
        ACTION[i, a] = reduce A  
        
    if S'  S in I:
      ACTION[i, $] = accept
      
    for each non-terminal A:
      if GOTO(I, A) = I:
        GOTO[i, A] = j
        
  // Conflicts: shift-reduce or reduce-reduce
  // indicate grammar is not SLR(1)`}},{id:23,section:"lr-parsing",type:"interactive",title:"SLR(1) Table Construction Demo",content:{description:"Build the complete SLR parsing table:"},interactive:{type:"slr-table-builder"}},{id:24,section:"lr-parsing",type:"interactive",title:"LR Parser in Action",content:{description:"Watch shift-reduce parsing of 'id * id + id':"},interactive:{type:"lr-parser"}},{id:25,section:"lr-parsing",type:"comparison",title:"LR Grammar Hierarchy",content:{approaches:[{name:"LR(0)",pros:["Simplest construction"],cons:["Very restrictive","Most grammars fail"],note:"Reduce based on state alone"},{name:"SLR(1)",pros:["Same states as LR(0)","Compact tables"],cons:["Some grammars still fail"],note:"Use FOLLOW for reduce decisions"},{name:"LALR(1)",pros:["Handles most programming languages","Compact tables"],cons:["Complex construction"],note:"Yacc, Bison use this"},{name:"LR(1)",pros:["Most powerful deterministic"],cons:["Very large tables"],note:"Full canonical LR"}]}},{id:26,section:"summary",type:"summary",title:"Chapter 2 Summary",content:{sections:[{title:"FIRST & FOLLOW",points:["FIRST() = terminals that can begin ","FOLLOW(A) = terminals that can follow A","Used to build LL(1) parsing tables","Fixed-point algorithms"]},{title:"LL(1) Parsing",points:["Top-down, predictive parsing","Table M[A,a] gives production to use","No left recursion allowed","Easy to hand-code"]},{title:"LR Parsing",points:["Bottom-up, shift-reduce parsing","LR(0) items track progress","CLOSURE and GOTO build states","SLR uses FOLLOW for reduces"]}]}}],Km=()=>{const[s,o]=w.useState(0),d=["E   T E'","E'  + T E' | ","T   F T'","T'  * F T' | ","F   ( E ) | id"],r=[{title:"Initialize FIRST sets",sets:{E:[],"E'":[],T:[],"T'":[],F:[]},explanation:"Start with empty sets for all non-terminals. Terminals have FIRST = {themselves}."},{title:"Process F  ( E ) | id",sets:{E:[],"E'":[],T:[],"T'":[],F:["(","id"]},explanation:"F starts with '(' or 'id', so FIRST(F) = { (, id }",highlight:"F"},{title:"Process T'  * F T' | ",sets:{E:[],"E'":[],T:[],"T'":["*",""],F:["(","id"]},explanation:"T' starts with '*' or derives , so FIRST(T') = { *,  }",highlight:"T'"},{title:"Process T  F T'",sets:{E:[],"E'":[],T:["(","id"],"T'":["*",""],F:["(","id"]},explanation:"T starts with F, and F cannot derive , so FIRST(T) = FIRST(F) = { (, id }",highlight:"T"},{title:"Process E'  + T E' | ",sets:{E:[],"E'":["+",""],T:["(","id"],"T'":["*",""],F:["(","id"]},explanation:"E' starts with '+' or derives , so FIRST(E') = { +,  }",highlight:"E'"},{title:"Process E  T E'",sets:{E:["(","id"],"E'":["+",""],T:["(","id"],"T'":["*",""],F:["(","id"]},explanation:"E starts with T, and T cannot derive , so FIRST(E) = FIRST(T) = { (, id }",highlight:"E"},{title:" FIRST sets complete!",sets:{E:["(","id"],"E'":["+",""],T:["(","id"],"T'":["*",""],F:["(","id"]},explanation:"No more changes possible. FIRST set computation is complete.",highlight:null}],m=r[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-purple-400 text-lg mb-4 font-mono",children:"Interactive: FIRST Set Construction"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-2",children:"Grammar:"}),a.jsx("div",{className:"font-mono text-base space-y-1",children:d.map((f,g)=>a.jsx("div",{className:"text-green-400",children:f},g))})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-2",children:"FIRST Sets:"}),a.jsx("div",{className:"space-y-2",children:Object.entries(m.sets).map(([f,g])=>a.jsxs("div",{className:`flex items-center gap-2 ${m.highlight===f?"bg-purple-500/30 -mx-2 px-2 py-1 rounded":""}`,children:[a.jsxs("span",{className:"font-mono text-purple-400 w-8",children:[f,":"]}),a.jsx("span",{className:"font-mono text-amber-400",children:g.length>0?`{ ${g.join(", ")} }`:"{ }"})]},f))})]})]}),a.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-purple-400 font-bold text-lg",children:m.title}),a.jsx("div",{className:"text-slate-300 mt-2",children:m.explanation})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-4 py-2 bg-slate-700 rounded",children:"Reset"}),a.jsx("button",{onClick:()=>o(f=>Math.max(0,f-1)),disabled:s===0,className:"px-4 py-2 bg-slate-700 rounded disabled:opacity-50",children:" Prev"}),a.jsxs("span",{className:"px-4 py-2 text-slate-400",children:["Step ",s+1," / ",r.length]}),a.jsx("button",{onClick:()=>o(f=>Math.min(r.length-1,f+1)),disabled:s>=r.length-1,className:"px-4 py-2 bg-purple-600 rounded disabled:opacity-50",children:"Next "})]})]})},Wm=()=>{const[s,o]=w.useState(0),d="FIRST: E={(,id}, E'={+,}, T={(,id}, T'={*,}, F={(,id}",r=[{title:"Initialize: Add $ to FOLLOW(E)",sets:{E:["$"],"E'":[],T:[],"T'":[],F:[]},explanation:"E is the start symbol, so $ (end of input) is in FOLLOW(E).",rule:"Rule 1: $  FOLLOW(start symbol)"},{title:"E  T E': Add FIRST(E') to FOLLOW(T)",sets:{E:["$"],"E'":[],T:["+"],"T'":[],F:[]},explanation:"E' follows T. FIRST(E') = {+, }, so add + to FOLLOW(T).",rule:"Rule 2: A  B  FIRST()-{}  FOLLOW(B)"},{title:"E  T E': Since   FIRST(E'), add FOLLOW(E) to FOLLOW(T)",sets:{E:["$"],"E'":[],T:["+","$"],"T'":[],F:[]},explanation:"E' can derive , so what follows E can follow T.",rule:"Rule 3: A  B where FIRST()  FOLLOW(A)  FOLLOW(B)"},{title:"E  T E': Add FOLLOW(E) to FOLLOW(E')",sets:{E:["$"],"E'":["$"],T:["+","$"],"T'":[],F:[]},explanation:"E' is at the end of production, so FOLLOW(E)  FOLLOW(E').",rule:"Rule 3: A  B  FOLLOW(A)  FOLLOW(B)"},{title:"E'  + T E': Add FIRST(E') - {} to FOLLOW(T)",sets:{E:["$"],"E'":["$"],T:["+","$"],"T'":[],F:[]},explanation:"E' follows T. FIRST(E') - {} = {+}, already in FOLLOW(T).",rule:"Rule 2 (no change)"},{title:"T  F T': Add FIRST(T') - {} to FOLLOW(F)",sets:{E:["$"],"E'":["$"],T:["+","$"],"T'":[],F:["*"]},explanation:"T' follows F. FIRST(T') = {*, }, add * to FOLLOW(F).",rule:"Rule 2"},{title:"T  F T': Since   FIRST(T'), add FOLLOW(T) to FOLLOW(F)",sets:{E:["$"],"E'":["$"],T:["+","$"],"T'":[],F:["*","+","$"]},explanation:"T' can be , so FOLLOW(T) = {+, $} added to FOLLOW(F).",rule:"Rule 3"},{title:"T  F T': Add FOLLOW(T) to FOLLOW(T')",sets:{E:["$"],"E'":["$"],T:["+","$"],"T'":["+","$"],F:["*","+","$"]},explanation:"T' is at the end of production T  F T'.",rule:"Rule 3"},{title:"F  ( E ): Add ) to FOLLOW(E)",sets:{E:["$",")"],"E'":["$",")"],T:["+","$",")"],"T'":["+","$",")"],F:["*","+","$",")"]},explanation:"')' follows E. This propagates through E', T, T', F.",rule:"Rule 2 + propagation"},{title:" FOLLOW sets complete!",sets:{E:[")","$"],"E'":[")","$"],T:["+",")","$"],"T'":["+",")","$"],F:["*","+",")","$"]},explanation:"Fixed point reached. No more changes possible.",rule:"Algorithm terminates"}],m=r[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-purple-400 text-lg mb-4 font-mono",children:"Interactive: FOLLOW Set Construction"}),a.jsx("div",{className:"bg-slate-900 p-3 rounded-lg mb-4",children:a.jsx("div",{className:"text-slate-400 text-sm",children:d})}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-2",children:"FOLLOW Sets:"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(m.sets).map(([f,g])=>a.jsxs("div",{className:"bg-slate-800 p-2 rounded text-center",children:[a.jsx("div",{className:"font-mono text-purple-400 text-sm",children:f}),a.jsx("div",{className:"font-mono text-green-400 text-sm",children:g.length>0?g.join(" "):""})]},f))})]}),a.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-purple-400 font-bold",children:m.title}),a.jsx("div",{className:"text-slate-300 text-sm mt-1",children:m.explanation}),a.jsx("div",{className:"text-amber-400 text-sm mt-2 font-mono",children:m.rule})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-4 py-2 bg-slate-700 rounded",children:"Reset"}),a.jsx("button",{onClick:()=>o(f=>Math.max(0,f-1)),disabled:s===0,className:"px-4 py-2 bg-slate-700 rounded disabled:opacity-50",children:" Prev"}),a.jsxs("span",{className:"px-4 py-2 text-slate-400",children:[s+1,"/",r.length]}),a.jsx("button",{onClick:()=>o(f=>Math.min(r.length-1,f+1)),disabled:s>=r.length-1,className:"px-4 py-2 bg-purple-600 rounded disabled:opacity-50",children:"Next "})]})]})},Pm=()=>{const[s,o]=w.useState(0),d=[{title:"Start with empty table",table:{},explanation:"Build table M[non-terminal, terminal] for each production.",production:null},{title:"E  T E' (FIRST = {(, id})",table:{"E,(":"ETE'","E,id":"ETE'"},explanation:"FIRST(T E') = {(, id}. Add E  T E' to M[E, (] and M[E, id].",production:"E  T E'"},{title:"E'  + T E' (FIRST = {+})",table:{"E,(":"ETE'","E,id":"ETE'","E',+":"E'+TE'"},explanation:"FIRST(+ T E') = {+}. Add E'  + T E' to M[E', +].",production:"E'  + T E'"},{title:"E'   (FOLLOW(E') = {), $})",table:{"E,(":"ETE'","E,id":"ETE'","E',+":"E'+TE'","E',)":"E'","E',$":"E'"},explanation:" production: add E'   for each terminal in FOLLOW(E').",production:"E'  "},{title:"T  F T' (FIRST = {(, id})",table:{"E,(":"ETE'","E,id":"ETE'","E',+":"E'+TE'","E',)":"E'","E',$":"E'","T,(":"TFT'","T,id":"TFT'"},explanation:"FIRST(F T') = {(, id}. Add T  F T' to M[T, (] and M[T, id].",production:"T  F T'"},{title:"T'  * F T' (FIRST = {*})",table:{"E,(":"ETE'","E,id":"ETE'","E',+":"E'+TE'","E',)":"E'","E',$":"E'","T,(":"TFT'","T,id":"TFT'","T',*":"T'*FT'"},explanation:"FIRST(* F T') = {*}. Add T'  * F T' to M[T', *].",production:"T'  * F T'"},{title:"T'   (FOLLOW(T') = {+, ), $})",table:{"E,(":"ETE'","E,id":"ETE'","E',+":"E'+TE'","E',)":"E'","E',$":"E'","T,(":"TFT'","T,id":"TFT'","T',*":"T'*FT'","T',+":"T'","T',)":"T'","T',$":"T'"},explanation:" production: add T'   for each terminal in FOLLOW(T').",production:"T'  "},{title:"F  ( E ) (FIRST = {(})",table:{"E,(":"ETE'","E,id":"ETE'","E',+":"E'+TE'","E',)":"E'","E',$":"E'","T,(":"TFT'","T,id":"TFT'","T',*":"T'*FT'","T',+":"T'","T',)":"T'","T',$":"T'","F,(":"F(E)"},explanation:"FIRST(( E )) = {(}. Add F  ( E ) to M[F, (].",production:"F  ( E )"},{title:"F  id (FIRST = {id})",table:{"E,(":"ETE'","E,id":"ETE'","E',+":"E'+TE'","E',)":"E'","E',$":"E'","T,(":"TFT'","T,id":"TFT'","T',*":"T'*FT'","T',+":"T'","T',)":"T'","T',$":"T'","F,(":"F(E)","F,id":"Fid"},explanation:"FIRST(id) = {id}. Add F  id to M[F, id].",production:"F  id"},{title:" LL(1) Table Complete!",table:{"E,(":"ETE'","E,id":"ETE'","E',+":"E'+TE'","E',)":"E'","E',$":"E'","T,(":"TFT'","T,id":"TFT'","T',*":"T'*FT'","T',+":"T'","T',)":"T'","T',$":"T'","F,(":"F(E)","F,id":"Fid"},explanation:"No conflicts! This grammar is LL(1). Each cell has at most one entry.",production:null}],r=d[s],m=["E","E'","T","T'","F"],f=["id","+","*","(",")","$"];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-purple-400 text-lg mb-4 font-mono",children:"Interactive: LL(1) Table Construction"}),a.jsx("div",{className:"overflow-x-auto mb-4",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-2 bg-slate-700 text-slate-300",children:"M"}),f.map(g=>a.jsx("th",{className:"p-2 bg-slate-700 text-amber-400 font-mono",children:g},g))]})}),a.jsx("tbody",{children:m.map(g=>a.jsxs("tr",{children:[a.jsx("td",{className:"p-2 bg-slate-700 text-purple-400 font-mono font-bold",children:g}),f.map(N=>{const h=`${g},${N}`,p=r.table[h],L=r.production&&p?.includes(r.production.split(" ")[0]);return a.jsx("td",{className:`p-2 border border-slate-700 font-mono text-xs ${p?L?"bg-purple-500/30 text-green-400":"bg-slate-900 text-green-400":"bg-slate-900 text-slate-600"}`,children:p||""},N)})]},g))})]})}),a.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-purple-400 font-bold",children:r.title}),a.jsx("div",{className:"text-slate-300 text-sm mt-1",children:r.explanation}),r.production&&a.jsxs("div",{className:"text-amber-400 font-mono mt-2",children:["Processing: ",r.production]})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-4 py-2 bg-slate-700 rounded",children:"Reset"}),a.jsx("button",{onClick:()=>o(g=>Math.max(0,g-1)),disabled:s===0,className:"px-4 py-2 bg-slate-700 rounded disabled:opacity-50",children:" Prev"}),a.jsxs("span",{className:"px-4 py-2 text-slate-400",children:[s+1,"/",d.length]}),a.jsx("button",{onClick:()=>o(g=>Math.min(d.length-1,g+1)),disabled:s>=d.length-1,className:"px-4 py-2 bg-purple-600 rounded disabled:opacity-50",children:"Next "})]})]})},ex=()=>{const[s,o]=w.useState(0),d=[{stack:["$","E"],input:"id + id * id $",action:"Start",rule:"Initialize with $ and start symbol E"},{stack:["$","E'","T"],input:"id + id * id $",action:"Predict",rule:"M[E, id] = E  T E'"},{stack:["$","E'","T'","F"],input:"id + id * id $",action:"Predict",rule:"M[T, id] = T  F T'"},{stack:["$","E'","T'","id"],input:"id + id * id $",action:"Predict",rule:"M[F, id] = F  id"},{stack:["$","E'","T'"],input:"+ id * id $",action:"Match",rule:"Match id "},{stack:["$","E'"],input:"+ id * id $",action:"Predict",rule:"M[T', +] = T'  "},{stack:["$","E'","T","+"],input:"+ id * id $",action:"Predict",rule:"M[E', +] = E'  + T E'"},{stack:["$","E'","T"],input:"id * id $",action:"Match",rule:"Match + "},{stack:["$","E'","T'","F"],input:"id * id $",action:"Predict",rule:"M[T, id] = T  F T'"},{stack:["$","E'","T'","id"],input:"id * id $",action:"Predict",rule:"M[F, id] = F  id"},{stack:["$","E'","T'"],input:"* id $",action:"Match",rule:"Match id "},{stack:["$","E'","T'","F","*"],input:"* id $",action:"Predict",rule:"M[T', *] = T'  * F T'"},{stack:["$","E'","T'","F"],input:"id $",action:"Match",rule:"Match * "},{stack:["$","E'","T'","id"],input:"id $",action:"Predict",rule:"M[F, id] = F  id"},{stack:["$","E'","T'"],input:"$",action:"Match",rule:"Match id "},{stack:["$","E'"],input:"$",action:"Predict",rule:"M[T', $] = T'  "},{stack:["$"],input:"$",action:"Predict",rule:"M[E', $] = E'  "},{stack:[],input:"",action:"Accept!",rule:"Stack and input both empty "}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-purple-400 text-lg mb-4 font-mono",children:"Interactive: LL(1) Parser Simulation"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-2",children:"Stack (top  right)"}),a.jsx("div",{className:"font-mono text-purple-400 text-lg flex flex-wrap gap-1",children:r.stack.length>0?r.stack.slice().reverse().map((m,f)=>a.jsx("span",{className:"px-2 py-1 bg-purple-500/20 rounded",children:m},f)):a.jsx("span",{className:"text-green-400",children:"(empty)"})})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-2",children:"Remaining Input"}),a.jsx("div",{className:"font-mono text-amber-400 text-lg",children:r.input||"(empty)"})]})]}),a.jsxs("div",{className:`p-4 rounded-lg mb-4 ${r.action==="Accept!"?"bg-green-500/20":r.action==="Predict"?"bg-blue-500/20":r.action==="Match"?"bg-amber-500/20":"bg-slate-900"}`,children:[a.jsx("span",{className:`px-3 py-1 rounded font-bold mr-3 ${r.action==="Accept!"?"bg-green-500":r.action==="Predict"?"bg-blue-500":"bg-amber-500"} text-white`,children:r.action}),a.jsx("span",{className:"text-white",children:r.rule})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-4 py-2 bg-slate-700 rounded",children:"Reset"}),a.jsx("button",{onClick:()=>o(m=>Math.max(0,m-1)),disabled:s===0,className:"px-4 py-2 bg-slate-700 rounded disabled:opacity-50",children:" Prev"}),a.jsxs("span",{className:"px-4 py-2 text-slate-400",children:[s+1,"/",d.length]}),a.jsx("button",{onClick:()=>o(m=>Math.min(d.length-1,m+1)),disabled:s>=d.length-1,className:"px-4 py-2 bg-purple-600 rounded disabled:opacity-50",children:"Next "})]})]})},tx=()=>{const[s,o]=w.useState(0),d="S'E  EE+T|T  TT*F|F  F(E)|id",r=[{title:"I: Start with S'  E",items:["S'  E","E  E + T","E  T","T  T * F","T  F","F  ( E )","F  id"],explanation:"Closure adds all items for non-terminals after dot. E after dot adds E productions, T after dot adds T productions, etc.",transitions:[]},{title:"I = GOTO(I, E)",items:["S'  E","E  E + T"],explanation:"Move dot past E in all items from I where E is after dot, then take closure.",transitions:[{from:"I",symbol:"E",to:"I"}]},{title:"I = GOTO(I, T)",items:["E  T","T  T * F"],explanation:"Move dot past T in items from I.",transitions:[{from:"I",symbol:"T",to:"I"}]},{title:"I = GOTO(I, F)",items:["T  F"],explanation:"Move dot past F. This is a reduce item (dot at end).",transitions:[{from:"I",symbol:"F",to:"I"}]},{title:"I = GOTO(I, '(')",items:["F  (E )","E  E + T","E  T","T  T * F","T  F","F  ( E )","F  id"],explanation:"Move dot past '(', then closure adds E, T, F productions.",transitions:[{from:"I",symbol:"(",to:"I"}]},{title:"I = GOTO(I, id)",items:["F  id"],explanation:"Move dot past 'id'. Reduce item.",transitions:[{from:"I",symbol:"id",to:"I"}]},{title:"I = GOTO(I, '+')",items:["E  E + T","T  T * F","T  F","F  ( E )","F  id"],explanation:"From I, move dot past '+'. Closure adds T and F productions.",transitions:[{from:"I",symbol:"+",to:"I"}]},{title:"I = GOTO(I, '*')",items:["T  T * F","F  ( E )","F  id"],explanation:"From I, move dot past '*'. Closure adds F productions.",transitions:[{from:"I",symbol:"*",to:"I"}]},{title:"More states...",items:["I = GOTO(I, E): F  ( E )","I = GOTO(I, T): E  E + T","I = GOTO(I, F): T  T * F","I = GOTO(I, ')': F  ( E )"],explanation:"Continue until no new states. Total: 12 states for this grammar.",transitions:[]},{title:" LR(0) Automaton Complete",items:["12 states total","Transitions on terminals  shifts","Transitions on non-terminals  gotos","Items with dot at end  reduces"],explanation:"This automaton recognizes viable prefixes. Used to build parsing table.",transitions:[]}],m=r[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-purple-400 text-lg mb-4 font-mono",children:"Interactive: LR(0) State Construction"}),a.jsxs("div",{className:"bg-slate-900 p-3 rounded-lg mb-4",children:[a.jsx("span",{className:"text-slate-400 text-sm",children:"Grammar: "}),a.jsx("span",{className:"text-green-400 font-mono text-sm",children:d})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-purple-400 font-bold mb-2",children:m.title}),a.jsx("div",{className:"space-y-1",children:m.items.map((f,g)=>a.jsx("div",{className:"font-mono text-amber-400 text-sm",children:f},g))})]}),a.jsx("div",{className:"bg-purple-500/20 p-4 rounded-lg mb-4",children:a.jsx("div",{className:"text-slate-300 text-sm",children:m.explanation})}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-4 py-2 bg-slate-700 rounded",children:"Reset"}),a.jsx("button",{onClick:()=>o(f=>Math.max(0,f-1)),disabled:s===0,className:"px-4 py-2 bg-slate-700 rounded disabled:opacity-50",children:" Prev"}),a.jsxs("span",{className:"px-4 py-2 text-slate-400",children:[s+1,"/",r.length]}),a.jsx("button",{onClick:()=>o(f=>Math.min(r.length-1,f+1)),disabled:s>=r.length-1,className:"px-4 py-2 bg-purple-600 rounded disabled:opacity-50",children:"Next "})]})]})},ax=()=>{const[s,o]=w.useState(0),d=[{title:"Start with LR(0) states",action:null,table:{},explanation:"We have states I-I. Now build ACTION and GOTO tables."},{title:"State 0: Shift actions",action:"From I: GOTO(I,id)=I, GOTO(I,'(')=I",table:{"0,id":"s5","0,(":"s4"},explanation:"Items with terminal after dot  shift to target state."},{title:"State 0: Goto entries",action:"GOTO(I,E)=I, GOTO(I,T)=I, GOTO(I,F)=I",table:{"0,id":"s5","0,(":"s4","0,E":"1","0,T":"2","0,F":"3"},explanation:"Non-terminal transitions become GOTO entries."},{title:"State 1: Accept and shift",action:"S'  E means accept on $. E  E+T means shift + to I",table:{"0,id":"s5","0,(":"s4","0,E":"1","0,T":"2","0,F":"3","1,$":"acc","1,+":"s6"},explanation:"S'  E with $ is accept. Shift for +"},{title:"State 2: Reduce and shift",action:"E  T reduces. T  T*F shifts * to I",table:{"0,id":"s5","0,(":"s4","0,E":"1","0,T":"2","0,F":"3","1,$":"acc","1,+":"s6","2,*":"s7","2,+":"r2","2,)":"r2","2,$":"r2"},explanation:"Reduce ET on FOLLOW(E)={+,),$}. Shift * to I."},{title:"State 3: Reduce T  F",action:"T  F is complete  reduce",table:{"0,id":"s5","0,(":"s4","0,E":"1","0,T":"2","0,F":"3","1,$":"acc","1,+":"s6","2,*":"s7","2,+":"r2","2,)":"r2","2,$":"r2","3,*":"r4","3,+":"r4","3,)":"r4","3,$":"r4"},explanation:"Reduce TF on FOLLOW(T)={*,+,),$}"},{title:"State 5: Reduce F  id",action:"F  id is complete  reduce",table:{"0,id":"s5","0,(":"s4","0,E":"1","0,T":"2","0,F":"3","1,$":"acc","1,+":"s6","2,*":"s7","2,+":"r2","2,)":"r2","2,$":"r2","3,*":"r4","3,+":"r4","3,)":"r4","3,$":"r4","5,*":"r6","5,+":"r6","5,)":"r6","5,$":"r6"},explanation:"Reduce Fid on FOLLOW(F)={*,+,),$}"},{title:" SLR(1) Table Complete",action:null,table:{"0,id":"s5","0,(":"s4","0,E":"1","0,T":"2","0,F":"3","1,$":"acc","1,+":"s6","2,*":"s7","2,+":"r2","2,)":"r2","2,$":"r2","3,*":"r4","3,+":"r4","3,)":"r4","3,$":"r4","5,*":"r6","5,+":"r6","5,)":"r6","5,$":"r6"},explanation:"No conflicts! Grammar is SLR(1). sN=shift to state N, rN=reduce by production N, acc=accept"}],r=d[s],m=[0,1,2,3,5],f=["id","+","*","(",")","$","E","T","F"];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-purple-400 text-lg mb-4 font-mono",children:"Interactive: SLR(1) Table Construction"}),a.jsx("div",{className:"overflow-x-auto mb-4",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-1 bg-slate-700 text-slate-300",children:"State"}),f.map(g=>a.jsx("th",{className:`p-1 bg-slate-700 font-mono ${g.match(/[A-Z]/)?"text-purple-400":"text-amber-400"}`,children:g},g))]})}),a.jsx("tbody",{children:m.map(g=>a.jsxs("tr",{children:[a.jsx("td",{className:"p-1 bg-slate-700 text-white font-bold text-center",children:g}),f.map(N=>{const h=`${g},${N}`,p=r.table[h];return a.jsx("td",{className:`p-1 border border-slate-700 font-mono text-center ${p?.startsWith("s")?"bg-blue-500/20 text-blue-400":p?.startsWith("r")?"bg-orange-500/20 text-orange-400":p==="acc"?"bg-green-500/20 text-green-400":p?"bg-slate-900 text-purple-400":"bg-slate-900 text-slate-600"}`,children:p||""},N)})]},g))})]})}),a.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-purple-400 font-bold",children:r.title}),r.action&&a.jsx("div",{className:"text-amber-400 font-mono text-sm mt-1",children:r.action}),a.jsx("div",{className:"text-slate-300 text-sm mt-2",children:r.explanation})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-4 py-2 bg-slate-700 rounded",children:"Reset"}),a.jsx("button",{onClick:()=>o(g=>Math.max(0,g-1)),disabled:s===0,className:"px-4 py-2 bg-slate-700 rounded disabled:opacity-50",children:" Prev"}),a.jsxs("span",{className:"px-4 py-2 text-slate-400",children:[s+1,"/",d.length]}),a.jsx("button",{onClick:()=>o(g=>Math.min(d.length-1,g+1)),disabled:s>=d.length-1,className:"px-4 py-2 bg-purple-600 rounded disabled:opacity-50",children:"Next "})]})]})},lx=()=>{const[s,o]=w.useState(0),d=[{stack:[0],symbols:[],input:"id * id + id $",action:"Start",desc:"Initialize with state 0"},{stack:[0,5],symbols:["id"],input:"* id + id $",action:"Shift 5",desc:"ACTION[0,id] = s5"},{stack:[0,3],symbols:["F"],input:"* id + id $",action:"Reduce 6",desc:"F  id, GOTO[0,F] = 3"},{stack:[0,2],symbols:["T"],input:"* id + id $",action:"Reduce 4",desc:"T  F, GOTO[0,T] = 2"},{stack:[0,2,7],symbols:["T","*"],input:"id + id $",action:"Shift 7",desc:"ACTION[2,*] = s7"},{stack:[0,2,7,5],symbols:["T","*","id"],input:"+ id $",action:"Shift 5",desc:"ACTION[7,id] = s5"},{stack:[0,2,7,10],symbols:["T","*","F"],input:"+ id $",action:"Reduce 6",desc:"F  id, GOTO[7,F] = 10"},{stack:[0,2],symbols:["T"],input:"+ id $",action:"Reduce 3",desc:"T  T * F, GOTO[0,T] = 2"},{stack:[0,1],symbols:["E"],input:"+ id $",action:"Reduce 2",desc:"E  T, GOTO[0,E] = 1"},{stack:[0,1,6],symbols:["E","+"],input:"id $",action:"Shift 6",desc:"ACTION[1,+] = s6"},{stack:[0,1,6,5],symbols:["E","+","id"],input:"$",action:"Shift 5",desc:"ACTION[6,id] = s5"},{stack:[0,1,6,3],symbols:["E","+","F"],input:"$",action:"Reduce 6",desc:"F  id"},{stack:[0,1,6,9],symbols:["E","+","T"],input:"$",action:"Reduce 4",desc:"T  F"},{stack:[0,1],symbols:["E"],input:"$",action:"Reduce 1",desc:"E  E + T"},{stack:[],symbols:[],input:"",action:"Accept!",desc:" Parse successful!"}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-purple-400 text-lg mb-4 font-mono",children:"Interactive: LR Parser (id * id + id)"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-3 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-1",children:"State Stack"}),a.jsx("div",{className:"font-mono text-purple-400",children:r.stack.length>0?r.stack.join(" "):""})]}),a.jsxs("div",{className:"bg-slate-900 p-3 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-1",children:"Symbol Stack"}),a.jsx("div",{className:"font-mono text-green-400",children:r.symbols.length>0?r.symbols.join(" "):""})]}),a.jsxs("div",{className:"bg-slate-900 p-3 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-1",children:"Input"}),a.jsx("div",{className:"font-mono text-amber-400",children:r.input||""})]})]}),a.jsxs("div",{className:`p-4 rounded-lg mb-4 ${r.action==="Accept!"?"bg-green-500/20":r.action.startsWith("Shift")?"bg-blue-500/20":r.action.startsWith("Reduce")?"bg-orange-500/20":"bg-slate-900"}`,children:[a.jsx("span",{className:`px-3 py-1 rounded font-bold mr-3 ${r.action==="Accept!"?"bg-green-500":r.action.startsWith("Shift")?"bg-blue-500":"bg-orange-500"} text-white`,children:r.action}),a.jsx("span",{className:"text-white",children:r.desc})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-4 py-2 bg-slate-700 rounded",children:"Reset"}),a.jsx("button",{onClick:()=>o(m=>Math.max(0,m-1)),disabled:s===0,className:"px-4 py-2 bg-slate-700 rounded disabled:opacity-50",children:" Prev"}),a.jsxs("span",{className:"px-4 py-2 text-slate-400",children:[s+1,"/",d.length]}),a.jsx("button",{onClick:()=>o(m=>Math.min(d.length-1,m+1)),disabled:s>=d.length-1,className:"px-4 py-2 bg-purple-600 rounded disabled:opacity-50",children:"Next "})]})]})},ch=({slide:s})=>a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[a.jsx("div",{className:"text-7xl mb-8",children:""}),a.jsx("h1",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.subtitle&&a.jsx("h2",{className:"text-2xl text-purple-400 mb-10",children:s.content.subtitle}),a.jsx("div",{className:"mt-8 flex flex-wrap gap-3 justify-center max-w-3xl",children:s.content.topics?.map((o,d)=>a.jsx("span",{className:"px-4 py-2 bg-slate-800 text-slate-300 rounded-full text-lg",children:o},d))})]}),Fm=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.description&&a.jsx("p",{className:"text-2xl text-slate-300 mb-6",children:s.content.description}),s.content.items&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.content.items.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl flex items-start gap-4",children:[o.icon&&a.jsx("span",{className:"text-4xl",children:o.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold text-xl",children:o.text}),o.detail&&a.jsx("p",{className:"text-slate-300 text-lg mt-1",children:o.detail})]})]},d))}),s.content.note&&a.jsx("p",{className:"mt-4 text-purple-400 italic text-lg",children:s.content.note}),s.content.example&&a.jsx("div",{className:"mt-4 bg-slate-900 p-4 rounded-lg text-green-400 font-mono",children:s.content.example}),s.interactive?.type==="first-set-builder"&&a.jsx(Km,{}),s.interactive?.type==="follow-set-builder"&&a.jsx(Wm,{}),s.interactive?.type==="ll1-table-builder"&&a.jsx(Pm,{}),s.interactive?.type==="ll-parser"&&a.jsx(ex,{}),s.interactive?.type==="lr-state-builder"&&a.jsx(tx,{}),s.interactive?.type==="slr-table-builder"&&a.jsx(ax,{}),s.interactive?.type==="lr-parser"&&a.jsx(lx,{})]}),oh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.definition&&a.jsx("p",{className:"text-2xl text-purple-400 mb-6 italic",children:s.content.definition}),s.content.items&&a.jsx("div",{className:"space-y-4",children:s.content.items.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[a.jsxs("span",{className:"text-purple-400 font-bold text-xl",children:[o.term,": "]}),a.jsx("span",{className:"text-slate-300 text-xl",children:o.definition}),o.example&&a.jsxs("span",{className:"text-amber-400 text-lg ml-2",children:["e.g., ",o.example]})]},d))})]}),rh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.title&&a.jsx("h3",{className:"text-2xl text-purple-400 mb-4",children:s.content.title}),s.content.productions&&a.jsx("div",{className:"bg-slate-900 p-6 rounded-lg mb-6",children:s.content.productions.map((o,d)=>a.jsx("div",{className:"text-green-400 font-mono text-xl mb-2",children:o},d))}),s.content.properties&&a.jsx("div",{className:"space-y-2",children:s.content.properties.map((o,d)=>a.jsxs("div",{className:"text-slate-300 text-lg",children:[" ",o]},d))})]}),dh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.code&&a.jsx("div",{className:"bg-slate-900 p-6 rounded-lg",children:a.jsx("pre",{className:"text-green-400 font-mono text-base whitespace-pre-wrap",children:s.content.code})})]}),uh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.content.approaches?.map((o,d)=>a.jsxs("div",{className:`p-5 rounded-xl border-2 ${d===0?"border-blue-500 bg-blue-500/10":"border-green-500 bg-green-500/10"}`,children:[a.jsx("h3",{className:`font-bold text-2xl mb-3 ${d===0?"text-blue-400":"text-green-400"}`,children:o.name}),o.meaning&&a.jsx("p",{className:"text-slate-400 text-lg mb-2",children:o.meaning}),o.how&&a.jsx("p",{className:"text-slate-300 mb-2",children:o.how}),o.direction&&a.jsx("p",{className:"text-slate-300 mb-2",children:o.direction}),o.actions&&a.jsxs("p",{className:"text-slate-300 mb-2",children:["Actions: ",o.actions.join(", ")]}),o.tools&&a.jsxs("p",{className:"text-slate-500 text-sm",children:["Tools: ",o.tools]}),o.pros&&a.jsxs("div",{className:"text-green-400 text-sm mt-2",children:["+ ",o.pros.join(", ")]}),o.cons&&a.jsxs("div",{className:"text-red-400 text-sm",children:["- ",o.cons.join(", ")]}),o.note&&a.jsx("div",{className:"text-amber-400 text-sm mt-1",children:o.note})]},d))}),s.content.insight&&a.jsx("p",{className:"mt-6 text-purple-400 italic text-xl text-center",children:s.content.insight})]}),mh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.description&&a.jsx("p",{className:"text-2xl text-slate-300 mb-4",children:s.content.description}),s.interactive?.type==="first-set-builder"&&a.jsx(Km,{}),s.interactive?.type==="follow-set-builder"&&a.jsx(Wm,{}),s.interactive?.type==="ll1-table-builder"&&a.jsx(Pm,{}),s.interactive?.type==="ll-parser"&&a.jsx(ex,{}),s.interactive?.type==="lr-state-builder"&&a.jsx(tx,{}),s.interactive?.type==="slr-table-builder"&&a.jsx(ax,{}),s.interactive?.type==="lr-parser"&&a.jsx(lx,{})]}),xh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 flex flex-col justify-center overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8 text-center",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.content.sections?.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl",children:[a.jsx("h3",{className:"text-purple-400 font-bold text-xl mb-4",children:o.title}),a.jsx("ul",{className:"space-y-2",children:o.points.map((r,m)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-400 mt-1",children:""}),a.jsx("span",{className:"text-slate-300 text-lg",children:r})]},m))})]},d))})]}),ph=({slide:s})=>{switch(s.type){case"title":return a.jsx(ch,{slide:s});case"concept":return a.jsx(Fm,{slide:s});case"definition":return a.jsx(oh,{slide:s});case"grammar":return a.jsx(rh,{slide:s});case"algorithm":return a.jsx(dh,{slide:s});case"comparison":return a.jsx(uh,{slide:s});case"interactive":return a.jsx(mh,{slide:s});case"summary":return a.jsx(xh,{slide:s});default:return a.jsx(Fm,{slide:s})}};function hh({onBackToChapters:s}){const[o,d]=w.useState(0),[r,m]=w.useState(!1),f=[...new Set(Rt.map(h=>h.section))],g=w.useCallback(h=>{h.key==="ArrowRight"||h.key===" "?d(p=>Math.min(p+1,Rt.length-1)):h.key==="ArrowLeft"?d(p=>Math.max(p-1,0)):h.key==="Escape"?m(!1):h.key==="m"&&m(p=>!p)},[]);w.useEffect(()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)),[g]);const N=Rt[o];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm z-40 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>m(!r),className:"p-2 hover:bg-slate-700 rounded",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsx("span",{className:"text-purple-400 font-bold text-lg",children:"Ch 2: Programming Language Syntax"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-slate-400",children:[o+1," / ",Rt.length]}),a.jsx("button",{type:"button",onClick:s,"aria-label":"Back to chapters",title:"Back to chapters",className:"p-1.5 rounded-full border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 hover:bg-slate-700/60 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"px-3 py-1 bg-slate-700 text-slate-300 rounded text-sm",children:N.section})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>m(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-slate-800 p-4 overflow-auto",onClick:h=>h.stopPropagation(),children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Chapter 2 Slides"}),f.map(h=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-purple-400 text-sm uppercase tracking-wider mb-2",children:h}),Rt.filter(p=>p.section===h).map(p=>a.jsxs("button",{onClick:()=>{d(Rt.indexOf(p)),m(!1)},className:`block w-full text-left px-3 py-2 rounded mb-1 text-sm ${Rt.indexOf(p)===o?"bg-purple-500 text-white":"hover:bg-slate-700"}`,children:[a.jsx("span",{className:"text-xs opacity-60 mr-2",children:p.id}),p.title]},p.id))]},h))]})}),a.jsx("main",{className:"pt-14 pb-20 min-h-screen",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(ph,{slide:N})})}),a.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("button",{onClick:()=>d(h=>Math.max(h-1,0)),disabled:o===0,className:"flex items-center gap-2 px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-30",children:" Previous"}),a.jsx("div",{className:"flex-1 mx-8",children:a.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-purple-500 transition-all",style:{width:`${(o+1)/Rt.length*100}%`}})})}),a.jsx("button",{onClick:()=>d(h=>Math.min(h+1,Rt.length-1)),disabled:o===Rt.length-1,className:"flex items-center gap-2 px-5 py-2 bg-purple-600 rounded text-lg disabled:opacity-30",children:"Next "})]}),a.jsxs("div",{className:"text-center text-slate-500 text-sm pb-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," navigate  ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:"M"})," menu"]})]})]})}const fh={title:"Names, Scopes, and Bindings"},Lt=[{id:1,section:"intro",type:"title",title:"Chapter 3: Names, Scopes, and Bindings",content:{subtitle:"The Foundation of Program Organization",topics:["Names and Bindings","Binding Time","Lifetime and Storage","Scope Rules","Static vs Dynamic Scope","Referencing Environments"]}},{id:2,section:"basics",type:"definition",title:"Fundamental Concepts",content:{definition:"Three core concepts underpin all naming in programming languages:",items:[{term:"Name",definition:"An identifier or symbol used to refer to an entity",example:"x, printf, +, MyClass"},{term:"Binding",definition:"An association between two things (e.g., name  object)",example:"int x = 5 binds 'x' to a memory location"},{term:"Scope",definition:"The textual region where a binding is active",example:"Local variables are scoped to their function"}]}},{id:3,section:"binding",type:"timeline",title:"Binding Time",content:{description:"The point at which a binding is created or an implementation decision is made:",timeline:[{time:"Language Design",decisions:"Syntax, keywords, operators",example:"'+' means addition"},{time:"Language Implementation",decisions:"I/O behavior, overflow handling",example:"Integer size = 32 bits"},{time:"Program Writing",decisions:"Algorithms, variable names",example:"Using 'count' for counter"},{time:"Compile Time",decisions:"Data layout, type checking",example:"Variable offsets in stack"},{time:"Link Time",decisions:"Memory layout of whole program",example:"Library function addresses"},{time:"Load Time",decisions:"Physical memory addresses",example:"Base address assignment"},{time:"Run Time",decisions:"Variable values, dynamic sizes",example:"x = user_input()"}]},interactive:{type:"binding-time"}},{id:4,section:"binding",type:"comparison",title:"Static vs Dynamic Binding",content:{comparison:[{name:"Static (Early) Binding",description:"Decisions made before run time",characteristics:["Determined at compile/link time","Greater efficiency","Less flexibility","Typical of compiled languages"],examples:"C, C++, Java (for types), Go"},{name:"Dynamic (Late) Binding",description:"Decisions made at run time",characteristics:["Determined during execution","Greater flexibility","Runtime overhead","Typical of interpreted languages"],examples:"Python, JavaScript, Ruby, Lisp"}],insight:"Early binding  Efficiency | Late binding  Flexibility"}},{id:5,section:"lifetime",type:"concept",title:"Object and Binding Lifetime",content:{description:"Key events in the life of objects and bindings:",items:[{icon:"",text:"Creation of objects",detail:"Memory allocation"},{icon:"",text:"Creation of bindings",detail:"Name associated with object"},{icon:"",text:"References to variables",detail:"Using bindings to access data"},{icon:"",text:"Deactivation of bindings",detail:"Temporarily hidden (e.g., shadowing)"},{icon:"",text:"Reactivation of bindings",detail:"Restored after inner scope exits"},{icon:"",text:"Destruction of bindings",detail:"Name no longer refers to object"},{icon:"",text:"Destruction of objects",detail:"Memory deallocated"}]}},{id:6,section:"lifetime",type:"problem",title:"Lifetime Mismatches",content:{problems:[{name:"Garbage",condition:"Object outlives its binding",description:"Memory allocated but unreachable",example:"Lost pointer to malloc'd memory in C",solution:"Garbage collection or careful manual management",color:"yellow"},{name:"Dangling Reference",condition:"Binding outlives its object",description:"Name refers to deallocated memory",example:"Pointer to freed memory, returning address of local",solution:"Smart pointers, ownership systems (Rust)",color:"red"}]},interactive:{type:"lifetime-demo"}},{id:7,section:"storage",type:"comparison",title:"Storage Allocation Mechanisms",content:{approaches:[{name:"Static Allocation",pros:["Fast access (fixed address)","No runtime overhead","Simple"],cons:["Fixed size","No recursion support","Wastes space if unused"],uses:"Global variables, constants, static variables, code"},{name:"Stack Allocation",pros:["Automatic management","Supports recursion","Efficient reuse"],cons:["LIFO order only","Size limits","No dynamic lifetime"],uses:"Local variables, parameters, return addresses"},{name:"Heap Allocation",pros:["Dynamic size","Arbitrary lifetime","Flexible"],cons:["Slower allocation","Fragmentation","Requires GC or manual free"],uses:"Dynamic data structures, objects with variable lifetime"}]},interactive:{type:"memory-layout"}},{id:8,section:"storage",type:"diagram",title:"Stack Frame (Activation Record)",content:{description:"Contents of a typical stack frame:",components:[{name:"Arguments",description:"Parameters passed to function",offset:"positive from FP"},{name:"Return Address",description:"Where to return after call",offset:"saved PC"},{name:"Dynamic Link",description:"Pointer to caller's frame",offset:"saved FP"},{name:"Static Link",description:"Pointer to enclosing scope (for nested functions)",offset:"optional"},{name:"Saved Registers",description:"Caller/callee saved registers",offset:"varies"},{name:"Local Variables",description:"Function's local data",offset:"negative from FP"},{name:"Temporaries",description:"Expression evaluation space",offset:"below locals"}],note:"Local variables have fixed offsets from frame pointer (FP), determined at compile time"},interactive:{type:"stack-frame"}},{id:9,section:"storage",type:"concept",title:"Why Use a Stack?",content:{description:"The stack is fundamental for two reasons:",items:[{icon:"",text:"Recursion Support",detail:"Each call gets its own frame with its own locals. Without a stack (like old FORTRAN), recursion is impossible."},{icon:"",text:"Space Reuse",detail:"When a function returns, its space is immediately available for the next call. Efficient memory usage."}],historical:"FORTRAN (pre-77) had no recursion because it used static allocation for all variables!"}},{id:10,section:"scope",type:"definition",title:"Scope Rules",content:{definition:"Rules that determine which binding a name refers to:",items:[{term:"Scope",definition:"A program region where no bindings change (or no re-declarations occur)",example:"Function body, block, module"},{term:"Open Scope",definition:"On entry: create bindings for locals, deactivate re-declared globals",example:"Entering a function"},{term:"Close Scope",definition:"On exit: destroy local bindings, reactivate hidden globals",example:"Returning from a function"},{term:"Hole in Scope",definition:"Region where an outer binding is hidden by an inner declaration",example:"Local 'x' hides global 'x'"}]}},{id:11,section:"scope",type:"concept",title:"Static (Lexical) Scope",content:{description:"Scope determined by the physical structure of the program text:",items:[{icon:"",text:"Lexical Structure",detail:"Bindings resolved by examining program text"},{icon:"",text:"Compile-Time Resolution",detail:"All references resolved before execution"},{icon:"",text:"Most Closely Nested Rule",detail:"Look in current scope, then enclosing scopes"},{icon:"",text:"Predictable",detail:"Can determine binding by reading code"}],languages:"C, C++, Java, Python, Pascal, Ada, most modern languages"}},{id:12,section:"scope",type:"concept",title:"Dynamic Scope",content:{description:"Scope determined by the runtime calling sequence:",items:[{icon:"",text:"Runtime Resolution",detail:"Bindings depend on execution path"},{icon:"",text:"Calling Sequence",detail:"Look in current activation, then caller's, then caller's caller..."},{icon:"",text:"Context-Dependent",detail:"Same code may access different variables"},{icon:"",text:"Harder to Reason About",detail:"Cannot determine binding without tracing execution"}],languages:"Early Lisp, Bash, Emacs Lisp, Perl (with 'local')",note:"Generally considered bad practice today - implicit parameter passing"}},{id:13,section:"scope",type:"interactive",title:"Static vs Dynamic Scope Example",content:{code:`var a : integer;     // global a

procedure first;
begin
  a := 1;            // which 'a'?
end;

procedure second;
var a : integer;     // local a
begin
  first;             // calls first
end;

begin                // main
  a := 2;            // global a = 2
  second;            // call second
  write(a);          // output: ???
end.`,question:"What does write(a) output?"},interactive:{type:"scope-demo"}},{id:14,section:"scope",type:"walkthrough",title:"Scope Resolution Walkthrough",content:{intro:"Tracing the execution with both scope rules:",steps:[{step:"1. Main starts",static:"global a created",dynamic:"global a created"},{step:"2. a := 2",static:"global a = 2",dynamic:"global a = 2"},{step:"3. Call second",static:"second's local a created (uninitialized)",dynamic:"second's local a created"},{step:"4. second calls first",static:"first sees global a (lexically enclosing)",dynamic:"first sees second's a (most recent on call stack)"},{step:"5. a := 1 in first",static:"global a = 1",dynamic:"second's local a = 1"},{step:"6. first returns",static:"no change",dynamic:"no change"},{step:"7. second returns",static:"second's local destroyed",dynamic:"second's local (with value 1) destroyed"},{step:"8. write(a)",static:"outputs 1 (global was modified)",dynamic:"outputs 2 (global unchanged)"}]},interactive:{type:"scope-trace"}},{id:15,section:"scope",type:"concept",title:"Static Links for Nested Scopes",content:{description:"How to access non-local variables in statically scoped languages with nested functions:",items:[{icon:"",text:"Static Link",detail:"Each frame points to the frame of its lexically enclosing routine"},{icon:"",text:"Nesting Depth",detail:"Count static links to follow: k levels out = k links"},{icon:"",text:"Fixed Offset",detail:"Variable offset within frame known at compile time"}],example:{code:`procedure A;
  var x: integer;
  procedure B;
    procedure C;
    begin
      x := 1;  // x is 2 levels out
    end;
  begin C; end;
begin B; end;`,explanation:"C's frame  B's frame  A's frame, then use x's offset"}}},{id:16,section:"scope",type:"diagram",title:"Accessing Non-Local Variables",content:{description:"Two approaches for dynamic scope implementation:",approaches:[{name:"Association List (Deep Binding)",how:"Stack of (name, value) pairs for all active variables",lookup:"Search from top of stack",tradeoff:"Slow access, fast call/return"},{name:"Central Table (Shallow Binding)",how:"Hash table with one slot per variable name",lookup:"Direct table lookup",tradeoff:"Fast access, slow call/return (must save/restore)"}],comparison:"Static scope lookup at compile time  Dynamic scope lookup at runtime"}},{id:17,section:"meaning",type:"concept",title:"Aliasing",content:{description:"When two or more names refer to the same object:",items:[{icon:"",text:"Space Saving",detail:"FORTRAN EQUIVALENCE - now obsolete"},{icon:"",text:"Multiple Representations",detail:"Unions are a better solution"},{icon:"",text:"Linked Structures",detail:"Legitimate use - multiple pointers to same node"},{icon:"",text:"Parameter Passing",detail:"Unfortunate side effect of pass-by-reference"}],problems:["Complicates optimization (compiler can't assume independence)","Makes reasoning about correctness harder","Euclid language designed to prevent aliasing"]},interactive:{type:"alias-demo"}},{id:18,section:"meaning",type:"concept",title:"Overloading",content:{description:"Same name refers to different operations based on context:",items:[{icon:"",text:"Operator Overloading",detail:"int + vs float + vs string +"},{icon:"",text:"Built-in Overloading",detail:"read/write in Pascal work with many types"},{icon:"",text:"User-Defined",detail:"C++, Ada allow defining overloaded functions"}],distinction:[{term:"Overloading",definition:"Same name, different implementations",example:"int norm(int) vs complex norm(complex)"},{term:"Polymorphism",definition:"One implementation, works on multiple types",example:"min(array of T) for any T"},{term:"Generics",definition:"Template instantiated at compile time",example:"vector<int> vs vector<string>"}]}},{id:19,section:"environment",type:"definition",title:"Referencing Environments",content:{definition:"Key concepts for understanding how names are resolved:",items:[{term:"Referencing Environment",definition:"The set of all active bindings at a given point",example:"All variables accessible at line 42"},{term:"Scope Rules",definition:"Determine WHICH scopes to examine and in what order",example:"Local  Enclosing  Global"},{term:"Binding Rules",definition:"Determine WHICH INSTANCE of a scope to use",example:"Important when passing functions as parameters"}]}},{id:20,section:"environment",type:"concept",title:"Closures and First-Class Functions",content:{description:"When functions can be passed as parameters or returned:",items:[{icon:"",text:"Closure",detail:"Function + its referencing environment at creation time"},{icon:"",text:"Captured Variables",detail:"Free variables bound when closure is created"},{icon:"",text:"Lifetime Extension",detail:"Captured variables may outlive their original scope"}],example:{code:`function makeCounter() {
  let count = 0;
  return function() {
    count += 1;
    return count;
  };
}
let c = makeCounter();
c(); // returns 1
c(); // returns 2`,explanation:"Inner function 'closes over' count variable"}},interactive:{type:"closure-demo"}},{id:21,section:"separate",type:"concept",title:"Separate Compilation",content:{description:"C's approach to multi-file programs:",items:[{icon:"",text:"static (file scope)",detail:"Visible only in current file - internal linkage"},{icon:"",text:"extern",detail:"Declared elsewhere - external linkage"},{icon:"",text:"Default (global)",detail:"Visible everywhere if not static"}],note:"C's static keyword has TWO meanings: file-scope visibility AND persistent lifetime inside functions"}},{id:22,section:"separate",type:"code",title:"C's Two Meanings of 'static'",content:{code:`// file1.c
static int hidden = 10;     // Only visible in file1.c

int visible = 20;           // Visible everywhere (extern by default)

void count() {
    static int calls = 0;   // Persistent across calls
    calls++;
    printf("Called %d times\\n", calls);
}

// file2.c
extern int visible;         // Refers to visible in file1.c
// Cannot access 'hidden' - it's static to file1.c`,explanation:[{label:"static (outside function)",meaning:"Internal linkage - file scope only"},{label:"static (inside function)",meaning:"Persistent lifetime - survives across calls"},{label:"extern",meaning:"External linkage - defined elsewhere"}]}},{id:23,section:"advanced",type:"concept",title:"Elaboration",content:{description:"The process of creating bindings when entering a scope:",items:[{icon:"",text:"Declaration Processing",detail:"Evaluate initializers, allocate space"},{icon:"",text:"Size Computation",detail:"For arrays with runtime bounds"},{icon:"",text:"Task Creation",detail:"Ada can start tasks during elaboration"},{icon:"",text:"Exception Handling",detail:"Elaboration can raise exceptions"}],languages:"Term popularized by Algol 68, used extensively in Ada"}},{id:24,section:"advanced",type:"concept",title:"Modules and Information Hiding",content:{description:"Modules provide closed scopes with controlled visibility:",items:[{icon:"",text:"Encapsulation",detail:"Group related code and data"},{icon:"",text:"Information Hiding",detail:"Internal details not visible outside"},{icon:"",text:"Extended Lifetime",detail:"Module-level bindings persist (unlike locals)"},{icon:"",text:"Controlled Export",detail:"Explicit interface defines what's visible"}],evolution:[{stage:"Subroutines",feature:"Local scope"},{stage:"Static/Own",feature:"Persistent locals"},{stage:"Modules",feature:"Grouped scope with export"},{stage:"Classes",feature:"Module types + inheritance"}]}},{id:25,section:"summary",type:"summary",title:"Chapter 3 Summary",content:{sections:[{title:"Names and Bindings",points:["Binding associates names with entities","Binding time affects flexibility vs efficiency","Early binding  efficiency, Late binding  flexibility"]},{title:"Lifetime and Storage",points:["Static: fixed address, no recursion","Stack: automatic, supports recursion","Heap: dynamic, requires management"]},{title:"Scope Rules",points:["Static scope: determined by program text","Dynamic scope: determined by call stack","Static scope preferred in modern languages"]},{title:"Advanced Topics",points:["Aliasing complicates optimization","Closures capture referencing environments","Modules provide information hiding"]}]}}],gh=()=>{const[s,o]=w.useState(null),d=[{name:"Design Time",example:"'+' means addition",bound:"language"},{name:"Compile Time",example:"int x  offset 4",bound:"compiler"},{name:"Link Time",example:"printf  0x401000",bound:"linker"},{name:"Load Time",example:"base addr  0x7fff",bound:"loader"},{name:"Run Time",example:"x = input()",bound:"execution"}];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-cyan-400 text-base mb-4 font-mono",children:"Interactive: Binding Time Spectrum"}),a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("span",{className:"text-green-400 text-sm",children:"Early (Efficient)"}),a.jsx("div",{className:"flex-1 h-2 bg-gradient-to-r from-green-500 via-yellow-500 to-red-500 mx-4 rounded"}),a.jsx("span",{className:"text-red-400 text-sm",children:"Late (Flexible)"})]}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:d.map((r,m)=>a.jsx("button",{onClick:()=>o(m),className:`p-3 rounded-lg text-center transition-all ${s===m?"bg-cyan-500 text-white scale-105":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:a.jsx("div",{className:"text-xs font-bold",children:r.name})},m))}),s!==null&&a.jsxs("div",{className:"mt-4 p-4 bg-slate-900 rounded-lg",children:[a.jsx("div",{className:"text-cyan-400 font-bold",children:d[s].name}),a.jsxs("div",{className:"text-white mt-2",children:["Example: ",a.jsx("code",{className:"text-green-400",children:d[s].example})]}),a.jsxs("div",{className:"text-slate-400 mt-1",children:["Determined by: ",d[s].bound]})]})]})},bh=()=>{const[s,o]=w.useState("normal"),d={normal:{title:"Normal Operation",binding:"Active",object:"Exists",status:" Healthy",color:"green"},garbage:{title:"Garbage (Memory Leak)",binding:"Destroyed",object:"Still Exists",status:" Unreachable memory",color:"yellow"},dangling:{title:"Dangling Reference",binding:"Still Active",object:"Destroyed",status:" Crash risk!",color:"red"}},r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-cyan-400 text-base mb-4 font-mono",children:"Interactive: Lifetime Mismatches"}),a.jsx("div",{className:"flex gap-2 mb-4",children:Object.keys(d).map(m=>a.jsx("button",{onClick:()=>o(m),className:`px-4 py-2 rounded transition-all ${s===m?`bg-${d[m].color}-500 text-white`:"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:d[m].title},m))}),a.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[a.jsxs("div",{className:`p-6 rounded-lg border-2 ${r.binding==="Active"?"border-green-500 bg-green-500/10":"border-slate-600 bg-slate-900"}`,children:[a.jsx("div",{className:"text-slate-400 text-sm",children:"Binding (Name)"}),a.jsx("div",{className:"text-xl font-bold text-white",children:r.binding})]}),a.jsxs("div",{className:`p-6 rounded-lg border-2 ${r.object==="Exists"?"border-green-500 bg-green-500/10":"border-slate-600 bg-slate-900"}`,children:[a.jsx("div",{className:"text-slate-400 text-sm",children:"Object (Memory)"}),a.jsx("div",{className:"text-xl font-bold text-white",children:r.object})]})]}),a.jsx("div",{className:`mt-4 p-6 rounded-lg text-center text-lg font-bold ${r.color==="green"?"bg-green-500/20 text-green-400":r.color==="yellow"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:r.status})]})},vh=()=>{const[s,o]=w.useState(null),d=[{name:"Stack",color:"blue",items:["Local vars","Parameters","Return addr"],grows:""},{name:" Free",color:"slate",items:["Available memory"],grows:""},{name:"Heap",color:"green",items:["malloc'd data","Objects","Dynamic arrays"],grows:""},{name:"Static/BSS",color:"yellow",items:["Global vars","Static vars"],grows:""},{name:"Code",color:"purple",items:["Instructions","Constants"],grows:""}];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-cyan-400 text-base mb-4 font-mono",children:"Interactive: Memory Layout"}),a.jsxs("div",{className:"flex gap-5",children:[a.jsx("div",{className:"w-48 space-y-1",children:d.map((r,m)=>a.jsx("div",{onClick:()=>o(m),className:`p-3 rounded cursor-pointer transition-all ${s===m?`bg-${r.color}-500 text-white`:`bg-${r.color}-500/20 text-${r.color}-400 hover:bg-${r.color}-500/40`}`,children:a.jsxs("div",{className:"font-bold flex justify-between",children:[a.jsx("span",{children:r.name}),r.grows&&a.jsx("span",{children:r.grows})]})},m))}),a.jsx("div",{className:"flex-1 bg-slate-900 p-6 rounded-lg",children:s!==null?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-lg font-bold text-white mb-2",children:d[s].name}),a.jsx("ul",{className:"space-y-1",children:d[s].items.map((r,m)=>a.jsxs("li",{className:"text-slate-300",children:[" ",r]},m))}),d[s].grows&&a.jsxs("div",{className:"mt-3 text-slate-400",children:["Grows: ",d[s].grows===""?"downward (toward heap)":"upward (toward stack)"]})]}):a.jsx("div",{className:"text-slate-500",children:"Click a memory region to learn more"})})]})]})},yh=()=>{const[s,o]=w.useState(0),d=[{title:"Before Call",frames:[{name:"main",vars:["x=5","y=10"]}],action:"main() is executing"},{title:"Push Arguments",frames:[{name:"main",vars:["x=5","y=10"]},{name:"foo args",vars:["arg1=5"]}],action:"Push argument for foo(x)"},{title:"Save Return Address",frames:[{name:"main",vars:["x=5","y=10"]},{name:"foo",vars:["arg1=5","ret=main+42"]}],action:"Save where to return"},{title:"Allocate Locals",frames:[{name:"main",vars:["x=5","y=10"]},{name:"foo",vars:["arg1=5","ret=main+42","local=0"]}],action:"foo's local variables"},{title:"foo() Executes",frames:[{name:"main",vars:["x=5","y=10"]},{name:"foo",vars:["arg1=5","ret=main+42","local=100"]}],action:"foo modifies its locals"},{title:"Return",frames:[{name:"main",vars:["x=5","y=10"]}],action:"Pop foo's frame, return to main"}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-cyan-400 text-base mb-4 font-mono",children:"Interactive: Stack Frame Lifecycle"}),a.jsxs("div",{className:"flex gap-5",children:[a.jsxs("div",{className:"w-48",children:[a.jsx("div",{className:"text-slate-400 text-xs mb-2",children:"Stack (grows )"}),a.jsx("div",{className:"space-y-1",children:r.frames.map((m,f)=>a.jsxs("div",{className:`p-2 rounded ${f===r.frames.length-1?"bg-cyan-500":"bg-slate-700"}`,children:[a.jsx("div",{className:"font-bold text-white text-sm",children:m.name}),m.vars.map((g,N)=>a.jsx("div",{className:"text-xs text-slate-300 ml-2",children:g},N))]},f))})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg mb-4",children:[a.jsx("div",{className:"text-lg font-bold text-white",children:r.title}),a.jsx("div",{className:"text-slate-300 mt-2",children:r.action})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>o(Math.max(0,s-1)),disabled:s===0,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>o(Math.min(d.length-1,s+1)),disabled:s>=d.length-1,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50",children:"Next "}),a.jsx("button",{onClick:()=>o(0),className:"px-5 py-2 bg-cyan-600 rounded text-base",children:"Reset"})]})]})]})]})},nx=()=>{const[s,o]=w.useState("static"),[d,r]=w.useState(0),g=s==="static"?[{line:"a := 2 (main)",globalA:2,secondA:"-",note:"Initialize global"},{line:"call second",globalA:2,secondA:"?",note:"Enter second, create local a"},{line:"call first",globalA:2,secondA:"?",note:"Enter first"},{line:"a := 1 (first)",globalA:1,secondA:"?",note:"first modifies GLOBAL a (lexical)"},{line:"return to second",globalA:1,secondA:"?",note:"Back in second"},{line:"return to main",globalA:1,secondA:"-",note:"second's a destroyed"},{line:"write(a)",globalA:1,secondA:"-",note:"Output: 1"}]:[{line:"a := 2 (main)",globalA:2,secondA:"-",note:"Initialize global"},{line:"call second",globalA:2,secondA:"?",note:"Enter second, create local a"},{line:"call first",globalA:2,secondA:"?",note:"Enter first"},{line:"a := 1 (first)",globalA:2,secondA:1,note:"first modifies SECOND's a (dynamic)"},{line:"return to second",globalA:2,secondA:1,note:"Back in second"},{line:"return to main",globalA:2,secondA:"-",note:"second's a (with 1) destroyed"},{line:"write(a)",globalA:2,secondA:"-",note:"Output: 2"}],N=g[d];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-cyan-400 text-base mb-4 font-mono",children:"Interactive: Static vs Dynamic Scope"}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("button",{onClick:()=>{o("static"),r(0)},className:`px-4 py-2 rounded ${s==="static"?"bg-blue-500 text-white":"bg-slate-700"}`,children:"Static Scope"}),a.jsx("button",{onClick:()=>{o("dynamic"),r(0)},className:`px-4 py-2 rounded ${s==="dynamic"?"bg-purple-500 text-white":"bg-slate-700"}`,children:"Dynamic Scope"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-5 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-3 rounded",children:[a.jsx("div",{className:"text-slate-500 text-sm",children:"Executing"}),a.jsx("div",{className:"text-white font-mono",children:N.line})]}),a.jsxs("div",{className:"bg-slate-900 p-3 rounded",children:[a.jsx("div",{className:"text-slate-500 text-sm",children:"Global a"}),a.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:N.globalA})]}),a.jsxs("div",{className:"bg-slate-900 p-3 rounded",children:[a.jsx("div",{className:"text-slate-500 text-sm",children:"second's local a"}),a.jsx("div",{className:"text-2xl font-bold text-amber-400",children:N.secondA})]})]}),a.jsx("div",{className:`p-6 rounded-lg mb-4 ${s==="static"?"bg-blue-500/20":"bg-purple-500/20"}`,children:a.jsx("div",{className:"text-slate-300",children:N.note})}),a.jsx("div",{className:"flex gap-2 justify-center mb-4",children:g.map((h,p)=>a.jsx("button",{onClick:()=>r(p),className:`w-3 h-3 rounded-full ${p===d?"bg-cyan-500":p<d?"bg-green-500":"bg-slate-600"}`},p))}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx("button",{onClick:()=>r(Math.max(0,d-1)),disabled:d===0,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>r(Math.min(g.length-1,d+1)),disabled:d>=g.length-1,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50",children:"Next "}),a.jsx("button",{onClick:()=>r(0),className:"px-5 py-2 bg-cyan-600 rounded text-base",children:"Reset"})]}),a.jsxs("div",{className:`mt-4 p-6 rounded-lg text-center text-2xl font-bold ${s==="static"?"bg-blue-500 text-white":"bg-purple-500 text-white"}`,children:["Output: ",s==="static"?"1":"2"]})]})},jh=()=>{const[s,o]=w.useState(10);return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-cyan-400 text-base mb-4 font-mono",children:"Interactive: Aliasing"}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg mb-4 font-mono text-sm",children:[a.jsxs("div",{className:"text-slate-400",children:["int x = ",s,";"]}),a.jsx("div",{className:"text-slate-400",children:"int* p = &x;  // p is alias for x"}),a.jsx("div",{className:"text-slate-400",children:"int& r = x;   // r is alias for x"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-5 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded text-center",children:[a.jsx("div",{className:"text-slate-500 text-sm",children:"x"}),a.jsx("div",{className:"text-5xl font-bold text-white",children:s})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded text-center",children:[a.jsx("div",{className:"text-slate-500 text-sm",children:"*p"}),a.jsx("div",{className:"text-3xl font-bold text-cyan-400",children:s})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded text-center",children:[a.jsx("div",{className:"text-slate-500 text-sm",children:"r"}),a.jsx("div",{className:"text-3xl font-bold text-amber-400",children:s})]})]}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx("button",{onClick:()=>o(s+1),className:"px-4 py-2 bg-slate-700 rounded",children:"x++"}),a.jsx("button",{onClick:()=>o(s+10),className:"px-5 py-2 bg-cyan-600 rounded text-base",children:"*p += 10"}),a.jsx("button",{onClick:()=>o(s*2),className:"px-4 py-2 bg-amber-600 rounded",children:"r *= 2"}),a.jsx("button",{onClick:()=>o(10),className:"px-4 py-2 bg-slate-600 rounded",children:"Reset"})]}),a.jsx("div",{className:"mt-4 text-center text-slate-400",children:"All three names refer to the same memory location!"})]})},Nh=()=>{const[s,o]=w.useState([0,0]);return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-cyan-400 text-base mb-4 font-mono",children:"Interactive: Closures"}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg mb-4 font-mono text-sm",children:[a.jsxs("div",{className:"text-green-400",children:["function makeCounter() ","{"]}),a.jsx("div",{className:"text-green-400 ml-4",children:"let count = 0;"}),a.jsxs("div",{className:"text-green-400 ml-4",children:["return () => ","{ count++; return count; }"]}),a.jsx("div",{className:"text-green-400",children:"}"}),a.jsx("div",{className:"text-slate-400 mt-2",children:"let counter1 = makeCounter();"}),a.jsx("div",{className:"text-slate-400",children:"let counter2 = makeCounter();"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-5",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded text-center",children:[a.jsx("div",{className:"text-slate-500 text-sm mb-2",children:"counter1's count"}),a.jsx("div",{className:"text-4xl font-bold text-cyan-400 mb-4",children:s[0]}),a.jsx("button",{onClick:()=>o([s[0]+1,s[1]]),className:"px-5 py-2 bg-cyan-600 rounded text-base",children:"counter1()"})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded text-center",children:[a.jsx("div",{className:"text-slate-500 text-sm mb-2",children:"counter2's count"}),a.jsx("div",{className:"text-4xl font-bold text-amber-400 mb-4",children:s[1]}),a.jsx("button",{onClick:()=>o([s[0],s[1]+1]),className:"px-4 py-2 bg-amber-600 rounded",children:"counter2()"})]})]}),a.jsx("div",{className:"mt-4 text-center text-slate-400",children:"Each closure has its own captured 'count' variable!"}),a.jsx("button",{onClick:()=>o([0,0]),className:"mt-2 px-4 py-2 bg-slate-600 rounded block mx-auto",children:"Reset Both"})]})},Sh=({slide:s})=>a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[a.jsx("div",{className:"text-6xl mb-8",children:""}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:s.title}),s.content.subtitle&&a.jsx("h2",{className:"text-xl text-cyan-400 mb-8",children:s.content.subtitle}),a.jsx("div",{className:"mt-8 flex flex-wrap gap-2 justify-center max-w-2xl",children:s.content.topics?.map((o,d)=>a.jsx("span",{className:"px-3 py-1 bg-slate-800 text-slate-300 rounded-full text-sm",children:o},d))})]}),Th=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.definition&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.definition}),a.jsx("div",{className:"space-y-5",children:s.content.items?.map((o,d)=>a.jsx("div",{className:"bg-slate-800/50 p-6 rounded-lg border-l-4 border-cyan-500",children:a.jsxs("div",{className:"flex items-start gap-5",children:[a.jsx("span",{className:"text-cyan-400 font-bold text-lg",children:o.term||d+1}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white",children:o.definition||o.text}),o.example&&a.jsxs("p",{className:"text-slate-400 font-mono text-sm mt-2",children:["Example: ",o.example]}),o.detail&&a.jsx("p",{className:"text-slate-300 text-xl mt-1",children:o.detail})]})]})},d))})]}),Ch=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-4",children:s.title}),s.content.description&&a.jsx("p",{className:"text-slate-300 mb-8",children:s.content.description}),a.jsx("div",{className:"space-y-2",children:s.content.timeline?.map((o,d)=>a.jsxs("div",{className:"flex items-center gap-5 bg-slate-800/50 p-3 rounded-lg",children:[a.jsx("div",{className:"w-40 text-cyan-400 font-bold text-sm",children:o.time}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-white",children:o.decisions}),a.jsx("div",{className:"text-slate-400 text-sm font-mono",children:o.example})]})]},d))}),s.interactive?.type==="binding-time"&&a.jsx(gh,{})]}),wh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.comparison&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.content.comparison.map((o,d)=>a.jsxs("div",{className:`p-6 rounded-lg border ${d===0?"border-green-500 bg-green-500/10":"border-orange-500 bg-orange-500/10"}`,children:[a.jsx("h3",{className:`font-bold text-xl mb-2 ${d===0?"text-green-400":"text-orange-400"}`,children:o.name}),a.jsx("p",{className:"text-slate-300 mb-3",children:o.description}),a.jsx("ul",{className:"space-y-1 mb-3",children:o.characteristics?.map((r,m)=>a.jsxs("li",{className:"text-slate-400 text-sm",children:[" ",r]},m))}),a.jsxs("p",{className:"text-slate-500 text-sm",children:["Languages: ",o.examples]})]},d))}),s.content.approaches&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:s.content.approaches.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-cyan-400 font-bold mb-3",children:o.name}),a.jsxs("div",{className:"mb-2",children:[a.jsx("p",{className:"text-green-400 text-xs mb-1",children:" Pros"}),a.jsx("ul",{className:"text-slate-300 text-sm",children:o.pros?.map((r,m)=>a.jsxs("li",{children:[" ",r]},m))})]}),a.jsxs("div",{className:"mb-2",children:[a.jsx("p",{className:"text-red-400 text-xs mb-1",children:" Cons"}),a.jsx("ul",{className:"text-slate-400 text-sm",children:o.cons?.map((r,m)=>a.jsxs("li",{children:[" ",r]},m))})]}),o.uses&&a.jsxs("p",{className:"text-slate-500 text-sm mt-2",children:["Uses: ",o.uses]})]},d))}),s.content.insight&&a.jsx("div",{className:"mt-6 p-4 bg-cyan-500/20 border border-cyan-500 rounded-lg text-center",children:a.jsx("p",{className:"text-cyan-400 font-bold",children:s.content.insight})}),s.interactive?.type==="memory-layout"&&a.jsx(vh,{})]}),Hm=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.description}),s.content.items&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:s.content.items.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-lg flex items-start gap-3",children:[o.icon&&a.jsx("span",{className:"text-5xl",children:o.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium text-2xl",children:o.text}),o.detail&&a.jsx("p",{className:"text-slate-300 text-xl mt-1",children:o.detail})]})]},d))}),s.content.languages&&a.jsxs("p",{className:"mt-4 text-slate-400",children:["Languages: ",s.content.languages]}),s.content.note&&a.jsx("p",{className:"mt-4 text-amber-400 italic",children:s.content.note}),s.content.historical&&a.jsx("div",{className:"mt-4 p-3 bg-amber-500/20 rounded-lg",children:a.jsx("p",{className:"text-amber-400",children:s.content.historical})}),s.content.problems&&a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("p",{className:"text-slate-400 font-medium",children:"Issues:"}),s.content.problems.map((o,d)=>a.jsxs("p",{className:"text-red-400 text-sm",children:[" ",o]},d))]}),s.content.distinction&&a.jsx("div",{className:"mt-6 space-y-3",children:s.content.distinction.map((o,d)=>a.jsxs("div",{className:"bg-slate-800 p-3 rounded-lg",children:[a.jsxs("span",{className:"text-cyan-400 font-bold",children:[o.term,": "]}),a.jsx("span",{className:"text-white",children:o.definition}),o.example&&a.jsxs("span",{className:"text-slate-400 font-mono text-sm ml-2",children:["(",o.example,")"]})]},d))}),s.content.example&&a.jsxs("div",{className:"mt-4 bg-slate-900 p-6 rounded-lg",children:[a.jsx("pre",{className:"text-green-400 font-mono text-sm whitespace-pre-wrap",children:s.content.example.code}),s.content.example.explanation&&a.jsx("p",{className:"text-slate-400 mt-2",children:s.content.example.explanation})]}),s.interactive?.type==="alias-demo"&&a.jsx(jh,{}),s.interactive?.type==="closure-demo"&&a.jsx(Nh,{})]}),Eh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"space-y-6",children:s.content.problems?.map((o,d)=>a.jsxs("div",{className:`p-6 rounded-lg border-2 ${o.color==="yellow"?"border-yellow-500 bg-yellow-500/10":o.color==="red"?"border-red-500 bg-red-500/10":"border-slate-500 bg-slate-800/50"}`,children:[a.jsx("h3",{className:`font-bold text-xl mb-2 ${o.color==="yellow"?"text-yellow-400":o.color==="red"?"text-red-400":"text-white"}`,children:o.name}),a.jsxs("p",{className:"text-slate-300 mb-2",children:[a.jsx("strong",{children:"Condition:"})," ",o.condition]}),a.jsx("p",{className:"text-slate-400 mb-2",children:o.description}),a.jsxs("p",{className:"text-slate-400 mb-2",children:[a.jsx("strong",{children:"Example:"})," ",o.example]}),a.jsxs("p",{className:"text-green-400",children:[a.jsx("strong",{children:"Solution:"})," ",o.solution]})]},d))}),s.interactive?.type==="lifetime-demo"&&a.jsx(bh,{})]}),Ah=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-4",children:s.title}),s.content.description&&a.jsx("p",{className:"text-slate-300 mb-8",children:s.content.description}),s.content.components&&a.jsx("div",{className:"space-y-2",children:s.content.components.map((o,d)=>a.jsxs("div",{className:"flex items-center gap-5 bg-slate-800/50 p-3 rounded-lg",children:[a.jsx("div",{className:"w-32 text-cyan-400 font-bold",children:o.name}),a.jsx("div",{className:"flex-1 text-white",children:o.description}),a.jsx("div",{className:"text-slate-400 font-mono text-sm",children:o.offset})]},d))}),s.content.approaches&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 mt-4",children:s.content.approaches.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-cyan-400 font-bold mb-2",children:o.name}),a.jsxs("p",{className:"text-slate-300 text-sm mb-2",children:[a.jsx("strong",{children:"How:"})," ",o.how]}),a.jsxs("p",{className:"text-slate-300 text-sm mb-2",children:[a.jsx("strong",{children:"Lookup:"})," ",o.lookup]}),a.jsx("p",{className:"text-amber-400 text-sm",children:o.tradeoff})]},d))}),s.content.note&&a.jsx("p",{className:"mt-4 text-slate-400 italic",children:s.content.note}),s.content.comparison&&a.jsx("p",{className:"mt-4 text-cyan-400",children:s.content.comparison}),s.interactive?.type==="stack-frame"&&a.jsx(yh,{})]}),kh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-4",children:s.title}),s.content.intro&&a.jsx("p",{className:"text-slate-300 mb-8",children:s.content.intro}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-slate-700",children:[a.jsx("th",{className:"text-left p-2 text-slate-400",children:"Step"}),a.jsx("th",{className:"text-left p-2 text-blue-400",children:"Static Scope"}),a.jsx("th",{className:"text-left p-2 text-purple-400",children:"Dynamic Scope"})]})}),a.jsx("tbody",{children:s.content.steps?.map((o,d)=>a.jsxs("tr",{className:"border-b border-slate-800",children:[a.jsx("td",{className:"p-2 text-white font-mono",children:o.step}),a.jsx("td",{className:"p-2 text-slate-300",children:o.static}),a.jsx("td",{className:"p-2 text-slate-300",children:o.dynamic})]},d))})]})}),s.interactive?.type==="scope-trace"&&a.jsx(nx,{})]}),Oh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-4",children:s.title}),s.content.code&&a.jsx("div",{className:"bg-slate-900 p-6 rounded-lg mb-4",children:a.jsx("pre",{className:"text-green-400 font-mono text-sm whitespace-pre-wrap",children:s.content.code})}),s.content.question&&a.jsx("p",{className:"text-xl text-amber-400 mb-4",children:s.content.question}),s.interactive?.type==="scope-demo"&&a.jsx(nx,{})]}),Mh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"bg-slate-900 p-6 rounded-lg mb-8",children:a.jsx("pre",{className:"text-green-400 font-mono text-sm whitespace-pre-wrap",children:s.content.code})}),s.content.explanation&&a.jsx("div",{className:"space-y-2",children:s.content.explanation.map((o,d)=>a.jsxs("div",{className:"flex gap-5 bg-slate-800/50 p-3 rounded",children:[a.jsx("span",{className:"text-cyan-400 font-mono min-w-48",children:o.label}),a.jsx("span",{className:"text-slate-300",children:o.meaning})]},d))})]}),Rh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 flex flex-col justify-center overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8 text-center",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.content.sections?.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-cyan-400 font-bold text-2xl mb-4",children:o.title}),a.jsx("ul",{className:"space-y-2",children:o.points.map((r,m)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-400 mt-1",children:""}),a.jsx("span",{className:"text-slate-300 text-xl",children:r})]},m))})]},d))})]}),Lh=({slide:s})=>{switch(s.type){case"title":return a.jsx(Sh,{slide:s});case"definition":return a.jsx(Th,{slide:s});case"timeline":return a.jsx(Ch,{slide:s});case"comparison":return a.jsx(wh,{slide:s});case"concept":return a.jsx(Hm,{slide:s});case"problem":return a.jsx(Eh,{slide:s});case"diagram":return a.jsx(Ah,{slide:s});case"walkthrough":return a.jsx(kh,{slide:s});case"interactive":return a.jsx(Oh,{slide:s});case"code":return a.jsx(Mh,{slide:s});case"summary":return a.jsx(Rh,{slide:s});default:return a.jsx(Hm,{slide:s})}};function Dh({onBackToChapters:s}){const[o,d]=w.useState(0),[r,m]=w.useState(!1),f=[...new Set(Lt.map(h=>h.section))],g=w.useCallback(h=>{h.key==="ArrowRight"||h.key===" "?d(p=>Math.min(p+1,Lt.length-1)):h.key==="ArrowLeft"?d(p=>Math.max(p-1,0)):h.key==="Escape"?m(!1):h.key==="m"&&m(p=>!p)},[]);w.useEffect(()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)),[g]);const N=Lt[o];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm z-40 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("button",{onClick:()=>m(!r),className:"p-2 hover:bg-slate-700 rounded",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("span",{className:"text-cyan-400 font-bold",children:["Ch 3: ",fh.title]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-slate-400 text-sm",children:[o+1," / ",Lt.length]}),a.jsx("button",{type:"button",onClick:s,"aria-label":"Back to chapters",title:"Back to chapters",className:"p-1.5 rounded-full border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 hover:bg-slate-700/60 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs",children:N.section})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>m(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-slate-800 p-4 overflow-auto",onClick:h=>h.stopPropagation(),children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Chapter 3 Slides"}),f.map(h=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-cyan-400 text-sm uppercase tracking-wider mb-2",children:h}),Lt.filter(p=>p.section===h).map(p=>a.jsxs("button",{onClick:()=>{d(Lt.indexOf(p)),m(!1)},className:`block w-full text-left px-3 py-2 rounded mb-1 ${Lt.indexOf(p)===o?"bg-cyan-500 text-white":"hover:bg-slate-700"}`,children:[a.jsx("span",{className:"text-xs opacity-60 mr-2",children:p.id}),p.title]},p.id))]},h))]})}),a.jsx("main",{className:"pt-14 pb-16 min-h-screen",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(Lh,{slide:N})})}),a.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("button",{onClick:()=>d(h=>Math.max(h-1,0)),disabled:o===0,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 rounded disabled:opacity-30",children:" Previous"}),a.jsx("div",{className:"flex-1 mx-8",children:a.jsx("div",{className:"h-1 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-cyan-500 transition-all",style:{width:`${(o+1)/Lt.length*100}%`}})})}),a.jsx("button",{onClick:()=>d(h=>Math.min(h+1,Lt.length-1)),disabled:o===Lt.length-1,className:"flex items-center gap-2 px-5 py-2 bg-cyan-600 rounded text-base disabled:opacity-30",children:"Next "})]}),a.jsxs("div",{className:"text-center text-slate-500 text-sm pb-2",children:[a.jsx("kbd",{className:"px-1 bg-slate-700 rounded",children:""})," ",a.jsx("kbd",{className:"px-1 bg-slate-700 rounded",children:""})," navigate  ",a.jsx("kbd",{className:"px-1 bg-slate-700 rounded",children:"M"})," menu"]})]})]})}const zh={title:"Semantic Analysis"},Dt=[{id:1,section:"intro",type:"title",title:"Chapter 4: Semantic Analysis",content:{subtitle:"Understanding Program Meaning",topics:["Role of Semantic Analysis","Attribute Grammars","Synthesized vs Inherited Attributes","S-Attributed & L-Attributed Grammars","Action Routines","Parse Trees vs Syntax Trees"]}},{id:2,section:"role",type:"concept",title:"Role of Semantic Analysis",content:{description:"Following parsing, the compiler performs semantic analysis:",items:[{icon:"",text:"Enforce Static Semantic Rules",detail:"Type checking, scope resolution, declaration requirements"},{icon:"",text:"Construct Syntax Tree",detail:"Abstract representation of program structure"},{icon:"",text:"Gather Information",detail:"Type info, symbol tables for code generation"},{icon:"",text:"Resolve References",detail:"Connect variable uses to declarations"}],note:"Static semantics = what can be checked at compile time"}},{id:3,section:"role",type:"diagram",title:"Where Semantic Analysis Fits",content:{phases:[{name:"Scanner",output:"Tokens",done:!0},{name:"Parser",output:"Parse Tree",done:!0},{name:"Semantic Analyzer",output:"Decorated AST",current:!0},{name:"IR Generator",output:"Intermediate Code",done:!1},{name:"Optimizer",output:"Optimized IR",done:!1},{name:"Code Generator",output:"Machine Code",done:!1}],note:"These phases may be interleaved or separate depending on compiler design"}},{id:4,section:"role",type:"comparison",title:"Interleaved vs Separate Phases",content:{approaches:[{name:"Interleaved (One-Pass)",pros:["Memory efficient","No explicit tree needed","Fast for simple languages"],cons:["Limited optimization","Forward references hard","Must be L-attributed"],example:"Early Pascal compilers"},{name:"Separate Phases",pros:["More optimization possible","Cleaner design","Can use complex traversals"],cons:["More memory","Multiple passes","Slower compilation"],example:"Modern optimizing compilers"}]}},{id:5,section:"attributes",type:"definition",title:"Attribute Grammars",content:{definition:"A formal framework for decorating parse/syntax trees with semantic information:",items:[{term:"Attribute",definition:"A property associated with a grammar symbol",example:"val, type, code, env"},{term:"Semantic Rule",definition:"Defines how to compute an attribute",example:"E.val = E1.val + T.val"},{term:"Decoration",definition:"Process of computing all attributes",example:"Bottom-up or mixed traversal"},{term:"Semantic Function",definition:"The code that computes attribute values",example:"sum(a, b) { return a + b; }"}]}},{id:6,section:"attributes",type:"grammar",title:"Expression Grammar (Syntax Only)",content:{title:"LR grammar for arithmetic expressions:",productions:["E  E + T","E  E - T","E  T","T  T * F","T  T / F","T  F","F  - F","F  ( E )","F  const"],note:"This grammar says nothing about what the program MEANS - just its structure"}},{id:7,section:"attributes",type:"grammar",title:"Expression Grammar (With Semantics)",content:{title:"Adding semantic rules to compute values:",productions:["E  E + T    { E.val = E.val + T.val }","E  E - T    { E.val = E.val - T.val }","E  T       { E.val = T.val }","T  T * F    { T.val = T.val * F.val }","T  T / F    { T.val = T.val / F.val }","T  F       { T.val = F.val }","F  - F     { F.val = -F.val }","F  ( E )    { F.val = E.val }","F  const    { F.val = const.val }"],note:"Rules are DEFINITIONS, not assignments - they specify relationships"},interactive:{type:"attribute-grammar"}},{id:8,section:"attributes",type:"concept",title:"Synthesized Attributes",content:{description:"Attributes computed from children (bottom-up flow):",items:[{icon:"",text:"Flow Direction",detail:"Information flows UP the tree from leaves to root"},{icon:"",text:"Dependency",detail:"Depends only on attributes of children in parse tree"},{icon:"",text:"Common Uses",detail:"Computed values, generated code, expression types"},{icon:"",text:"Tokens",detail:"Have only synthesized attributes (from scanner)"}],example:{rule:"E  E + T",computation:"E.val = E.val + T.val",explanation:"Parent's val computed from children's val"}}},{id:9,section:"attributes",type:"concept",title:"Inherited Attributes",content:{description:"Attributes passed down or across (top-down or left-right flow):",items:[{icon:"",text:"Flow Direction",detail:"Information flows DOWN from parent or LEFT from siblings"},{icon:"",text:"Dependency",detail:"May depend on parent or left siblings' attributes"},{icon:"",text:"Common Uses",detail:"Type context, environment/symbol table, label targets"},{icon:"",text:"Start Symbol",detail:"Inherited attributes are compiler parameters (e.g., flags)"}],example:{rule:"For type declarations",computation:"Pass type info down to variable list",explanation:"int a, b, c;  type 'int' inherited by a, b, c"}}},{id:10,section:"attributes",type:"interactive",title:"Attribute Flow Visualization",content:{description:"See how synthesized and inherited attributes flow through the tree:"},interactive:{type:"attribute-flow"}},{id:11,section:"grammar-types",type:"definition",title:"S-Attributed Grammars",content:{definition:"Grammars using ONLY synthesized attributes:",items:[{term:"Property",definition:"All attributes computed bottom-up",example:"Expression evaluation"},{term:"Advantage",definition:"Can be evaluated in single bottom-up pass",example:"During LR parsing"},{term:"Limitation",definition:"Cannot pass context downward",example:"Type inheritance hard"},{term:"Typical Use",definition:"Calculator-style evaluation",example:"Our expression grammar"}],note:"S-attributed  L-attributed (all S-attributed are also L-attributed)"}},{id:12,section:"grammar-types",type:"definition",title:"L-Attributed Grammars",content:{definition:"Grammars where attributes can be evaluated left-to-right:",items:[{term:"Synthesized Rule",definition:"LHS attribute depends only on RHS symbols",example:"E.val = f(T.val, E'.val)"},{term:"Inherited Rule",definition:"RHS attribute depends on LHS inherited OR symbols to its LEFT",example:"T.env = E.env (from parent)"},{term:"Advantage",definition:"Evaluated during LL parse (single pass)",example:"Most practical compilers"},{term:"Key Property",definition:"No right-to-left dependencies in a production",example:"A  B C: C can't depend on B's synthesized attrs"}]}},{id:13,section:"grammar-types",type:"comparison",title:"Attribute Evaluation: LL vs LR",content:{approaches:[{name:"LL Parsing (Top-Down)",pros:["Inherited attributes easy","L-attributed natural fit","Predictive"],cons:["Need to transform grammars","Right recursion for left-to-right flow"],attributes:"Both synthesized and inherited"},{name:"LR Parsing (Bottom-Up)",pros:["S-attributed natural fit","Larger grammar class","No transformation"],cons:["Inherited attributes tricky","Need 'markers' for inherited"],attributes:"Primarily synthesized"}],insight:"LL + L-attributed is a very practical combination used in many compilers"}},{id:14,section:"evaluation",type:"interactive",title:"Parse Tree Construction: (1 + 3) * 2",content:{expression:"(1 + 3) * 2",expectedResult:8,description:"Watch the parse tree being built step-by-step with attribute values propagating upward:"},interactive:{type:"parse-tree-visual"}},{id:15,section:"evaluation",type:"interactive",title:"Visual: Parse Tree vs AST",content:{description:"Compare the verbose parse tree to the compact abstract syntax tree:"},interactive:{type:"ast-vs-parse"}},{id:16,section:"action",type:"concept",title:"Action Routines",content:{description:"Semantic functions executed at specific points during parsing:",items:[{icon:"",text:"Definition",detail:"Code fragments embedded in grammar productions"},{icon:"",text:"Execution",detail:"Run when parser reaches that point in production"},{icon:"",text:"Purpose",detail:"Semantic checks, tree building, code generation"},{icon:"",text:"Stack-Based",detail:"Often use attribute stack parallel to parse stack"}],example:{production:"E  E + T",action:"{ push(pop() + pop()); }",explanation:"Pop two values, push their sum"}}},{id:17,section:"action",type:"code",title:"Action Routines in Practice",content:{code:`/* Yacc/Bison style */
expr: expr '+' term   { $$ = $1 + $3; }
    | expr '-' term   { $$ = $1 - $3; }
    | term            { $$ = $1; }
    ;

term: term '*' factor { $$ = $1 * $3; }
    | term '/' factor { $$ = $1 / $3; }
    | factor          { $$ = $1; }
    ;

factor: '(' expr ')'  { $$ = $2; }
      | NUMBER        { $$ = $1; }
      ;`,explanation:[{label:"$$",meaning:"Synthesized attribute of LHS"},{label:"$1, $2, $3",meaning:"Attributes of RHS symbols (by position)"},{label:"{ ... }",meaning:"Action routine executed on reduction"}]}},{id:18,section:"action",type:"interactive",title:"Attribute Stack Management",content:{description:"See how the attribute stack works during LR parsing:"},interactive:{type:"attribute-stack"}},{id:19,section:"trees",type:"comparison",title:"Parse Tree vs Syntax Tree (AST)",content:{approaches:[{name:"Parse Tree (Concrete Syntax Tree)",pros:["Complete derivation","Matches grammar exactly","Auto-generated"],cons:["Verbose","Many useless nodes","Wastes memory"],example:"Includes all non-terminals, parentheses nodes, etc."},{name:"Syntax Tree (Abstract Syntax Tree)",pros:["Compact","Semantically meaningful","Easy to traverse"],cons:["Must be explicitly constructed","Grammar info lost"],example:"Only operators and operands, no punctuation"}]},interactive:{type:"tree-comparison"}},{id:20,section:"trees",type:"table",title:"Parse Tree vs Syntax Tree Details",content:{headers:["Aspect","Parse Tree","Syntax Tree (AST)"],rows:[["Created by","Parser automatically","Semantic actions (explicit)"],["Size","Large (all grammar symbols)","Compact (essential nodes)"],["Punctuation","Included as nodes","Omitted"],["Non-terminals","All present","Many eliminated"],["Useful for","Debugging grammar","Semantic analysis, code gen"],["Human readable","Verbose, hard to read","Clearer, more intuitive"],["Whitespace/comments","May have nodes","Never included"]]}},{id:21,section:"trees",type:"concept",title:"Building Syntax Trees",content:{description:"Syntax trees are built using synthesized attributes:",items:[{icon:"",text:"Leaf Creation",detail:"F  const creates leaf node with value"},{icon:"",text:"Node Creation",detail:"E  E + T creates '+' node with two children"},{icon:"",text:"Pointer Propagation",detail:"Synthesized attribute holds pointer to subtree"},{icon:"",text:"Result",detail:"Root's attribute points to complete tree"}],example:{production:"E  E + T",action:"E.ptr = makeNode('+', E.ptr, T.ptr)",explanation:"Create + node, return pointer as E's attribute"}}},{id:22,section:"trees",type:"interactive",title:"AST Construction for (1 + 3) * 2",content:{expression:"(1 + 3) * 2",description:"Watch the AST being built bottom-up:"},interactive:{type:"ast-construction"}},{id:23,section:"trees",type:"concept",title:"Tree Grammars",content:{description:"Grammars that describe valid syntax tree structures:",items:[{icon:"",text:"Purpose",detail:"Define what AST structures are valid"},{icon:"",text:"Traversal",detail:"Guide semantic analysis tree walks"},{icon:"",text:"Validation",detail:"Ensure AST was built correctly"},{icon:"",text:"Code Gen",detail:"Pattern matching for instruction selection"}],example:{rule:"expr  PLUS(expr, expr) | TIMES(expr, expr) | INT",explanation:"AST node can be +, *, or integer leaf"}}},{id:24,section:"practical",type:"concept",title:"Practical Semantic Analysis Tasks",content:{description:"What compilers actually check during semantic analysis:",items:[{icon:"",text:"Declaration Checking",detail:"Variables declared before use"},{icon:"",text:"Type Checking",detail:"Operators applied to compatible types"},{icon:"",text:"Type Coercion",detail:"Insert conversions (int  float)"},{icon:"",text:"Scope Resolution",detail:"Match uses to declarations"},{icon:"",text:"Uniqueness Checks",detail:"No duplicate declarations in same scope"},{icon:"",text:"Flow Analysis",detail:"Return statements, initialization"}]}},{id:25,section:"practical",type:"concept",title:"Symbol Table",content:{description:"Central data structure for semantic analysis:",items:[{icon:"",text:"Contents",detail:"Names, types, scopes, memory locations"},{icon:"",text:"Operations",detail:"Insert, lookup, enter/exit scope"},{icon:"",text:"Structure",detail:"Often stack of hash tables (per scope)"},{icon:"",text:"Inherited Attribute",detail:"Passed down as environment (env)"}],example:{code:"int x; float y; { int x; ... }",explanation:"Inner x shadows outer x in nested scope table"}},interactive:{type:"symbol-table"}},{id:26,section:"summary",type:"summary",title:"Chapter 4 Summary",content:{sections:[{title:"Attribute Grammars",points:["Formal framework for tree decoration","Synthesized: bottom-up (children  parent)","Inherited: top-down/left-right (context)","Semantic rules define attribute relationships"]},{title:"Grammar Classes",points:["S-Attributed: synthesized only, LR-friendly","L-Attributed: left-to-right eval, LL-friendly","L-attributed is most practical for real compilers"]},{title:"Trees and Actions",points:["Parse tree: complete derivation, verbose","Syntax tree (AST): abstract, compact","Action routines: code at grammar positions","Symbol table: tracks declarations and types"]}]}}],Bh=()=>{const[s,o]=w.useState("synthesized");return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-emerald-400 text-base mb-4 font-mono",children:"Interactive: Attribute Flow"}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("button",{onClick:()=>o("synthesized"),className:`px-4 py-2 rounded ${s==="synthesized"?"bg-blue-500 text-white":"bg-slate-700"}`,children:"Synthesized ()"}),a.jsx("button",{onClick:()=>o("inherited"),className:`px-4 py-2 rounded ${s==="inherited"?"bg-purple-500 text-white":"bg-slate-700"}`,children:"Inherited ()"})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center text-xl font-bold border-4 ${s==="synthesized"?"border-blue-500 bg-blue-500/20":"border-purple-500 bg-purple-500/20"}`,children:"E"}),a.jsx("div",{className:`w-1 h-8 ${s==="synthesized"?"bg-blue-500":"bg-purple-500"}`}),s==="synthesized"?a.jsx("div",{className:"text-blue-400 text-2xl",children:""}):a.jsx("div",{className:"text-purple-400 text-2xl",children:""}),a.jsx("div",{className:`w-1 h-8 ${s==="synthesized"?"bg-blue-500":"bg-purple-500"}`}),a.jsxs("div",{className:"flex gap-8",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold border-4 ${s==="synthesized"?"border-blue-500 bg-blue-500/20":"border-purple-500 bg-purple-500/20"}`,children:"E"}),a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold border-4 ${s==="synthesized"?"border-blue-500 bg-blue-500/20":"border-purple-500 bg-purple-500/20"}`,children:"+"}),a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center font-bold border-4 ${s==="synthesized"?"border-blue-500 bg-blue-500/20":"border-purple-500 bg-purple-500/20"}`,children:"T"})]})]}),a.jsx("div",{className:`mt-6 p-6 rounded-lg ${s==="synthesized"?"bg-blue-500/20":"bg-purple-500/20"}`,children:s==="synthesized"?a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-blue-400 mb-2",children:"Synthesized Attribute (val)"}),a.jsx("div",{className:"text-slate-300",children:"E.val = E.val + T.val"}),a.jsx("div",{className:"text-slate-400 text-sm mt-2",children:"Parent computes its value FROM children"})]}):a.jsxs("div",{children:[a.jsx("div",{className:"font-bold text-purple-400 mb-2",children:"Inherited Attribute (env)"}),a.jsx("div",{className:"text-slate-300",children:"E.env = E.env; T.env = E.env"}),a.jsx("div",{className:"text-slate-400 text-sm mt-2",children:"Children receive context FROM parent"})]})})]})]})},sx=()=>{const[s,o]=w.useState(0),d=[{desc:"Start with expression (1 + 3) * 2",tree:"E",values:{}},{desc:"Parse: F  1 (leaf)",tree:"const 1",values:{"F":1}},{desc:"T  F: T.val = F.val",tree:"T",values:{"F":1,"T":1}},{desc:"E  T: E.val = T.val",tree:"E",values:{"F":1,"T":1,"E":1}},{desc:"Parse: F  3 (leaf)",tree:"const 3",values:{"F":1,"T":1,"E":1,"F":3}},{desc:"T  F: T.val = F.val",tree:"T",values:{"F":1,"T":1,"E":1,"F":3,"T":3}},{desc:"E  E + T: E.val = 1 + 3",tree:"E",values:{"F":1,"T":1,"E":1,"F":3,"T":3,"E":4}},{desc:"F  (E): F.val = E.val",tree:"F",values:{"E":4,"F":4}},{desc:"T  F: T.val = F.val",tree:"T",values:{"F":4,"T":4}},{desc:"Parse: F  2 (leaf)",tree:"const 2",values:{"T":4,"F":2}},{desc:"T  T * F: T.val = 4 * 2",tree:"T",values:{"T":4,"F":2,"T":8}},{desc:"E  T: E.val = T.val = 8 ",tree:"E (root)",values:{"T":8,E:8}}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-emerald-400 text-base mb-4 font-mono",children:"Interactive: Evaluating (1 + 3) * 2"}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg mb-4",children:[a.jsxs("div",{className:"text-slate-500 text-sm mb-1",children:["Step ",s+1,"/",d.length]}),a.jsx("div",{className:"text-white text-2xl",children:r.desc})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-5 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg",children:[a.jsx("div",{className:"text-slate-500 text-sm mb-2",children:"Current Focus"}),a.jsx("div",{className:"text-2xl font-mono text-emerald-400",children:r.tree})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg",children:[a.jsx("div",{className:"text-slate-500 text-sm mb-2",children:"Computed Values"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(r.values).map(([m,f])=>a.jsxs("span",{className:"px-2 py-1 bg-emerald-500/20 text-emerald-400 rounded text-sm font-mono",children:[m,"=",f]},m))})]})]}),s===d.length-1&&a.jsx("div",{className:"bg-emerald-500/20 border border-emerald-500 p-6 rounded-lg mb-4 text-center",children:a.jsx("div",{className:"text-emerald-400 text-2xl font-bold",children:"Result: 8"})}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx("button",{onClick:()=>o(Math.max(0,s-1)),disabled:s===0,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>o(Math.min(d.length-1,s+1)),disabled:s>=d.length-1,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50",children:"Next "}),a.jsx("button",{onClick:()=>o(0),className:"px-5 py-2 bg-emerald-600 rounded text-base",children:"Reset"})]})]})},Fh=()=>{const[s,o]=w.useState(0),d=[{action:"Shift 3",parseStack:["3"],attrStack:[3],input:"+ 4 * 2"},{action:"Reduce F  const",parseStack:["F"],attrStack:[3],input:"+ 4 * 2"},{action:"Reduce T  F",parseStack:["T"],attrStack:[3],input:"+ 4 * 2"},{action:"Reduce E  T",parseStack:["E"],attrStack:[3],input:"+ 4 * 2"},{action:"Shift +",parseStack:["E","+"],attrStack:[3],input:"4 * 2"},{action:"Shift 4",parseStack:["E","+","4"],attrStack:[3,4],input:"* 2"},{action:"Reduce F  const",parseStack:["E","+","F"],attrStack:[3,4],input:"* 2"},{action:"Reduce T  F",parseStack:["E","+","T"],attrStack:[3,4],input:"* 2"},{action:"Shift *",parseStack:["E","+","T","*"],attrStack:[3,4],input:"2"},{action:"Shift 2",parseStack:["E","+","T","*","2"],attrStack:[3,4,2],input:""},{action:"Reduce F  const",parseStack:["E","+","T","*","F"],attrStack:[3,4,2],input:""},{action:"Reduce T  T * F (4*2=8)",parseStack:["E","+","T"],attrStack:[3,8],input:""},{action:"Reduce E  E + T (3+8=11)",parseStack:["E"],attrStack:[11],input:""},{action:"Accept! Result: 11",parseStack:["E"],attrStack:[11],input:""}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-emerald-400 text-base mb-4 font-mono",children:"Interactive: Attribute Stack (parsing 3 + 4 * 2)"}),a.jsxs("div",{className:"grid grid-cols-3 gap-5 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-3 rounded-lg",children:[a.jsx("div",{className:"text-slate-500 text-sm mb-1",children:"Parse Stack"}),a.jsx("div",{className:"font-mono text-white",children:r.parseStack.join(" ")})]}),a.jsxs("div",{className:"bg-slate-900 p-3 rounded-lg",children:[a.jsx("div",{className:"text-slate-500 text-sm mb-1",children:"Attribute Stack"}),a.jsxs("div",{className:"font-mono text-emerald-400",children:["[",r.attrStack.join(", "),"]"]})]}),a.jsxs("div",{className:"bg-slate-900 p-3 rounded-lg",children:[a.jsx("div",{className:"text-slate-500 text-sm mb-1",children:"Remaining Input"}),a.jsx("div",{className:"font-mono text-amber-400",children:r.input||"(empty)"})]})]}),a.jsx("div",{className:"bg-slate-900 p-6 rounded-lg mb-4",children:a.jsx("span",{className:`px-3 py-1 rounded text-sm font-bold ${r.action.includes("Shift")?"bg-blue-500 text-white":r.action.includes("Reduce")?"bg-purple-500 text-white":"bg-emerald-500 text-white"}`,children:r.action})}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx("button",{onClick:()=>o(Math.max(0,s-1)),disabled:s===0,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>o(Math.min(d.length-1,s+1)),disabled:s>=d.length-1,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50",children:"Next "}),a.jsx("button",{onClick:()=>o(0),className:"px-5 py-2 bg-emerald-600 rounded text-base",children:"Reset"})]})]})},Hh=()=>{const[s,o]=w.useState("parse");return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-emerald-400 text-base mb-4 font-mono",children:"Interactive: Parse Tree vs AST for (1 + 3) * 2"}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("button",{onClick:()=>o("parse"),className:`px-4 py-2 rounded ${s==="parse"?"bg-orange-500 text-white":"bg-slate-700"}`,children:"Parse Tree"}),a.jsx("button",{onClick:()=>o("ast"),className:`px-4 py-2 rounded ${s==="ast"?"bg-emerald-500 text-white":"bg-slate-700"}`,children:"Syntax Tree (AST)"})]}),a.jsx("div",{className:"bg-slate-900 p-6 rounded-lg",children:s==="parse"?a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-orange-400 font-bold mb-4",children:"Parse Tree (Verbose)"}),a.jsx("pre",{className:"text-slate-300 text-sm text-left inline-block",children:`         E
         |
         T
        /|\\
       T * F
       |   |
       F   2
       |
      (E)
      /|\\
     E + T
     |   |
     T   F
     |   |
     F   3
     |
     1`}),a.jsx("div",{className:"mt-4 text-slate-400 text-sm",children:"11 nodes - includes all grammar symbols"})]}):a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-emerald-400 font-bold mb-4",children:"Abstract Syntax Tree (Compact)"}),a.jsx("pre",{className:"text-slate-300 text-sm text-left inline-block",children:`      *
     / \\
    +   2
   / \\
  1   3`}),a.jsx("div",{className:"mt-4 text-slate-400 text-sm",children:"5 nodes - only operators and operands"})]})}),a.jsx("div",{className:`mt-4 p-6 rounded-lg ${s==="parse"?"bg-orange-500/20":"bg-emerald-500/20"}`,children:s==="parse"?a.jsxs("div",{className:"text-orange-400",children:[a.jsx("strong",{children:"Parse Tree:"})," Shows complete derivation, matches grammar exactly, useful for debugging"]}):a.jsxs("div",{className:"text-emerald-400",children:[a.jsx("strong",{children:"AST:"})," Abstract structure, no punctuation nodes, ready for semantic analysis"]})})]})},_h=()=>{const[s,o]=w.useState(0),d=[{desc:"Create leaf node for 1",ast:"1",nodes:["1"]},{desc:"Create leaf node for 3",ast:"1  3",nodes:["1","3"]},{desc:"Create + node with children 1, 3",ast:`  +
 / \\
1   3`,nodes:["+","1","3"]},{desc:"Create leaf node for 2",ast:`  +     2
 / \\
1   3`,nodes:["+","1","3","2"]},{desc:"Create * node with children +, 2",ast:`    *
   / \\
  +   2
 / \\
1   3`,nodes:["*","+","1","3","2"]}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-emerald-400 text-base mb-4 font-mono",children:"Interactive: Building AST for (1 + 3) * 2"}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg mb-4",children:[a.jsxs("div",{className:"text-slate-500 text-sm mb-1",children:["Step ",s+1,": ",r.desc]}),a.jsx("pre",{className:"text-emerald-400 font-mono text-xl mt-4 text-center",children:r.ast})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg mb-4",children:[a.jsx("div",{className:"text-slate-500 text-sm mb-2",children:"Nodes created:"}),a.jsx("div",{className:"flex gap-2 flex-wrap",children:r.nodes.map((m,f)=>a.jsx("span",{className:"px-3 py-1 bg-emerald-500/20 text-emerald-400 rounded font-mono",children:m},f))})]}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx("button",{onClick:()=>o(Math.max(0,s-1)),disabled:s===0,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>o(Math.min(d.length-1,s+1)),disabled:s>=d.length-1,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50",children:"Next "}),a.jsx("button",{onClick:()=>o(0),className:"px-5 py-2 bg-emerald-600 rounded text-base",children:"Reset"})]})]})},Uh=()=>{const[s,o]=w.useState(0),[d,r]=w.useState(!0),m=({label:h,value:p,children:L,highlight:B,x:X,y:ue,parentX:ge,parentY:Se})=>a.jsxs("g",{children:[ge!==void 0&&Se!==void 0&&a.jsx("line",{x1:ge,y1:Se+40/2,x2:X,y2:ue-40/2,stroke:B?"#10b981":"#475569",strokeWidth:2}),a.jsx("rect",{x:X-50/2,y:ue-40/2,width:50,height:40,rx:8,fill:B?"#10b981":"#1e293b",stroke:B?"#34d399":"#475569",strokeWidth:2}),a.jsx("text",{x:X,y:ue-5,textAnchor:"middle",fill:"white",fontSize:14,fontWeight:"bold",children:h}),d&&p!==void 0&&a.jsxs("text",{x:X,y:ue+12,textAnchor:"middle",fill:"#fbbf24",fontSize:11,fontFamily:"monospace",children:["=",p]})]}),f=[{desc:"Start: Parse the expression (1 + 3) * 2",nodes:[],highlight:[]},{desc:"Scan '1'  Create leaf node F with value 1",nodes:[{id:"f1",label:"F",value:1,x:150,y:280}],highlight:["f1"]},{desc:"Reduce: T  F, propagate value up",nodes:[{id:"t1",label:"T",value:1,x:150,y:220},{id:"f1",label:"F",value:1,x:150,y:280,parent:"t1"}],highlight:["t1"]},{desc:"Reduce: E  T, propagate value up",nodes:[{id:"e1",label:"E",value:1,x:150,y:160},{id:"t1",label:"T",value:1,x:150,y:220,parent:"e1"},{id:"f1",label:"F",value:1,x:150,y:280,parent:"t1"}],highlight:["e1"]},{desc:"Scan '3'  Create leaf node F with value 3",nodes:[{id:"e1",label:"E",value:1,x:150,y:160},{id:"t1",label:"T",value:1,x:150,y:220,parent:"e1"},{id:"f1",label:"F",value:1,x:150,y:280,parent:"t1"},{id:"f2",label:"F",value:3,x:280,y:280}],highlight:["f2"]},{desc:"Reduce: T  F, propagate value",nodes:[{id:"e1",label:"E",value:1,x:150,y:160},{id:"t1",label:"T",value:1,x:150,y:220,parent:"e1"},{id:"f1",label:"F",value:1,x:150,y:280,parent:"t1"},{id:"t2",label:"T",value:3,x:280,y:220},{id:"f2",label:"F",value:3,x:280,y:280,parent:"t2"}],highlight:["t2"]},{desc:"Reduce: E  E + T, compute 1 + 3 = 4",nodes:[{id:"e2",label:"E",value:4,x:215,y:100},{id:"e1",label:"E",value:1,x:150,y:160,parent:"e2"},{id:"plus",label:"+",x:215,y:160,parent:"e2"},{id:"t2",label:"T",value:3,x:280,y:160,parent:"e2"},{id:"t1",label:"T",value:1,x:150,y:220,parent:"e1"},{id:"f1",label:"F",value:1,x:150,y:280,parent:"t1"},{id:"f2",label:"F",value:3,x:280,y:280,parent:"t2"}],highlight:["e2","plus"]},{desc:"F  (E), parenthesized expression has value 4",nodes:[{id:"f3",label:"F",value:4,x:215,y:100},{id:"lp",label:"(",x:140,y:160,parent:"f3"},{id:"e2",label:"E",value:4,x:215,y:160,parent:"f3"},{id:"rp",label:")",x:290,y:160,parent:"f3"}],highlight:["f3"]},{desc:"Reduce: T  F, propagate value 4",nodes:[{id:"t3",label:"T",value:4,x:200,y:100},{id:"f3",label:"F",value:4,x:200,y:160,parent:"t3"}],highlight:["t3"]},{desc:"Scan '2'  Create leaf node F with value 2",nodes:[{id:"t3",label:"T",value:4,x:180,y:100},{id:"f3",label:"F",value:4,x:180,y:160,parent:"t3"},{id:"f4",label:"F",value:2,x:320,y:160}],highlight:["f4"]},{desc:"Reduce: T  T * F, compute 4 * 2 = 8",nodes:[{id:"t4",label:"T",value:8,x:250,y:60},{id:"t3",label:"T",value:4,x:160,y:130,parent:"t4"},{id:"mult",label:"*",x:250,y:130,parent:"t4"},{id:"f4",label:"F",value:2,x:340,y:130,parent:"t4"},{id:"f3",label:"F",value:4,x:160,y:200,parent:"t3"}],highlight:["t4","mult"]},{desc:"Reduce: E  T, final result = 8 ",nodes:[{id:"eroot",label:"E",value:8,x:250,y:30},{id:"t4",label:"T",value:8,x:250,y:90,parent:"eroot"},{id:"t3",label:"T",value:4,x:150,y:160,parent:"t4"},{id:"mult",label:"*",x:250,y:160,parent:"t4"},{id:"f4",label:"F",value:2,x:350,y:160,parent:"t4"},{id:"f3",label:"F",value:4,x:150,y:230,parent:"t3"}],highlight:["eroot"]}],g=f[s],N={};return g.nodes.forEach(h=>{if(h.parent){const p=g.nodes.find(L=>L.id===h.parent);p&&(N[h.id]={x:p.x,y:p.y})}}),a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-emerald-400 text-base mb-4 font-mono",children:"Interactive: Parse Tree Construction for (1 + 3) * 2"}),a.jsx("div",{className:"flex items-center gap-5 mb-4",children:a.jsxs("label",{className:"flex items-center gap-2 text-slate-300 text-sm",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:h=>r(h.target.checked),className:"rounded"}),"Show attribute values"]})}),a.jsx("div",{className:"bg-slate-900 rounded-lg p-4 mb-4",children:a.jsxs("svg",{width:"100%",height:"320",viewBox:"0 0 500 320",children:[g.nodes.map(h=>a.jsx(m,{label:h.label,value:d?h.value:void 0,x:h.x,y:h.y,parentX:N[h.id]?.x,parentY:N[h.id]?.y,highlight:g.highlight.includes(h.id)},h.id)),g.nodes.length===0&&a.jsx("text",{x:"250",y:"160",textAnchor:"middle",fill:"#64748b",fontSize:16,children:'Click "Next" to start building the tree'})]})}),a.jsx("div",{className:"bg-slate-900 p-6 rounded-lg mb-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-slate-500 text-sm",children:["Step ",s+1,"/",f.length,":"]}),a.jsx("span",{className:"text-white",children:g.desc})]})}),s===f.length-1&&a.jsxs("div",{className:"bg-emerald-500/20 border border-emerald-500 p-6 rounded-lg mb-4 text-center",children:[a.jsx("div",{className:"text-emerald-400 text-2xl font-bold",children:"(1 + 3) * 2 = 8"}),a.jsx("div",{className:"text-slate-400 text-sm mt-1",children:"Synthesized attributes propagated from leaves to root"})]}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-4 py-2 bg-slate-700 rounded hover:bg-slate-600",children:" Start"}),a.jsx("button",{onClick:()=>o(Math.max(0,s-1)),disabled:s===0,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50 hover:bg-slate-600",children:" Prev"}),a.jsx("button",{onClick:()=>o(Math.min(f.length-1,s+1)),disabled:s>=f.length-1,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50 hover:bg-slate-600",children:"Next "}),a.jsx("button",{onClick:()=>o(f.length-1),className:"px-5 py-2 bg-emerald-600 rounded text-base hover:bg-emerald-500",children:" End"})]}),a.jsx("div",{className:"flex gap-1 justify-center mt-4",children:f.map((h,p)=>a.jsx("button",{onClick:()=>o(p),className:`w-2 h-2 rounded-full transition-all ${p===s?"bg-emerald-500 w-4":p<s?"bg-emerald-500/50":"bg-slate-600"}`},p))})]})},Gh=()=>{const[s,o]=w.useState(0),[d,r]=w.useState("both"),m=({label:L,value:B,x:X,y:ue,parentX:ge,parentY:Se,isAST:_e,highlight:ke})=>{const We=_e?36:30;return a.jsxs("g",{children:[ge!==void 0&&a.jsx("line",{x1:ge,y1:Se+We/2,x2:X,y2:ue-We/2,stroke:ke?"#10b981":"#475569",strokeWidth:1.5}),a.jsx("circle",{cx:X,cy:ue,r:We/2,fill:ke?"#10b981":_e?"#3b82f6":"#1e293b",stroke:ke?"#34d399":_e?"#60a5fa":"#475569",strokeWidth:2}),a.jsx("text",{x:X,y:ue+4,textAnchor:"middle",fill:"white",fontSize:_e?14:11,fontWeight:"bold",children:L}),B!==void 0&&a.jsx("text",{x:X,y:ue+We/2+12,textAnchor:"middle",fill:"#fbbf24",fontSize:9,children:B})]})},f=[{id:"e0",label:"E",x:150,y:30},{id:"t0",label:"T",x:150,y:70,parent:"e0"},{id:"t1",label:"T",x:90,y:110,parent:"t0"},{id:"star",label:"*",x:150,y:110,parent:"t0"},{id:"f0",label:"F",x:210,y:110,parent:"t0"},{id:"f1",label:"F",x:90,y:150,parent:"t1"},{id:"two",label:"2",x:210,y:150,parent:"f0"},{id:"lp",label:"(",x:50,y:190,parent:"f1"},{id:"e1",label:"E",x:90,y:190,parent:"f1"},{id:"rp",label:")",x:130,y:190,parent:"f1"},{id:"e2",label:"E",x:60,y:230,parent:"e1"},{id:"plus",label:"+",x:90,y:230,parent:"e1"},{id:"t2",label:"T",x:120,y:230,parent:"e1"},{id:"t3",label:"T",x:60,y:270,parent:"e2"},{id:"f2",label:"F",x:120,y:270,parent:"t2"},{id:"f3",label:"F",x:60,y:310,parent:"t3"},{id:"three",label:"3",x:120,y:310,parent:"f2"},{id:"one",label:"1",x:60,y:350,parent:"f3"}],g=[{id:"mult",label:"*",value:8,x:150,y:60},{id:"plus",label:"+",value:4,x:90,y:140,parent:"mult"},{id:"two",label:"2",value:2,x:210,y:140,parent:"mult"},{id:"one",label:"1",value:1,x:50,y:220,parent:"plus"},{id:"three",label:"3",value:3,x:130,y:220,parent:"plus"}],N=L=>{const B={};return L.forEach(X=>{if(X.parent){const ue=L.find(ge=>ge.id===X.parent);ue&&(B[X.id]={x:ue.x,y:ue.y})}}),B},h=N(f),p=N(g);return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-emerald-400 text-base mb-4 font-mono",children:"Interactive: Parse Tree vs AST for (1 + 3) * 2"}),a.jsxs("div",{className:"flex gap-2 mb-4 justify-center",children:[a.jsx("button",{onClick:()=>r("parse"),className:`px-4 py-2 rounded ${d==="parse"?"bg-orange-500 text-white":"bg-slate-700"}`,children:"Parse Tree Only"}),a.jsx("button",{onClick:()=>r("both"),className:`px-4 py-2 rounded ${d==="both"?"bg-purple-500 text-white":"bg-slate-700"}`,children:"Side by Side"}),a.jsx("button",{onClick:()=>r("ast"),className:`px-4 py-2 rounded ${d==="ast"?"bg-blue-500 text-white":"bg-slate-700"}`,children:"AST Only"})]}),a.jsxs("div",{className:`grid gap-5 ${d==="both"?"grid-cols-2":"grid-cols-1"}`,children:[(d==="parse"||d==="both")&&a.jsxs("div",{className:"bg-slate-900 rounded-lg p-4",children:[a.jsx("div",{className:"text-orange-400 font-bold text-center mb-2",children:"Parse Tree"}),a.jsx("div",{className:"text-slate-500 text-sm text-center mb-2",children:"18 nodes (verbose)"}),a.jsx("svg",{width:"100%",height:"380",viewBox:"0 0 300 380",children:f.map(L=>a.jsx(m,{label:L.label,x:L.x,y:L.y,parentX:h[L.id]?.x,parentY:h[L.id]?.y,isAST:!1},L.id))})]}),(d==="ast"||d==="both")&&a.jsxs("div",{className:"bg-slate-900 rounded-lg p-4",children:[a.jsx("div",{className:"text-blue-400 font-bold text-center mb-2",children:"Abstract Syntax Tree"}),a.jsx("div",{className:"text-slate-500 text-sm text-center mb-2",children:"5 nodes (compact)"}),a.jsx("svg",{width:"100%",height:"280",viewBox:"0 0 300 280",children:g.map(L=>a.jsx(m,{label:L.label,value:L.value,x:L.x,y:L.y,parentX:p[L.id]?.x,parentY:p[L.id]?.y,isAST:!0},L.id))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-5 mt-4",children:[a.jsxs("div",{className:"bg-orange-500/20 p-3 rounded-lg text-center",children:[a.jsx("div",{className:"text-orange-400 font-bold",children:"Parse Tree"}),a.jsx("div",{className:"text-2xl text-white",children:"18 nodes"}),a.jsx("div",{className:"text-slate-400 text-sm",children:"All grammar symbols"})]}),a.jsxs("div",{className:"bg-blue-500/20 p-3 rounded-lg text-center",children:[a.jsx("div",{className:"text-blue-400 font-bold",children:"AST"}),a.jsx("div",{className:"text-2xl text-white",children:"5 nodes"}),a.jsx("div",{className:"text-slate-400 text-sm",children:"Only meaningful nodes"})]})]})]})},$h=()=>{const[s,o]=w.useState(0),d=[{code:"int x;",scopes:[{level:0,symbols:[{name:"x",type:"int"}]}],action:"Declare x in global scope"},{code:"float y;",scopes:[{level:0,symbols:[{name:"x",type:"int"},{name:"y",type:"float"}]}],action:"Declare y in global scope"},{code:"{",scopes:[{level:0,symbols:[{name:"x",type:"int"},{name:"y",type:"float"}]},{level:1,symbols:[]}],action:"Enter new scope (block)"},{code:"int x;",scopes:[{level:0,symbols:[{name:"x",type:"int"},{name:"y",type:"float"}]},{level:1,symbols:[{name:"x",type:"int",shadows:!0}]}],action:"Declare x in inner scope (shadows outer x)"},{code:"x = 5;",scopes:[{level:0,symbols:[{name:"x",type:"int"},{name:"y",type:"float"}]},{level:1,symbols:[{name:"x",type:"int",shadows:!0}]}],action:"Lookup x  finds inner x (int)"},{code:"}",scopes:[{level:0,symbols:[{name:"x",type:"int"},{name:"y",type:"float"}]}],action:"Exit scope, inner x destroyed"},{code:"x = 10;",scopes:[{level:0,symbols:[{name:"x",type:"int"},{name:"y",type:"float"}]}],action:"Lookup x  finds global x (int)"}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 mt-4",children:[a.jsx("div",{className:"text-emerald-400 text-base mb-4 font-mono",children:"Interactive: Symbol Table"}),a.jsxs("div",{className:"grid grid-cols-2 gap-5 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg",children:[a.jsx("div",{className:"text-slate-500 text-sm mb-2",children:"Current Code"}),a.jsx("div",{className:"font-mono text-xl text-white",children:r.code}),a.jsx("div",{className:"text-emerald-400 text-sm mt-2",children:r.action})]}),a.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg",children:[a.jsx("div",{className:"text-slate-500 text-sm mb-2",children:"Symbol Table (Stack of Scopes)"}),r.scopes.map((m,f)=>a.jsxs("div",{className:`p-2 rounded mb-1 ${f===r.scopes.length-1?"bg-emerald-500/20 border border-emerald-500":"bg-slate-800"}`,children:[a.jsxs("div",{className:"text-xs text-slate-400",children:["Scope ",m.level]}),m.symbols.length===0?a.jsx("div",{className:"text-slate-500 text-sm",children:"(empty)"}):m.symbols.map((g,N)=>a.jsxs("div",{className:`text-sm font-mono ${g.shadows?"text-amber-400":"text-white"}`,children:[g.name,": ",g.type," ",g.shadows&&"(shadows)"]},N))]},f)).reverse()]})]}),a.jsxs("div",{className:"flex gap-2 justify-center",children:[a.jsx("button",{onClick:()=>o(Math.max(0,s-1)),disabled:s===0,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>o(Math.min(d.length-1,s+1)),disabled:s>=d.length-1,className:"px-5 py-2 bg-slate-700 rounded text-base disabled:opacity-50",children:"Next "}),a.jsx("button",{onClick:()=>o(0),className:"px-5 py-2 bg-emerald-600 rounded text-base",children:"Reset"})]})]})},Xh=({slide:s})=>a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[a.jsx("div",{className:"text-6xl mb-8",children:""}),a.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:s.title}),s.content.subtitle&&a.jsx("h2",{className:"text-xl text-emerald-400 mb-8",children:s.content.subtitle}),a.jsx("div",{className:"mt-8 flex flex-wrap gap-2 justify-center max-w-2xl",children:s.content.topics?.map((o,d)=>a.jsx("span",{className:"px-3 py-1 bg-slate-800 text-slate-300 rounded-full text-sm",children:o},d))})]}),_m=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.description}),s.content.items&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:s.content.items.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-lg flex items-start gap-3",children:[o.icon&&a.jsx("span",{className:"text-5xl",children:o.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium text-2xl",children:o.text}),o.detail&&a.jsx("p",{className:"text-slate-300 text-xl mt-1",children:o.detail})]})]},d))}),s.content.note&&a.jsx("p",{className:"mt-4 text-emerald-400 italic",children:s.content.note}),s.content.example&&a.jsxs("div",{className:"mt-4 bg-slate-900 p-6 rounded-lg",children:[s.content.example.production&&a.jsxs("div",{className:"text-slate-400 mb-1",children:["Production: ",a.jsx("code",{className:"text-emerald-400",children:s.content.example.production})]}),s.content.example.rule&&a.jsxs("div",{className:"text-slate-400 mb-1",children:["Rule: ",a.jsx("code",{className:"text-emerald-400",children:s.content.example.rule})]}),s.content.example.action&&a.jsxs("div",{className:"text-slate-400 mb-1",children:["Action: ",a.jsx("code",{className:"text-emerald-400",children:s.content.example.action})]}),s.content.example.computation&&a.jsxs("div",{className:"text-slate-400 mb-1",children:["Computation: ",a.jsx("code",{className:"text-emerald-400",children:s.content.example.computation})]}),s.content.example.code&&a.jsx("pre",{className:"text-emerald-400 font-mono text-sm",children:s.content.example.code}),a.jsx("p",{className:"text-slate-400 text-sm mt-2",children:s.content.example.explanation})]}),s.interactive?.type==="symbol-table"&&a.jsx($h,{})]}),Yh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.phases&&a.jsx("div",{className:"space-y-2",children:s.content.phases.map((o,d)=>a.jsxs("div",{className:`flex items-center gap-5 p-3 rounded-lg ${o.current?"bg-emerald-500/20 border-2 border-emerald-500":o.done?"bg-slate-800/50":"bg-slate-800/30"}`,children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${o.current?"bg-emerald-500 text-white":o.done?"bg-green-600 text-white":"bg-slate-600"}`,children:d+1}),a.jsx("div",{className:"flex-1",children:a.jsx("div",{className:`font-bold ${o.current?"text-emerald-400":"text-white"}`,children:o.name})}),a.jsxs("div",{className:"text-slate-400 font-mono text-sm",children:[" ",o.output]})]},d))}),s.content.note&&a.jsx("p",{className:"mt-4 text-slate-400 italic",children:s.content.note})]}),qh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.definition&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.definition}),a.jsx("div",{className:"space-y-5",children:s.content.items?.map((o,d)=>a.jsx("div",{className:"bg-slate-800/50 p-6 rounded-lg border-l-4 border-emerald-500",children:a.jsxs("div",{className:"flex items-start gap-5",children:[a.jsx("span",{className:"text-emerald-400 font-bold",children:o.term}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white",children:o.definition}),o.example&&a.jsxs("p",{className:"text-slate-400 font-mono text-sm mt-2",children:["Example: ",o.example]})]})]})},d))}),s.content.note&&a.jsx("p",{className:"mt-4 text-slate-400 italic",children:s.content.note})]}),Vh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-2",children:s.title}),s.content.title&&a.jsx("p",{className:"text-slate-400 mb-8",children:s.content.title}),a.jsx("div",{className:"bg-slate-800 p-6 rounded-lg font-mono mb-8",children:s.content.productions?.map((o,d)=>a.jsx("div",{className:"text-emerald-400 py-2 text-xl hover:bg-slate-700/50 px-2 rounded",children:o},d))}),s.content.note&&a.jsx("p",{className:"text-slate-400 italic",children:s.content.note}),s.interactive?.type==="attribute-grammar"&&a.jsx(sx,{})]}),Ih=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.approaches&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.content.approaches.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-lg",children:[a.jsx("h3",{className:"text-emerald-400 font-bold mb-3",children:o.name}),o.pros&&a.jsxs("div",{className:"mb-2",children:[a.jsx("p",{className:"text-green-400 text-xs mb-1",children:" Pros"}),a.jsx("ul",{className:"text-slate-300 text-sm",children:o.pros.map((r,m)=>a.jsxs("li",{children:[" ",r]},m))})]}),o.cons&&a.jsxs("div",{className:"mb-2",children:[a.jsx("p",{className:"text-red-400 text-xs mb-1",children:" Cons"}),a.jsx("ul",{className:"text-slate-400 text-sm",children:o.cons.map((r,m)=>a.jsxs("li",{children:[" ",r]},m))})]}),o.example&&a.jsxs("p",{className:"text-slate-500 text-sm mt-2",children:["Example: ",o.example]}),o.attributes&&a.jsxs("p",{className:"text-emerald-400 text-xs mt-2",children:["Attributes: ",o.attributes]})]},d))}),s.content.insight&&a.jsx("div",{className:"mt-6 p-4 bg-emerald-500/20 border border-emerald-500 rounded-lg text-center",children:a.jsx("p",{className:"text-emerald-400 font-bold",children:s.content.insight})}),s.interactive?.type==="tree-comparison"&&a.jsx(Hh,{})]}),Qh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-4",children:s.title}),s.content.description&&a.jsx("p",{className:"text-slate-300 mb-4",children:s.content.description}),s.content.expression&&a.jsxs("div",{className:"bg-slate-900 p-6 rounded-lg mb-4 text-center",children:[a.jsx("span",{className:"text-2xl font-mono text-emerald-400",children:s.content.expression}),s.content.expectedResult&&a.jsxs("span",{className:"text-slate-400 ml-4",children:["= ",s.content.expectedResult]})]}),s.interactive?.type==="attribute-flow"&&a.jsx(Bh,{}),s.interactive?.type==="tree-evaluation"&&a.jsx(sx,{}),s.interactive?.type==="parse-tree-visual"&&a.jsx(Uh,{}),s.interactive?.type==="ast-vs-parse"&&a.jsx(Gh,{}),s.interactive?.type==="attribute-stack"&&a.jsx(Fh,{}),s.interactive?.type==="ast-construction"&&a.jsx(_h,{})]}),Zh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"bg-slate-900 p-6 rounded-lg mb-8",children:a.jsx("pre",{className:"text-emerald-400 font-mono text-sm whitespace-pre-wrap",children:s.content.code})}),s.content.explanation&&a.jsx("div",{className:"space-y-2",children:s.content.explanation.map((o,d)=>a.jsxs("div",{className:"flex gap-5 bg-slate-800/50 p-3 rounded",children:[a.jsx("span",{className:"text-emerald-400 font-mono min-w-24",children:o.label}),a.jsx("span",{className:"text-slate-300",children:o.meaning})]},d))})]}),Jh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsx("tr",{className:"border-b border-slate-700",children:s.content.headers.map((o,d)=>a.jsx("th",{className:"text-left p-3 text-emerald-400 font-bold",children:o},d))})}),a.jsx("tbody",{children:s.content.rows.map((o,d)=>a.jsx("tr",{className:"border-b border-slate-800",children:o.map((r,m)=>a.jsx("td",{className:`p-3 ${m===0?"text-white font-medium":"text-slate-300"}`,children:r},m))},d))})]})})]}),Kh=({slide:s})=>a.jsxs("div",{className:"h-full p-8 flex flex-col justify-center overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8 text-center",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.content.sections?.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-emerald-400 font-bold text-2xl mb-4",children:o.title}),a.jsx("ul",{className:"space-y-2",children:o.points.map((r,m)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-400 mt-1",children:""}),a.jsx("span",{className:"text-slate-300 text-xl",children:r})]},m))})]},d))})]}),Wh=({slide:s})=>{switch(s.type){case"title":return a.jsx(Xh,{slide:s});case"concept":return a.jsx(_m,{slide:s});case"diagram":return a.jsx(Yh,{slide:s});case"definition":return a.jsx(qh,{slide:s});case"grammar":return a.jsx(Vh,{slide:s});case"comparison":return a.jsx(Ih,{slide:s});case"interactive":return a.jsx(Qh,{slide:s});case"code":return a.jsx(Zh,{slide:s});case"table":return a.jsx(Jh,{slide:s});case"summary":return a.jsx(Kh,{slide:s});default:return a.jsx(_m,{slide:s})}};function Ph({onBackToChapters:s}){const[o,d]=w.useState(0),[r,m]=w.useState(!1),f=[...new Set(Dt.map(h=>h.section))],g=w.useCallback(h=>{h.key==="ArrowRight"||h.key===" "?d(p=>Math.min(p+1,Dt.length-1)):h.key==="ArrowLeft"?d(p=>Math.max(p-1,0)):h.key==="Escape"?m(!1):h.key==="m"&&m(p=>!p)},[]);w.useEffect(()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)),[g]);const N=Dt[o];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm z-40 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-5",children:[a.jsx("button",{onClick:()=>m(!r),className:"p-2 hover:bg-slate-700 rounded",children:a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("span",{className:"text-emerald-400 font-bold",children:["Ch 4: ",zh.title]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-slate-400 text-sm",children:[o+1," / ",Dt.length]}),a.jsx("button",{type:"button",onClick:s,"aria-label":"Back to chapters",title:"Back to chapters",className:"p-1.5 rounded-full border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 hover:bg-slate-700/60 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"px-2 py-1 bg-slate-700 text-slate-300 rounded text-xs",children:N.section})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>m(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-slate-800 p-4 overflow-auto",onClick:h=>h.stopPropagation(),children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"Chapter 4 Slides"}),f.map(h=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-emerald-400 text-sm uppercase tracking-wider mb-2",children:h}),Dt.filter(p=>p.section===h).map(p=>a.jsxs("button",{onClick:()=>{d(Dt.indexOf(p)),m(!1)},className:`block w-full text-left px-3 py-2 rounded mb-1 ${Dt.indexOf(p)===o?"bg-emerald-500 text-white":"hover:bg-slate-700"}`,children:[a.jsx("span",{className:"text-xs opacity-60 mr-2",children:p.id}),p.title]},p.id))]},h))]})}),a.jsx("main",{className:"pt-14 pb-16 min-h-screen",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(Wh,{slide:N})})}),a.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("button",{onClick:()=>d(h=>Math.max(h-1,0)),disabled:o===0,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 rounded disabled:opacity-30",children:" Previous"}),a.jsx("div",{className:"flex-1 mx-8",children:a.jsx("div",{className:"h-1 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-emerald-500 transition-all",style:{width:`${(o+1)/Dt.length*100}%`}})})}),a.jsx("button",{onClick:()=>d(h=>Math.min(h+1,Dt.length-1)),disabled:o===Dt.length-1,className:"flex items-center gap-2 px-5 py-2 bg-emerald-600 rounded text-base disabled:opacity-30",children:"Next "})]}),a.jsxs("div",{className:"text-center text-slate-500 text-sm pb-2",children:[a.jsx("kbd",{className:"px-1 bg-slate-700 rounded",children:""})," ",a.jsx("kbd",{className:"px-1 bg-slate-700 rounded",children:""})," navigate  ",a.jsx("kbd",{className:"px-1 bg-slate-700 rounded",children:"M"})," menu"]})]})]})}const ef={title:"Target Machine Architecture"},zt=[{id:1,section:"intro",type:"title",title:"Chapter 5: Target Machine Architecture",content:{subtitle:"Understanding the Hardware for Better Compilation",topics:["Von Neumann Architecture","Memory Hierarchy","Data Representation","Instruction Sets","RISC vs CISC","Pipelining & Modern Processors"]}},{id:2,section:"intro",type:"concept",title:"Why Study Machine Architecture?",content:{description:"Understanding hardware helps us understand compilation:",items:[{icon:"",text:"What the compiler must do",detail:"Translate high-level code to machine instructions"},{icon:"",text:"Why some things are fast",detail:"Register access vs memory access"},{icon:"",text:"Why some things are slow",detail:"Cache misses, pipeline stalls, branch mispredictions"},{icon:"",text:"Optimization opportunities",detail:"Instruction scheduling, register allocation"}]}},{id:3,section:"basics",type:"concept",title:"Von Neumann Architecture",content:{description:"The stored program concept - foundation of modern computers:",items:[{icon:"",text:"Stored Program",detail:"Instructions and data both stored in memory as bits"},{icon:"",text:"Fetch-Execute Cycle",detail:"Continuously fetch instruction, decode, execute, store result"},{icon:"",text:"Program Counter (PC)",detail:"Points to next instruction to execute"},{icon:"",text:"Untyped Memory",detail:"Bits are just bits - operations give them meaning"}]},interactive:{type:"fetch-execute"}},{id:4,section:"basics",type:"diagram",title:"The Fetch-Execute Cycle",content:{description:"What the processor does, over and over, at furious pace:",steps:[{name:"Fetch Instruction",detail:"Read instruction from memory at PC address"},{name:"Decode",detail:"Figure out what the instruction says to do"},{name:"Fetch Operands",detail:"Get data from registers or memory"},{name:"Execute",detail:"Perform the operation (ALU, etc.)"},{name:"Store Result",detail:"Write result back to register or memory"},{name:"Update PC",detail:"Move to next instruction (usually PC++)"}]},interactive:{type:"fetch-execute-cycle"}},{id:5,section:"basics",type:"concept",title:"Processor Components",content:{description:"Key functional units inside a typical processor:",items:[{icon:"",text:"Control Unit",detail:"Decodes instructions, drives other units"},{icon:"",text:"ALU (Arithmetic Logic Unit)",detail:"Performs arithmetic and logical operations"},{icon:"",text:"Registers",detail:"Fast on-chip storage for active data"},{icon:"",text:"Bus Interface",detail:"Connects to memory and I/O devices"}]}},{id:6,section:"memory",type:"concept",title:"Memory Hierarchy",content:{description:"Faster memory is smaller and more expensive:",items:[{icon:"",text:"Registers",detail:"~1 cycle access, bytes, on-chip"},{icon:"",text:"L1 Cache",detail:"~4 cycles, 32-64KB, on-chip"},{icon:"",text:"L2/L3 Cache",detail:"~10-40 cycles, MB range"},{icon:"",text:"Main Memory (RAM)",detail:"~100-300 cycles, GB range"},{icon:"",text:"Disk/SSD",detail:"~millions of cycles, TB range"}],note:"Keep frequently used data close to the processor!"},interactive:{type:"memory-hierarchy"}},{id:7,section:"memory",type:"concept",title:"Registers",content:{description:"The fastest storage, directly on the processor:",items:[{icon:"",text:"General Purpose",detail:"Hold integers, addresses (e.g., R0-R31)"},{icon:"",text:"Floating Point",detail:"Hold floating-point values (e.g., F0-F31)"},{icon:"",text:"Program Counter (PC)",detail:"Address of next instruction"},{icon:"",text:"Status Register",detail:"Condition codes, flags (zero, negative, overflow)"},{icon:"",text:"Stack Pointer (SP)",detail:"Points to top of runtime stack"}],note:"RISC machines typically have 32 general-purpose registers"}},{id:8,section:"data",type:"concept",title:"Data Representation",content:{description:"How data is stored in memory:",items:[{icon:"8",text:"Byte Addressable",detail:"Each 8-bit byte has unique address"},{icon:"",text:"Integers",detail:"16, 32, or 64 bits (2's complement)"},{icon:"",text:"Floating Point",detail:"32 (float), 64 (double), 128 bits (IEEE 754)"},{icon:"",text:"Instructions",detail:"Fixed size (32 bits) on RISC, variable on CISC"}]}},{id:9,section:"data",type:"comparison",title:"Byte Order: Endianness",content:{description:"How multi-byte values are stored in memory:",approaches:[{name:"Big-Endian",how:"Most significant byte first",example:"0x12345678  12 34 56 78",used:"Network protocols, SPARC, PowerPC"},{name:"Little-Endian",how:"Least significant byte first",example:"0x12345678  78 56 34 12",used:"x86, ARM (usually), most modern CPUs"}],note:"Important when reading binary files or network data!"},interactive:{type:"endianness"}},{id:10,section:"instructions",type:"concept",title:"Instruction Set Architecture (ISA)",content:{description:"Categories of machine instructions:",items:[{icon:"",text:"Data Movement",detail:"LOAD, STORE, MOV, PUSH, POP"},{icon:"",text:"Arithmetic/Logic",detail:"ADD, SUB, MUL, DIV, AND, OR, SHIFT"},{icon:"",text:"Control Flow",detail:"JUMP, BRANCH, CALL, RETURN"},{icon:"",text:"Comparison",detail:"CMP, TEST (set condition codes)"}]}},{id:11,section:"instructions",type:"definition",title:"Addressing Modes",content:{definition:"Ways to specify operand locations:",items:[{term:"Immediate",definition:"Data is in the instruction itself",example:"ADD R1, #5"},{term:"Register",definition:"Data is in a register",example:"ADD R1, R2"},{term:"Direct",definition:"Address is in instruction",example:"LOAD R1, [1000]"},{term:"Register Indirect",definition:"Address is in a register",example:"LOAD R1, [R2]"},{term:"Indexed",definition:"Base + offset",example:"LOAD R1, [R2 + 8]"},{term:"Scaled Indexed",definition:"Base + index*scale + offset",example:"LOAD R1, [R2 + R3*4 + 8]"}]}},{id:12,section:"architecture",type:"comparison",title:"RISC vs CISC",content:{approaches:[{name:"RISC",full:"Reduced Instruction Set Computer",characteristics:["Simple, fixed-size instructions","Load/store architecture","Many registers","Single-cycle execution goal","Hardware simplicity  speed"],examples:"ARM, MIPS, RISC-V, SPARC, PowerPC"},{name:"CISC",full:"Complex Instruction Set Computer",characteristics:["Variable-length instructions","Memory operands in most instructions","Fewer registers","Complex instructions (multi-cycle)","Compact code"],examples:"x86, x86-64, VAX, 68000"}]},interactive:{type:"risc-cisc"}},{id:13,section:"architecture",type:"concept",title:"RISC Philosophy",content:{description:"Make the common case fast:",items:[{icon:"1",text:"One Instruction Per Cycle",detail:"Simple instructions complete in one clock"},{icon:"",text:"Fixed Instruction Format",detail:"Easy to decode, predictable pipeline"},{icon:"",text:"Load/Store Architecture",detail:"Only LOAD/STORE access memory; ALU uses registers"},{icon:"",text:"Many Registers",detail:"32+ registers reduce memory traffic"},{icon:"",text:"Compiler Does the Work",detail:"Complex operations built from simple ones"}]}},{id:14,section:"pipeline",type:"concept",title:"Pipelining",content:{description:"The most important performance trick - overlap instruction execution:",items:[{icon:"",text:"Assembly Line",detail:"Like a factory - multiple instructions in flight"},{icon:"",text:"Throughput",detail:"One instruction completes per cycle (ideally)"},{icon:"",text:"Latency",detail:"Each instruction still takes multiple cycles"},{icon:"",text:"Stages",detail:"IF  ID  EX  MEM  WB (classic 5-stage)"}]},interactive:{type:"pipeline"}},{id:15,section:"pipeline",type:"diagram",title:"Classic 5-Stage Pipeline",content:{stages:[{abbrev:"IF",name:"Instruction Fetch",detail:"Read instruction from memory"},{abbrev:"ID",name:"Instruction Decode",detail:"Decode opcode, read registers"},{abbrev:"EX",name:"Execute",detail:"ALU operation or address calculation"},{abbrev:"MEM",name:"Memory Access",detail:"Load/store data (if needed)"},{abbrev:"WB",name:"Write Back",detail:"Write result to register"}]},interactive:{type:"pipeline-stages"}},{id:16,section:"pipeline",type:"concept",title:"Pipeline Hazards",content:{description:"Problems that stall the pipeline:",items:[{icon:"",text:"Data Hazard",detail:"Instruction needs result not yet computed"},{icon:"",text:"Control Hazard",detail:"Branch - don't know which instruction is next"},{icon:"",text:"Structural Hazard",detail:"Two instructions need same hardware unit"}],solutions:[{problem:"Data Hazard",solution:"Forwarding, stalling, compiler scheduling"},{problem:"Control Hazard",solution:"Branch prediction, delay slots"},{problem:"Structural Hazard",solution:"More hardware units"}]}},{id:17,section:"compiler",type:"concept",title:"Instruction Scheduling",content:{description:"Compiler reorders instructions to avoid pipeline stalls:",items:[{icon:"",text:"Goal",detail:"Minimize stalls by separating dependent instructions"},{icon:"",text:"Fill Delay Slots",detail:"Put useful work in load/branch delay slots"},{icon:"",text:"Trade-offs",detail:"May conflict with register allocation"},{icon:"",text:"Critical",detail:"One of most important optimizations for RISC"}]},interactive:{type:"scheduling"}},{id:18,section:"compiler",type:"concept",title:"Register Allocation",content:{description:"Keep the right values in registers:",items:[{icon:"",text:"Why It Matters",detail:"Registers ~100x faster than memory"},{icon:"",text:"Goal",detail:"Maximize register usage, minimize spills to memory"},{icon:"",text:"Graph Coloring",detail:"Classic algorithm - color interference graph with K registers"},{icon:"",text:"Conflicts",detail:"Good scheduling may need more registers"}]}},{id:19,section:"modern",type:"concept",title:"Superscalar Processors",content:{description:"Execute multiple instructions per cycle:",items:[{icon:"2",text:"Multiple Issue",detail:"Start 2, 4, or more instructions per cycle"},{icon:"",text:"Out-of-Order",detail:"Execute instructions as operands become ready"},{icon:"",text:"Speculation",detail:"Predict branches, execute speculatively"},{icon:"",text:"Reorder Buffer",detail:"Retire instructions in original order"}],note:"Modern x86 chips are internally RISC-like superscalar machines!"}},{id:20,section:"modern",type:"concept",title:"Modern Processor Features",content:{description:"What you find in today's CPUs:",items:[{icon:"",text:"Branch Prediction",detail:"Guess branch outcome, ~95%+ accuracy"},{icon:"",text:"Large Caches",detail:"Multi-level, multi-MB on-chip caches"},{icon:"",text:"SIMD Units",detail:"Vector operations (SSE, AVX, NEON)"},{icon:"",text:"Multiple Cores",detail:"2-64+ independent processors on one chip"},{icon:"",text:"Hyperthreading",detail:"Multiple threads share one core's resources"}]}},{id:21,section:"architectures",type:"table",title:"Major Architectures Today",content:{headers:["Architecture","Type","Used In"],rows:[["x86-64","CISC","Desktop, laptop, server (Intel, AMD)"],["ARM","RISC","Smartphones, tablets, Apple M-series, servers"],["RISC-V","RISC","Open source, embedded, growing adoption"],["MIPS","RISC","Embedded, networking, education"],["PowerPC","RISC","Game consoles, embedded"],["SPARC","RISC","Oracle servers (legacy)"]]}},{id:22,section:"implications",type:"concept",title:"Implications for Compiler Writers",content:{description:"What modern architectures mean for compilation:",items:[{icon:"",text:"Instruction Scheduling",detail:"Reorder to avoid stalls, fill delay slots"},{icon:"",text:"Register Allocation",detail:"Use all registers effectively"},{icon:"",text:"Cache Awareness",detail:"Data layout for cache efficiency"},{icon:"",text:"Branch Optimization",detail:"Layout code to help prediction"},{icon:"",text:"Vectorization",detail:"Use SIMD instructions when possible"}],note:"Good compilers must understand the target machine deeply"}},{id:23,section:"summary",type:"summary",title:"Chapter 5 Summary",content:{sections:[{title:"Architecture Basics",points:["Von Neumann: stored program, fetch-execute","Memory hierarchy: registers  cache  RAM","Registers are fastest, most precious resource"]},{title:"RISC vs CISC",points:["RISC: simple, regular, load/store, many registers","CISC: complex, variable, memory operands","Modern x86 is internally RISC-like"]},{title:"Pipelining & Modern CPUs",points:["Pipeline overlaps instruction execution","Hazards: data, control, structural","Superscalar: multiple instructions per cycle"]}]}}],ix=()=>{const[s,o]=w.useState(0),[d,r]=w.useState(!1),m=[{stage:"Fetch",desc:"Read instruction from memory at PC address",pc:"0x1000",ir:"LOAD R1, [100]"},{stage:"Decode",desc:"Decode opcode: this is a LOAD instruction",pc:"0x1000",ir:"LOAD R1, [100]"},{stage:"Fetch Operands",desc:"Calculate effective address: 100",pc:"0x1000",ir:"LOAD R1, [100]"},{stage:"Execute",desc:"Read value 42 from memory address 100",pc:"0x1000",ir:"LOAD R1, [100]"},{stage:"Store Result",desc:"Write 42 to register R1",pc:"0x1000",ir:"LOAD R1, [100]"},{stage:"Update PC",desc:"Increment PC to point to next instruction",pc:"0x1004",ir:"LOAD R1, [100]"}];w.useEffect(()=>{if(d){const g=setInterval(()=>{o(N=>(N+1)%m.length)},1500);return()=>clearInterval(g)}},[d]);const f=m[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-amber-400 text-lg mb-4 font-mono",children:"Interactive: Fetch-Execute Cycle"}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Program Counter"}),a.jsx("div",{className:"text-2xl font-mono text-amber-400",children:f.pc})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Instruction Register"}),a.jsx("div",{className:"text-xl font-mono text-green-400",children:f.ir})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Current Stage"}),a.jsx("div",{className:"text-2xl font-bold text-white",children:f.stage})]})]}),a.jsx("div",{className:"bg-amber-500/20 border border-amber-500 p-5 rounded-lg mb-6",children:a.jsx("div",{className:"text-amber-400 text-xl",children:f.desc})}),a.jsx("div",{className:"flex gap-2 justify-center mb-4",children:m.map((g,N)=>a.jsx("button",{onClick:()=>o(N),className:`w-3 h-3 rounded-full ${N===s?"bg-amber-500":"bg-slate-600"}`},N))}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(g=>Math.max(0,g-1)),className:"px-5 py-2 bg-slate-700 rounded text-lg",children:" Prev"}),a.jsx("button",{onClick:()=>r(!d),className:`px-5 py-2 rounded text-lg ${d?"bg-red-500":"bg-green-600"}`,children:d?" Stop":" Auto"}),a.jsx("button",{onClick:()=>o(g=>(g+1)%m.length),className:"px-5 py-2 bg-slate-700 rounded text-lg",children:"Next "})]})]})},tf=()=>{const[s,o]=w.useState(null),d=[{name:"Registers",size:"~256 bytes",speed:"1 cycle",color:"red"},{name:"L1 Cache",size:"32-64 KB",speed:"~4 cycles",color:"orange"},{name:"L2 Cache",size:"256 KB - 1 MB",speed:"~10 cycles",color:"yellow"},{name:"L3 Cache",size:"4-64 MB",speed:"~40 cycles",color:"green"},{name:"Main Memory",size:"8-128 GB",speed:"~200 cycles",color:"blue"},{name:"SSD/Disk",size:"256 GB - 4 TB",speed:"~100,000+ cycles",color:"purple"}];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-amber-400 text-lg mb-4 font-mono",children:"Interactive: Memory Hierarchy"}),a.jsx("div",{className:"flex flex-col items-center gap-2",children:d.map((r,m)=>a.jsx("button",{onClick:()=>o(m),className:`transition-all rounded-lg p-3 text-center ${s===m?"ring-4 ring-amber-500":""}`,style:{width:`${100+m*50}px`,background:`linear-gradient(135deg, ${r.color==="red"?"#ef4444":r.color==="orange"?"#f97316":r.color==="yellow"?"#eab308":r.color==="green"?"#22c55e":r.color==="blue"?"#3b82f6":"#a855f7"}40, ${r.color==="red"?"#ef4444":r.color==="orange"?"#f97316":r.color==="yellow"?"#eab308":r.color==="green"?"#22c55e":r.color==="blue"?"#3b82f6":"#a855f7"}20)`},children:a.jsx("div",{className:"text-white font-bold text-lg",children:r.name})},m))}),s!==null&&a.jsxs("div",{className:"mt-6 bg-slate-900 p-5 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-white mb-3",children:d[s].name}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Typical Size"}),a.jsx("div",{className:"text-xl text-amber-400",children:d[s].size})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Access Time"}),a.jsx("div",{className:"text-xl text-green-400",children:d[s].speed})]})]})]}),a.jsx("div",{className:"mt-4 text-center text-slate-400 text-lg",children:"Click a level to see details. Faster  | Bigger "})]})},af=()=>{const[s,o]=w.useState(305419896),d=s.toString(16).padStart(8,"0").match(/.{2}/g)||[],r=d,m=[...d].reverse();return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-amber-400 text-lg mb-4 font-mono",children:"Interactive: Byte Order (Endianness)"}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"text-slate-400 text-lg mb-2",children:"32-bit Value"}),a.jsxs("div",{className:"text-4xl font-mono text-white",children:["0x",s.toString(16).toUpperCase().padStart(8,"0")]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-slate-900 p-5 rounded-lg",children:[a.jsx("div",{className:"text-blue-400 font-bold text-xl mb-3",children:"Big-Endian"}),a.jsx("div",{className:"flex gap-2 justify-center",children:r.map((f,g)=>a.jsx("div",{className:"w-16 h-16 bg-blue-500/30 rounded flex items-center justify-center",children:a.jsx("span",{className:"font-mono text-xl text-white",children:f.toUpperCase()})},g))}),a.jsx("div",{className:"text-slate-400 text-base mt-3 text-center",children:"MSB first (address 0  3)"})]}),a.jsxs("div",{className:"bg-slate-900 p-5 rounded-lg",children:[a.jsx("div",{className:"text-orange-400 font-bold text-xl mb-3",children:"Little-Endian"}),a.jsx("div",{className:"flex gap-2 justify-center",children:m.map((f,g)=>a.jsx("div",{className:"w-16 h-16 bg-orange-500/30 rounded flex items-center justify-center",children:a.jsx("span",{className:"font-mono text-xl text-white",children:f.toUpperCase()})},g))}),a.jsx("div",{className:"text-slate-400 text-base mt-3 text-center",children:"LSB first (address 0  3)"})]})]}),a.jsxs("div",{className:"mt-6 flex justify-center gap-3",children:[a.jsx("button",{onClick:()=>o(305419896),className:"px-4 py-2 bg-slate-700 rounded text-lg",children:"0x12345678"}),a.jsx("button",{onClick:()=>o(3735928559),className:"px-4 py-2 bg-slate-700 rounded text-lg",children:"0xDEADBEEF"}),a.jsx("button",{onClick:()=>o(3405691582),className:"px-4 py-2 bg-slate-700 rounded text-lg",children:"0xCAFEBABE"})]})]})},lf=()=>{const[s,o]=w.useState("risc"),r={risc:{name:"RISC (ARM)",code:`; Add memory values, store result
LOAD  R1, [R10]      ; Load first value
LOAD  R2, [R10, #4]  ; Load second value  
ADD   R3, R1, R2     ; Add them
STORE R3, [R10, #8]  ; Store result`,instructions:4,cycles:"4-6 cycles",note:"Load/store architecture: only LOAD/STORE access memory"},cisc:{name:"CISC (x86)",code:`; Add memory values, store result
MOV  EAX, [EBX]      ; Load first value
ADD  EAX, [EBX+4]    ; Add from memory
MOV  [EBX+8], EAX    ; Store result`,instructions:3,cycles:"3-10+ cycles",note:"Memory operands allowed in arithmetic instructions"}}[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-amber-400 text-lg mb-4 font-mono",children:"Interactive: RISC vs CISC Code"}),a.jsxs("div",{className:"flex gap-3 mb-6 justify-center",children:[a.jsx("button",{onClick:()=>o("risc"),className:`px-6 py-3 rounded-lg text-xl font-bold ${s==="risc"?"bg-blue-500 text-white":"bg-slate-700"}`,children:"RISC"}),a.jsx("button",{onClick:()=>o("cisc"),className:`px-6 py-3 rounded-lg text-xl font-bold ${s==="cisc"?"bg-orange-500 text-white":"bg-slate-700"}`,children:"CISC"})]}),a.jsxs("div",{className:"bg-slate-900 p-5 rounded-lg mb-6",children:[a.jsx("div",{className:`font-bold text-xl mb-3 ${s==="risc"?"text-blue-400":"text-orange-400"}`,children:r.name}),a.jsx("pre",{className:"text-green-400 font-mono text-lg",children:r.code})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Instructions"}),a.jsx("div",{className:"text-3xl font-bold text-white",children:r.instructions})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Typical Cycles"}),a.jsx("div",{className:"text-2xl font-bold text-amber-400",children:r.cycles})]})]}),a.jsx("div",{className:`p-4 rounded-lg ${s==="risc"?"bg-blue-500/20":"bg-orange-500/20"}`,children:a.jsx("div",{className:s==="risc"?"text-blue-400":"text-orange-400",children:r.note})})]})},cx=()=>{const[s,o]=w.useState(0),d=["I1: LOAD","I2: ADD","I3: SUB","I4: STORE","I5: MUL"],r=["IF","ID","EX","MEM","WB"],m=(f,g)=>{const N=f-g;return N>=0&&N<d.length?d[N]:null};return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-amber-400 text-lg mb-4 font-mono",children:"Interactive: 5-Stage Pipeline"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{className:"p-3 text-left text-slate-400 text-lg",children:"Stage"}),[...Array(9)].map((f,g)=>a.jsxs("th",{className:`p-3 text-center text-lg ${g===s?"text-amber-400 font-bold":"text-slate-500"}`,children:["C",g+1]},g))]})}),a.jsx("tbody",{children:r.map((f,g)=>a.jsxs("tr",{children:[a.jsx("td",{className:"p-3 font-bold text-white text-lg",children:f}),[...Array(9)].map((N,h)=>{const p=m(h,g),L=h===s&&p;return a.jsx("td",{className:"p-2",children:p&&a.jsx("div",{className:`px-2 py-1 rounded text-center text-sm font-mono ${L?"bg-amber-500 text-white":p.includes("LOAD")?"bg-blue-500/30 text-blue-300":p.includes("STORE")?"bg-purple-500/30 text-purple-300":"bg-green-500/30 text-green-300"}`,children:p.split(":")[0]})},h)})]},f))})]})}),a.jsxs("div",{className:"flex gap-3 justify-center mt-6",children:[a.jsx("button",{onClick:()=>o(f=>Math.max(0,f-1)),className:"px-5 py-2 bg-slate-700 rounded text-lg",children:" Prev"}),a.jsxs("span",{className:"px-5 py-2 bg-amber-500/20 rounded text-amber-400 text-lg",children:["Cycle ",s+1]}),a.jsx("button",{onClick:()=>o(f=>Math.min(8,f+1)),className:"px-5 py-2 bg-slate-700 rounded text-lg",children:"Next "}),a.jsx("button",{onClick:()=>o(0),className:"px-5 py-2 bg-amber-600 rounded text-lg",children:"Reset"})]}),a.jsxs("div",{className:"mt-4 text-center text-slate-400 text-lg",children:["At cycle ",s+1,": ",d.filter((f,g)=>g<=s&&g>s-5).length," instructions in flight"]})]})},nf=({slide:s})=>a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[a.jsx("div",{className:"text-7xl mb-8",children:""}),a.jsx("h1",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.subtitle&&a.jsx("h2",{className:"text-2xl text-amber-400 mb-10",children:s.content.subtitle}),a.jsx("div",{className:"mt-8 flex flex-wrap gap-3 justify-center max-w-3xl",children:s.content.topics?.map((o,d)=>a.jsx("span",{className:"px-4 py-2 bg-slate-800 text-slate-300 rounded-full text-lg",children:o},d))})]}),Um=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.description}),s.content.items&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:s.content.items.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl flex items-start gap-4",children:[o.icon&&a.jsx("span",{className:"text-5xl",children:o.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold text-2xl",children:o.text}),o.detail&&a.jsx("p",{className:"text-slate-300 text-xl mt-2",children:o.detail})]})]},d))}),s.content.note&&a.jsx("p",{className:"mt-6 text-amber-400 italic text-xl",children:s.content.note}),s.content.solutions&&a.jsx("div",{className:"mt-6 space-y-3",children:s.content.solutions.map((o,d)=>a.jsxs("div",{className:"bg-green-500/20 p-4 rounded-lg",children:[a.jsxs("span",{className:"text-green-400 font-bold",children:[o.problem,":"]}),a.jsx("span",{className:"text-slate-300 ml-2",children:o.solution})]},d))}),s.interactive?.type==="fetch-execute"&&a.jsx(ix,{}),s.interactive?.type==="memory-hierarchy"&&a.jsx(tf,{}),s.interactive?.type==="pipeline"&&a.jsx(cx,{})]}),sf=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.description}),s.content.steps&&a.jsx("div",{className:"space-y-4",children:s.content.steps.map((o,d)=>a.jsxs("div",{className:"flex items-center gap-4 bg-slate-800/50 p-5 rounded-xl",children:[a.jsx("div",{className:"w-12 h-12 bg-amber-500 rounded-full flex items-center justify-center text-white font-bold text-xl",children:d+1}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-bold text-xl",children:o.name}),a.jsx("div",{className:"text-slate-300 text-lg",children:o.detail})]})]},d))}),s.content.stages&&a.jsx("div",{className:"flex gap-3 justify-center flex-wrap",children:s.content.stages.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-5 rounded-xl text-center w-36",children:[a.jsx("div",{className:"text-amber-400 font-bold text-2xl",children:o.abbrev}),a.jsx("div",{className:"text-white text-lg mt-2",children:o.name}),a.jsx("div",{className:"text-slate-400 text-base mt-1",children:o.detail})]},d))}),s.interactive?.type==="fetch-execute-cycle"&&a.jsx(ix,{}),s.interactive?.type==="pipeline-stages"&&a.jsx(cx,{})]}),cf=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.definition&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.definition}),a.jsx("div",{className:"space-y-5",children:s.content.items?.map((o,d)=>a.jsx("div",{className:"bg-slate-800/50 p-6 rounded-xl border-l-4 border-amber-500",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("span",{className:"text-amber-400 font-bold text-2xl min-w-fit",children:o.term}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-white text-xl",children:o.definition}),o.example&&a.jsxs("p",{className:"text-slate-400 font-mono text-lg mt-3",children:["Example: ",o.example]})]})]})},d))})]}),of=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-2xl text-slate-300 mb-6",children:s.content.description}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.content.approaches?.map((o,d)=>a.jsxs("div",{className:`p-6 rounded-xl border-2 ${d===0?"border-blue-500 bg-blue-500/10":"border-orange-500 bg-orange-500/10"}`,children:[a.jsx("h3",{className:`font-bold text-3xl mb-2 ${d===0?"text-blue-400":"text-orange-400"}`,children:o.name}),o.full&&a.jsx("p",{className:"text-slate-400 text-lg mb-3",children:o.full}),o.how&&a.jsx("p",{className:"text-white text-xl mb-3",children:o.how}),o.example&&a.jsx("p",{className:"text-slate-400 font-mono text-lg mb-3",children:o.example}),o.used&&a.jsxs("p",{className:"text-slate-500 text-base",children:["Used by: ",o.used]}),o.characteristics&&a.jsx("ul",{className:"space-y-2 mt-3",children:o.characteristics.map((r,m)=>a.jsxs("li",{className:"text-slate-300 text-lg",children:[" ",r]},m))}),o.examples&&a.jsxs("p",{className:"text-slate-500 text-base mt-3",children:["Examples: ",o.examples]})]},d))}),s.content.note&&a.jsx("p",{className:"mt-6 text-amber-400 text-xl italic",children:s.content.note}),s.interactive?.type==="endianness"&&a.jsx(af,{}),s.interactive?.type==="risc-cisc"&&a.jsx(lf,{})]}),rf=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-xl",children:[a.jsx("thead",{children:a.jsx("tr",{className:"border-b border-slate-700",children:s.content.headers?.map((o,d)=>a.jsx("th",{className:"text-left p-4 text-amber-400 font-bold text-2xl",children:o},d))})}),a.jsx("tbody",{children:s.content.rows?.map((o,d)=>a.jsx("tr",{className:"border-b border-slate-800",children:o.map((r,m)=>a.jsx("td",{className:`p-4 text-xl ${m===0?"text-white font-medium":"text-slate-300"}`,children:r},m))},d))})]})})]}),df=({slide:s})=>a.jsxs("div",{className:"h-full p-8 flex flex-col justify-center overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-10 text-center",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.content.sections?.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-amber-400 font-bold text-2xl mb-5",children:o.title}),a.jsx("ul",{className:"space-y-3",children:o.points.map((r,m)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-400 mt-1 text-xl",children:""}),a.jsx("span",{className:"text-slate-300 text-xl",children:r})]},m))})]},d))})]}),uf=({slide:s})=>{switch(s.type){case"title":return a.jsx(nf,{slide:s});case"concept":return a.jsx(Um,{slide:s});case"diagram":return a.jsx(sf,{slide:s});case"definition":return a.jsx(cf,{slide:s});case"comparison":return a.jsx(of,{slide:s});case"table":return a.jsx(rf,{slide:s});case"summary":return a.jsx(df,{slide:s});default:return a.jsx(Um,{slide:s})}};function mf({onBackToChapters:s}){const[o,d]=w.useState(0),[r,m]=w.useState(!1),f=[...new Set(zt.map(h=>h.section))],g=w.useCallback(h=>{h.key==="ArrowRight"||h.key===" "?d(p=>Math.min(p+1,zt.length-1)):h.key==="ArrowLeft"?d(p=>Math.max(p-1,0)):h.key==="Escape"?m(!1):h.key==="m"&&m(p=>!p)},[]);w.useEffect(()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)),[g]);const N=zt[o];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm z-40 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>m(!r),className:"p-2 hover:bg-slate-700 rounded",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("span",{className:"text-amber-400 font-bold text-lg",children:["Ch 5: ",ef.title]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-slate-400",children:[o+1," / ",zt.length]}),a.jsx("button",{type:"button",onClick:s,"aria-label":"Back to chapters",title:"Back to chapters",className:"p-1.5 rounded-full border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 hover:bg-slate-700/60 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"px-3 py-1 bg-slate-700 text-slate-300 rounded text-sm",children:N.section})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>m(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-slate-800 p-4 overflow-auto",onClick:h=>h.stopPropagation(),children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Chapter 5 Slides"}),f.map(h=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-amber-400 text-sm uppercase tracking-wider mb-2",children:h}),zt.filter(p=>p.section===h).map(p=>a.jsxs("button",{onClick:()=>{d(zt.indexOf(p)),m(!1)},className:`block w-full text-left px-3 py-2 rounded mb-1 text-base ${zt.indexOf(p)===o?"bg-amber-500 text-white":"hover:bg-slate-700"}`,children:[a.jsx("span",{className:"text-xs opacity-60 mr-2",children:p.id}),p.title]},p.id))]},h))]})}),a.jsx("main",{className:"pt-14 pb-20 min-h-screen",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(uf,{slide:N})})}),a.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("button",{onClick:()=>d(h=>Math.max(h-1,0)),disabled:o===0,className:"flex items-center gap-2 px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-30",children:" Previous"}),a.jsx("div",{className:"flex-1 mx-8",children:a.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-amber-500 transition-all",style:{width:`${(o+1)/zt.length*100}%`}})})}),a.jsx("button",{onClick:()=>d(h=>Math.min(h+1,zt.length-1)),disabled:o===zt.length-1,className:"flex items-center gap-2 px-5 py-2 bg-amber-600 rounded text-lg disabled:opacity-30",children:"Next "})]}),a.jsxs("div",{className:"text-center text-slate-500 text-sm pb-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," navigate  ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:"M"})," menu"]})]})]})}const xf={title:"Control Flow"},Bt=[{id:1,section:"intro",type:"title",title:"Chapter 6: Control Flow",content:{subtitle:"How Programs Execute",topics:["Expression Evaluation","Sequencing","Selection (if/switch)","Iteration (loops)","Recursion","Short-Circuit Evaluation"]}},{id:2,section:"intro",type:"concept",title:"Control Flow Paradigms",content:{description:"Basic paradigms for controlling program execution:",items:[{icon:"",text:"Sequencing",detail:"Statements execute one after another"},{icon:"",text:"Selection",detail:"Choose between alternatives (if, switch)"},{icon:"",text:"Iteration",detail:"Repeat statements (for, while, do)"},{icon:"",text:"Procedural Abstraction",detail:"Subroutines, functions, methods"},{icon:"",text:"Recursion",detail:"Functions that call themselves"},{icon:"",text:"Concurrency",detail:"Parallel execution of code"}]}},{id:3,section:"expressions",type:"concept",title:"Expression Evaluation",content:{description:"How expressions are evaluated in programming languages:",items:[{icon:"",text:"Precedence",detail:"Which operators bind tighter (*, + vs +, *)"},{icon:"",text:"Associativity",detail:"Left-to-right or right-to-left grouping"},{icon:"",text:"Order of Evaluation",detail:"Which operand is evaluated first"},{icon:"",text:"Short-Circuiting",detail:"Skip evaluation when result is known"}]}},{id:4,section:"expressions",type:"table",title:"Operator Precedence Levels",content:{description:"Number of precedence levels varies by language:",headers:["Language","Levels","Notes"],rows:[["C/C++","15","Too many to remember!"],["Java","15","Similar to C"],["Fortran","8","Reasonable"],["Ada","6","Simple but AND/OR same level"],["Pascal","3","Too few for good semantics"],["Python","~15","Similar to C"]],note:"Lesson: When in doubt, use parentheses!"}},{id:5,section:"expressions",type:"interactive",title:"Precedence in Action",content:{description:"See how precedence affects expression evaluation:"},interactive:{type:"precedence"}},{id:6,section:"expressions",type:"concept",title:"Short-Circuit Evaluation",content:{description:"Stop evaluating when the result is already determined:",items:[{icon:"&&",text:"AND short-circuit",detail:"If first is false, result is false (skip second)"},{icon:"||",text:"OR short-circuit",detail:"If first is true, result is true (skip second)"}],examples:[{code:"if (b != 0 && a/b == c)",explanation:"Avoids division by zero"},{code:"if (ptr && ptr->value)",explanation:"Avoids null pointer dereference"},{code:"if (cached || expensive())",explanation:"Avoids expensive computation"}]},interactive:{type:"short-circuit"}},{id:7,section:"expressions",type:"concept",title:"Side Effects",content:{description:"Changes to program state beyond returning a value:",items:[{icon:"",text:"Assignment",detail:"x = 5 changes the value of x"},{icon:"",text:"I/O Operations",detail:"print() outputs to screen"},{icon:"",text:"Global State",detail:"Modifying global variables"},{icon:"",text:"Problem",detail:"Side effects in expressions can cause confusion"}],note:"Side effects are FUNDAMENTAL to von Neumann computing, but can make code harder to reason about"}},{id:8,section:"expressions",type:"concept",title:"Assignment Operators",content:{description:"Variations on assignment across languages:",items:[{icon:"=",text:"Simple Assignment",detail:"x = 5"},{icon:"+=",text:"Compound Assignment",detail:"x += 5 means x = x + 5"},{icon:"++",text:"Increment/Decrement",detail:"x++ or ++x (C-style)"},{icon:":=",text:"Pascal-style",detail:"Distinguishes assignment from equality"}],benefits:["Compound operators: avoid redundant evaluation","Increment: perform side effect exactly once","Expression assignment: enables chaining (a = b = c = 0)"]}},{id:9,section:"sequencing",type:"concept",title:"Sequencing",content:{description:"The most basic control flow - statements execute in order:",items:[{icon:"1",text:"First Statement",detail:"Execute completely"},{icon:"2",text:"Second Statement",detail:"Then execute this"},{icon:"3",text:"Third Statement",detail:"And so on..."}],note:"Very imperative, von Neumann style. The semicolon (;) is often the sequencing operator."}},{id:10,section:"selection",type:"concept",title:"Selection: If Statements",content:{description:"Choose between alternative paths:",items:[{icon:"",text:"Simple If",detail:"if (condition) statement"},{icon:"",text:"If-Else",detail:"if (condition) stmt1 else stmt2"},{icon:"",text:"If-Elsif-Else",detail:"Chain of conditions"},{icon:"",text:"Dangling Else",detail:"Which if does else belong to?"}]},interactive:{type:"if-else"}},{id:11,section:"selection",type:"concept",title:"The Dangling Else Problem",content:{description:"Ambiguity in nested if statements:",code:`if (a)
  if (b)
    S1
  else      // Which 'if' does this belong to?
    S2`,items:[{icon:"",text:"Rule",detail:"Else matches nearest unmatched if"},{icon:"",text:"Solution 1",detail:"Use braces/begin-end to be explicit"},{icon:"",text:"Solution 2",detail:"Use end markers (endif, fi, end if)"}]}},{id:12,section:"selection",type:"concept",title:"Selection: Switch/Case",content:{description:"Multi-way branch based on value:",items:[{icon:"",text:"Purpose",detail:"Choose from many alternatives efficiently"},{icon:"",text:"Implementation",detail:"Often uses jump table for O(1) dispatch"},{icon:"",text:"Fall-through",detail:"C/C++ continue to next case without break"},{icon:"",text:"Default",detail:"Handle unmatched cases"}]},interactive:{type:"switch"}},{id:13,section:"iteration",type:"concept",title:"Iteration (Loops)",content:{description:"Repeat statements multiple times:",items:[{icon:"",text:"Enumeration-controlled",detail:"for i = 1 to 10 (count iterations)"},{icon:"",text:"Logically-controlled",detail:"while (condition) (test before/after)"},{icon:"",text:"Iterator-based",detail:"for item in collection"},{icon:"",text:"Infinite loops",detail:"while(true) with break"}]}},{id:14,section:"iteration",type:"concept",title:"For Loops",content:{description:"Enumeration-controlled iteration:",items:[{icon:"",text:"Loop Variable",detail:"Counter that changes each iteration"},{icon:"",text:"Bounds",detail:"Start and end values"},{icon:"",text:"Step",detail:"How much to change each iteration"},{icon:"",text:"Questions",detail:"Can bounds change? Can variable be modified? Value after loop?"}]},interactive:{type:"for-loop"}},{id:15,section:"iteration",type:"comparison",title:"While vs Do-While",content:{approaches:[{name:"While (Pre-test)",code:`while (cond) {
  body
}`,behavior:"Test BEFORE each iteration",minIterations:"0 times possible"},{name:"Do-While (Post-test)",code:`do {
  body
} while (cond);`,behavior:"Test AFTER each iteration",minIterations:"At least 1 time"}]},interactive:{type:"while-loops"}},{id:16,section:"iteration",type:"concept",title:"Loop Control Statements",content:{description:"Alter normal loop execution:",items:[{icon:"",text:"break",detail:"Exit the loop immediately"},{icon:"",text:"continue",detail:"Skip to next iteration"},{icon:"",text:"Labeled break",detail:"Exit outer loop (Java, JavaScript)"},{icon:"",text:"return",detail:"Exit function (and loop)"}]}},{id:17,section:"recursion",type:"concept",title:"Recursion",content:{description:"Functions that call themselves:",items:[{icon:"",text:"Self-Reference",detail:"Function calls itself with smaller input"},{icon:"",text:"Base Case",detail:"Condition that stops recursion"},{icon:"",text:"Progress",detail:"Each call must move toward base case"},{icon:"",text:"Stack",detail:"Each call gets its own stack frame"}],note:"Equally powerful to iteration - mechanical transformations exist between them"},interactive:{type:"recursion"}},{id:18,section:"recursion",type:"concept",title:"Tail Recursion",content:{description:"Special form of recursion that can be optimized:",items:[{icon:"",text:"Definition",detail:"No computation after the recursive call"},{icon:"",text:"Optimization",detail:"Can be converted to iteration (no stack growth)"},{icon:"",text:"Tail Call",detail:"return f(...) is tail position"}],code:`// Tail recursive GCD
int gcd(int a, int b) {
  if (a == b) return a;
  else if (a > b) return gcd(a-b, b);
  else return gcd(a, b-a);
}`},interactive:{type:"tail-recursion"}},{id:19,section:"codegen",type:"comparison",title:"Code Generation: Short-Circuit",content:{description:"Comparing code with and without short-circuit evaluation:",approaches:[{name:"Without Short-Circuit",characteristics:["Evaluate entire expression","Store boolean in register","Then test and branch","More instructions executed"]},{name:"With Short-Circuit",characteristics:["Jump as soon as result known","No boolean register needed","Fewer instructions (often)","Better for common cases"]}]},interactive:{type:"codegen"}},{id:20,section:"summary",type:"summary",title:"Chapter 6 Summary",content:{sections:[{title:"Expressions",points:["Precedence and associativity determine grouping","Short-circuit evaluation stops early","Side effects change program state"]},{title:"Selection & Iteration",points:["if/else, switch for selection","for, while, do-while for iteration","break/continue alter loop flow"]},{title:"Recursion",points:["Functions calling themselves","Need base case to terminate","Tail recursion can be optimized"]}]}}],pf=()=>{const[s,o]=w.useState("3 + 4 * 5"),d=[{expr:"3 + 4 * 5",correct:"3 + (4 * 5) = 23",wrong:"(3 + 4) * 5 = 35",rule:"* has higher precedence than +"},{expr:"8 / 4 / 2",correct:"(8 / 4) / 2 = 1",wrong:"8 / (4 / 2) = 4",rule:"/ is left-associative"},{expr:"2 ** 3 ** 2",correct:"2 ** (3 ** 2) = 512",wrong:"(2 ** 3) ** 2 = 64",rule:"** is right-associative"},{expr:"a = b = 5",correct:"a = (b = 5)",wrong:"(a = b) = 5",rule:"= is right-associative"}],r=d.find(m=>m.expr===s)||d[0];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-pink-400 text-lg mb-4 font-mono",children:"Interactive: Operator Precedence"}),a.jsx("div",{className:"flex flex-wrap gap-3 mb-6 justify-center",children:d.map((m,f)=>a.jsx("button",{onClick:()=>o(m.expr),className:`px-4 py-2 rounded-lg font-mono text-lg ${s===m.expr?"bg-pink-500 text-white":"bg-slate-700"}`,children:m.expr},f))}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-green-500/20 border border-green-500 p-5 rounded-lg",children:[a.jsx("div",{className:"text-green-400 font-bold text-xl mb-2",children:" Correct Parsing"}),a.jsx("div",{className:"text-white text-2xl font-mono",children:r.correct})]}),a.jsxs("div",{className:"bg-red-500/20 border border-red-500 p-5 rounded-lg",children:[a.jsx("div",{className:"text-red-400 font-bold text-xl mb-2",children:" Wrong Parsing"}),a.jsx("div",{className:"text-white text-2xl font-mono",children:r.wrong})]})]}),a.jsx("div",{className:"bg-pink-500/20 p-4 rounded-lg text-center",children:a.jsxs("div",{className:"text-pink-400 text-xl",children:["Rule: ",r.rule]})})]})},ox=()=>{const[s,o]=w.useState(!0),[d,r]=w.useState(!0),[m,f]=w.useState("&&"),g=m==="&&"?s&&d:s||d,N=m==="&&"?!s:s,h=!N;return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-pink-400 text-lg mb-4 font-mono",children:"Interactive: Short-Circuit Evaluation"}),a.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[a.jsxs("button",{onClick:()=>o(!s),className:`px-6 py-3 rounded-lg font-bold text-xl ${s?"bg-green-500":"bg-red-500"}`,children:["A = ",s.toString()]}),a.jsxs("select",{value:m,onChange:p=>f(p.target.value),className:"px-4 py-3 rounded-lg bg-slate-700 text-white text-xl font-mono",children:[a.jsx("option",{value:"&&",children:"&&"}),a.jsx("option",{value:"||",children:"||"})]}),a.jsxs("button",{onClick:()=>r(!d),className:`px-6 py-3 rounded-lg font-bold text-xl ${h?d?"bg-green-500":"bg-red-500":"bg-slate-600 opacity-50"}`,children:["B = ",d.toString()]}),a.jsx("span",{className:"text-white text-2xl",children:"="}),a.jsx("span",{className:`px-6 py-3 rounded-lg font-bold text-xl ${g?"bg-green-500":"bg-red-500"}`,children:g.toString()})]}),a.jsx("div",{className:`p-5 rounded-lg ${N?"bg-amber-500/20 border border-amber-500":"bg-slate-700"}`,children:N?a.jsxs("div",{className:"text-amber-400 text-xl text-center",children:[" ",a.jsx("strong",{children:"Short-circuited!"})," B was never evaluated because ",m==="&&"?"A is false (result must be false)":"A is true (result must be true)"]}):a.jsx("div",{className:"text-slate-300 text-xl text-center",children:"Both A and B were evaluated"})}),a.jsxs("div",{className:"mt-6 bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-lg",children:"Practical use:"}),a.jsxs("code",{className:"text-green-400 text-lg",children:["if (ptr != null ",m==="&&"?"&&":"||"," ptr.value ",">"," 0)"]})]})]})},hf=()=>{const[s,o]=w.useState(5),r=s>10?"greater":s>5?"middle":s>0?"small":"zero-or-negative";return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-pink-400 text-lg mb-4 font-mono",children:"Interactive: If-Else Chains"}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"text-slate-400 text-lg block mb-2",children:["x = ",s]}),a.jsx("input",{type:"range",min:"-5",max:"20",value:s,onChange:m=>o(parseInt(m.target.value)),className:"w-full h-3 rounded-lg appearance-none bg-slate-700"})]}),a.jsxs("div",{className:"bg-slate-900 p-5 rounded-lg font-mono text-lg space-y-2",children:[a.jsxs("div",{className:r==="greater"?"text-green-400":"text-slate-500",children:["if (x ",">",' 10)  "x is greater than 10"']}),a.jsxs("div",{className:r==="middle"?"text-green-400":"text-slate-500",children:["else if (x ",">",' 5)  "x is between 6 and 10"']}),a.jsxs("div",{className:r==="small"?"text-green-400":"text-slate-500",children:["else if (x ",">",' 0)  "x is between 1 and 5"']}),a.jsx("div",{className:r==="zero-or-negative"?"text-green-400":"text-slate-500",children:'else  "x is 0 or negative"'})]}),a.jsx("div",{className:"mt-4 bg-green-500/20 p-4 rounded-lg",children:a.jsxs("span",{className:"text-green-400 text-xl",children:["Result: ",r==="greater"?'"x is greater than 10"':r==="middle"?'"x is between 6 and 10"':r==="small"?'"x is between 1 and 5"':'"x is 0 or negative"']})})]})},ff=()=>{const[s,o]=w.useState(1),[d,r]=w.useState(!0),m=[{val:1,label:"One"},{val:2,label:"Two"},{val:3,label:"Three"},{val:4,label:"Default"}],g=(()=>{if(d)return[s>3?4:s];{const N=s>3?4:s;return m.slice(N-1).map(h=>h.val)}})();return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-pink-400 text-lg mb-4 font-mono",children:"Interactive: Switch/Case"}),a.jsxs("div",{className:"flex items-center gap-4 mb-6 justify-center",children:[a.jsx("span",{className:"text-slate-400 text-lg",children:"switch("}),a.jsx("select",{value:s,onChange:N=>o(parseInt(N.target.value)),className:"px-4 py-2 rounded bg-slate-700 text-white text-xl",children:[1,2,3,5].map(N=>a.jsx("option",{value:N,children:N},N))}),a.jsx("span",{className:"text-slate-400 text-lg",children:")"}),a.jsxs("label",{className:"flex items-center gap-2 ml-6",children:[a.jsx("input",{type:"checkbox",checked:d,onChange:N=>r(N.target.checked),className:"w-5 h-5"}),a.jsx("span",{className:"text-slate-300 text-lg",children:"With break"})]})]}),a.jsx("div",{className:"bg-slate-900 p-5 rounded-lg font-mono text-lg space-y-2",children:m.map(N=>a.jsxs("div",{className:`p-2 rounded ${g.includes(N.val)?"bg-green-500/30 text-green-400":"text-slate-500"}`,children:[N.val<4?`case ${N.val}: print("${N.label}")`:`default: print("${N.label}")`,d&&a.jsx("span",{className:"text-amber-400 ml-2",children:"break;"})]},N.val))}),!d&&g.length>1&&a.jsx("div",{className:"mt-4 bg-amber-500/20 p-4 rounded-lg",children:a.jsx("span",{className:"text-amber-400 text-lg",children:" Fall-through: All cases after match are executed!"})})]})},rx=()=>{const[s,o]=w.useState(0),[d,r]=w.useState(!1),m=[{i:1,sum:0,action:"Initialize i=1, sum=0"},{i:1,sum:1,action:"sum += 1  sum=1"},{i:2,sum:1,action:"i++  i=2"},{i:2,sum:3,action:"sum += 2  sum=3"},{i:3,sum:3,action:"i++  i=3"},{i:3,sum:6,action:"sum += 3  sum=6"},{i:4,sum:6,action:"i++  i=4"},{i:4,sum:10,action:"sum += 4  sum=10"},{i:5,sum:10,action:"i++  i=5, i > 4  EXIT"}];w.useEffect(()=>{if(d&&s<m.length-1){const g=setTimeout(()=>o(N=>N+1),800);return()=>clearTimeout(g)}},[d,s]);const f=m[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-pink-400 text-lg mb-4 font-mono",children:"Interactive: For Loop (sum 1 to 4)"}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-6 font-mono text-lg text-center",children:[a.jsx("span",{className:"text-pink-400",children:"for"})," (i = 1; i ","<="," 4; i++) sum += i;"]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Loop Variable"}),a.jsxs("div",{className:"text-4xl font-bold text-pink-400",children:["i = ",f.i]})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Sum"}),a.jsx("div",{className:"text-4xl font-bold text-green-400",children:f.sum})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Step"}),a.jsxs("div",{className:"text-4xl font-bold text-white",children:[s+1,"/",m.length]})]})]}),a.jsx("div",{className:"bg-pink-500/20 p-4 rounded-lg mb-6",children:a.jsx("div",{className:"text-pink-400 text-xl text-center",children:f.action})}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-5 py-2 bg-slate-700 rounded text-lg",children:"Reset"}),a.jsx("button",{onClick:()=>o(g=>Math.max(0,g-1)),disabled:s===0,className:"px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>r(!d),className:`px-5 py-2 rounded text-lg ${d?"bg-red-500":"bg-green-600"}`,children:d?" Stop":" Auto"}),a.jsx("button",{onClick:()=>o(g=>Math.min(m.length-1,g+1)),disabled:s>=m.length-1,className:"px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-50",children:"Next "})]})]})},gf=()=>{const[s,o]=w.useState(5),[d,r]=w.useState(0),f=(N=>{const h=[],p=(L,B)=>{h.push({value:L,depth:B,phase:"call"}),L<=1?h.push({value:1,depth:B,phase:"return",result:1}):(p(L-1,B+1),h.push({value:L,depth:B,phase:"return",result:h[h.length-1].result*L}))};return p(N,0),h})(s),g=Math.min(d,f.length-1);return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-pink-400 text-lg mb-4 font-mono",children:"Interactive: Factorial Recursion"}),a.jsxs("div",{className:"flex items-center gap-4 mb-6 justify-center",children:[a.jsx("span",{className:"text-slate-400 text-xl",children:"factorial("}),a.jsx("select",{value:s,onChange:N=>{o(parseInt(N.target.value)),r(0)},className:"px-4 py-2 rounded bg-slate-700 text-white text-xl",children:[3,4,5,6].map(N=>a.jsx("option",{value:N,children:N},N))}),a.jsx("span",{className:"text-slate-400 text-xl",children:")"})]}),a.jsx("div",{className:"bg-slate-900 p-5 rounded-lg mb-6",children:a.jsx("div",{className:"space-y-2",children:f.slice(0,g+1).map((N,h)=>a.jsx("div",{style:{marginLeft:`${N.depth*30}px`},className:`text-lg font-mono ${N.phase==="call"?"text-blue-400":"text-green-400"}`,children:N.phase==="call"?` factorial(${N.value})`:` returns ${N.result}`},h))})}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>r(0),className:"px-5 py-2 bg-slate-700 rounded text-lg",children:"Reset"}),a.jsx("button",{onClick:()=>r(N=>Math.max(0,N-1)),disabled:d===0,className:"px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>r(N=>Math.min(f.length-1,N+1)),disabled:d>=f.length-1,className:"px-5 py-2 bg-pink-600 rounded text-lg disabled:opacity-50",children:"Next "})]}),d>=f.length-1&&a.jsx("div",{className:"mt-4 bg-green-500/20 p-4 rounded-lg text-center",children:a.jsxs("span",{className:"text-green-400 text-2xl font-bold",children:["factorial(",s,") = ",f[f.length-1].result]})})]})},bf=()=>{const[s,o]=w.useState(48),[d,r]=w.useState(18),[m,f]=w.useState(0),N=((p,L)=>{const B=[];for(;p!==L;)B.push({a:p,b:L,action:p>L?`gcd(${p}-${L}, ${L})`:`gcd(${p}, ${L}-${p})`}),p>L?p=p-L:L=L-p;return B.push({a:p,b:L,action:`a == b, return ${p}`}),B})(s,d),h=N[Math.min(m,N.length-1)];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-pink-400 text-lg mb-4 font-mono",children:"Interactive: Tail-Recursive GCD"}),a.jsxs("div",{className:"flex items-center gap-4 mb-6 justify-center",children:[a.jsx("span",{className:"text-slate-400 text-xl",children:"gcd("}),a.jsx("input",{type:"number",value:s,onChange:p=>{o(parseInt(p.target.value)||1),f(0)},className:"w-20 px-3 py-2 rounded bg-slate-700 text-white text-xl text-center"}),a.jsx("span",{className:"text-slate-400 text-xl",children:","}),a.jsx("input",{type:"number",value:d,onChange:p=>{r(parseInt(p.target.value)||1),f(0)},className:"w-20 px-3 py-2 rounded bg-slate-700 text-white text-xl text-center"}),a.jsx("span",{className:"text-slate-400 text-xl",children:")"})]}),a.jsxs("div",{className:"bg-slate-900 p-5 rounded-lg mb-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-400 text-base",children:"a"}),a.jsx("div",{className:"text-3xl font-bold text-pink-400",children:h.a})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-400 text-base",children:"b"}),a.jsx("div",{className:"text-3xl font-bold text-pink-400",children:h.b})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Step"}),a.jsxs("div",{className:"text-3xl font-bold text-white",children:[m+1,"/",N.length]})]})]}),a.jsx("div",{className:"mt-4 text-center text-green-400 text-xl font-mono",children:h.action})]}),a.jsxs("div",{className:"flex gap-3 justify-center mb-4",children:[a.jsx("button",{onClick:()=>f(0),className:"px-5 py-2 bg-slate-700 rounded text-lg",children:"Reset"}),a.jsx("button",{onClick:()=>f(p=>Math.max(0,p-1)),disabled:m===0,className:"px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>f(p=>Math.min(N.length-1,p+1)),disabled:m>=N.length-1,className:"px-5 py-2 bg-pink-600 rounded text-lg disabled:opacity-50",children:"Next "})]}),a.jsx("div",{className:"bg-pink-500/20 p-4 rounded-lg",children:a.jsx("div",{className:"text-pink-400 text-lg text-center",children:" Tail recursive: can be optimized to use constant stack space!"})})]})},vf=({slide:s})=>a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[a.jsx("div",{className:"text-7xl mb-8",children:""}),a.jsx("h1",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.subtitle&&a.jsx("h2",{className:"text-2xl text-pink-400 mb-10",children:s.content.subtitle}),a.jsx("div",{className:"mt-8 flex flex-wrap gap-3 justify-center max-w-3xl",children:s.content.topics?.map((o,d)=>a.jsx("span",{className:"px-4 py-2 bg-slate-800 text-slate-300 rounded-full text-lg",children:o},d))})]}),Gm=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.description}),s.content.items&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:s.content.items.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl flex items-start gap-4",children:[o.icon&&a.jsx("span",{className:"text-5xl",children:o.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold text-2xl",children:o.text}),o.detail&&a.jsx("p",{className:"text-slate-300 text-xl mt-2",children:o.detail})]})]},d))}),s.content.examples&&a.jsx("div",{className:"mt-6 space-y-3",children:s.content.examples.map((o,d)=>a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("code",{className:"text-pink-400 text-lg font-mono",children:o.code}),a.jsx("p",{className:"text-slate-400 text-lg mt-2",children:o.explanation})]},d))}),s.content.benefits&&a.jsx("div",{className:"mt-6 space-y-2",children:s.content.benefits.map((o,d)=>a.jsxs("div",{className:"text-slate-300 text-xl",children:[" ",o]},d))}),s.content.code&&a.jsx("div",{className:"mt-6 bg-slate-900 p-5 rounded-lg",children:a.jsx("pre",{className:"text-green-400 font-mono text-lg whitespace-pre-wrap",children:s.content.code})}),s.content.note&&a.jsx("p",{className:"mt-6 text-pink-400 italic text-xl",children:s.content.note}),s.interactive?.type==="short-circuit"&&a.jsx(ox,{}),s.interactive?.type==="if-else"&&a.jsx(hf,{}),s.interactive?.type==="switch"&&a.jsx(ff,{}),s.interactive?.type==="for-loop"&&a.jsx(rx,{}),s.interactive?.type==="recursion"&&a.jsx(gf,{}),s.interactive?.type==="tail-recursion"&&a.jsx(bf,{})]}),yf=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-2xl text-slate-300 mb-6",children:s.content.description}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-xl",children:[a.jsx("thead",{children:a.jsx("tr",{className:"border-b border-slate-700",children:s.content.headers?.map((o,d)=>a.jsx("th",{className:"text-left p-4 text-pink-400 font-bold text-2xl",children:o},d))})}),a.jsx("tbody",{children:s.content.rows?.map((o,d)=>a.jsx("tr",{className:"border-b border-slate-800",children:o.map((r,m)=>a.jsx("td",{className:`p-4 text-xl ${m===0?"text-white font-medium":"text-slate-300"}`,children:r},m))},d))})]})}),s.content.note&&a.jsx("p",{className:"mt-6 text-pink-400 text-xl italic",children:s.content.note})]}),jf=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-2xl text-slate-300 mb-6",children:s.content.description}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.content.approaches?.map((o,d)=>a.jsxs("div",{className:`p-6 rounded-xl border-2 ${d===0?"border-blue-500 bg-blue-500/10":"border-orange-500 bg-orange-500/10"}`,children:[a.jsx("h3",{className:`font-bold text-2xl mb-3 ${d===0?"text-blue-400":"text-orange-400"}`,children:o.name}),o.code&&a.jsx("pre",{className:"text-green-400 font-mono text-lg mb-3 bg-slate-900 p-3 rounded",children:o.code}),o.behavior&&a.jsx("p",{className:"text-white text-xl mb-2",children:o.behavior}),o.minIterations&&a.jsx("p",{className:"text-slate-400 text-lg",children:o.minIterations}),o.characteristics&&a.jsx("ul",{className:"space-y-2",children:o.characteristics.map((r,m)=>a.jsxs("li",{className:"text-slate-300 text-lg",children:[" ",r]},m))})]},d))}),s.interactive?.type==="while-loops"&&a.jsx(rx,{}),s.interactive?.type==="codegen"&&a.jsx(ox,{})]}),Nf=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.description&&a.jsx("p",{className:"text-2xl text-slate-300 mb-4",children:s.content.description}),s.interactive?.type==="precedence"&&a.jsx(pf,{})]}),Sf=({slide:s})=>a.jsxs("div",{className:"h-full p-8 flex flex-col justify-center overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-10 text-center",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.content.sections?.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-pink-400 font-bold text-2xl mb-5",children:o.title}),a.jsx("ul",{className:"space-y-3",children:o.points.map((r,m)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-400 mt-1 text-xl",children:""}),a.jsx("span",{className:"text-slate-300 text-xl",children:r})]},m))})]},d))})]}),Tf=({slide:s})=>{switch(s.type){case"title":return a.jsx(vf,{slide:s});case"concept":return a.jsx(Gm,{slide:s});case"table":return a.jsx(yf,{slide:s});case"comparison":return a.jsx(jf,{slide:s});case"interactive":return a.jsx(Nf,{slide:s});case"summary":return a.jsx(Sf,{slide:s});default:return a.jsx(Gm,{slide:s})}};function Cf({onBackToChapters:s}){const[o,d]=w.useState(0),[r,m]=w.useState(!1),f=[...new Set(Bt.map(h=>h.section))],g=w.useCallback(h=>{h.key==="ArrowRight"||h.key===" "?d(p=>Math.min(p+1,Bt.length-1)):h.key==="ArrowLeft"?d(p=>Math.max(p-1,0)):h.key==="Escape"?m(!1):h.key==="m"&&m(p=>!p)},[]);w.useEffect(()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)),[g]);const N=Bt[o];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm z-40 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>m(!r),className:"p-2 hover:bg-slate-700 rounded",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("span",{className:"text-pink-400 font-bold text-lg",children:["Ch 6: ",xf.title]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-slate-400",children:[o+1," / ",Bt.length]}),a.jsx("button",{type:"button",onClick:s,"aria-label":"Back to chapters",title:"Back to chapters",className:"p-1.5 rounded-full border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 hover:bg-slate-700/60 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"px-3 py-1 bg-slate-700 text-slate-300 rounded text-sm",children:N.section})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>m(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-slate-800 p-4 overflow-auto",onClick:h=>h.stopPropagation(),children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Chapter 6 Slides"}),f.map(h=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-pink-400 text-sm uppercase tracking-wider mb-2",children:h}),Bt.filter(p=>p.section===h).map(p=>a.jsxs("button",{onClick:()=>{d(Bt.indexOf(p)),m(!1)},className:`block w-full text-left px-3 py-2 rounded mb-1 text-base ${Bt.indexOf(p)===o?"bg-pink-500 text-white":"hover:bg-slate-700"}`,children:[a.jsx("span",{className:"text-xs opacity-60 mr-2",children:p.id}),p.title]},p.id))]},h))]})}),a.jsx("main",{className:"pt-14 pb-20 min-h-screen",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(Tf,{slide:N})})}),a.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("button",{onClick:()=>d(h=>Math.max(h-1,0)),disabled:o===0,className:"flex items-center gap-2 px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-30",children:" Previous"}),a.jsx("div",{className:"flex-1 mx-8",children:a.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-pink-500 transition-all",style:{width:`${(o+1)/Bt.length*100}%`}})})}),a.jsx("button",{onClick:()=>d(h=>Math.min(h+1,Bt.length-1)),disabled:o===Bt.length-1,className:"flex items-center gap-2 px-5 py-2 bg-pink-600 rounded text-lg disabled:opacity-30",children:"Next "})]}),a.jsxs("div",{className:"text-center text-slate-500 text-sm pb-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," navigate  ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:"M"})," menu"]})]})]})}const wf={title:"Type Systems"},Ft=[{id:1,section:"intro",type:"title",title:"Chapter 7: Type Systems",content:{subtitle:"Data Types and Type Checking",topics:["What Are Types?","Strong vs Weak Typing","Static vs Dynamic Typing","Type Equivalence","Type Coercion","Polymorphism & Generics"]}},{id:2,section:"intro",type:"concept",title:"What Are Types?",content:{description:"Three ways to think about types:",items:[{icon:"",text:"Denotational",detail:"Collection of values from a domain (int = {..., -1, 0, 1, 2, ...})"},{icon:"",text:"Structural",detail:"Internal structure described in terms of primitive types"},{icon:"",text:"Abstraction",detail:"Collection of operations that can be applied (what you can DO)"}],note:"All three views are useful; the abstraction view emphasizes behavior over representation"}},{id:3,section:"intro",type:"concept",title:"Why Do We Need Types?",content:{description:"Types serve several crucial purposes:",items:[{icon:"",text:"Implicit Context",detail:"Compiler knows how to handle data without explicit instructions"},{icon:"",text:"Error Checking",detail:"Catch meaningless operations at compile time"},{icon:"",text:"Optimization",detail:"Compiler can generate better code knowing types"},{icon:"",text:"Documentation",detail:"Types tell readers what kind of data is expected"}],note:"Type checking cannot prevent ALL errors, but catches enough to be very useful"}},{id:4,section:"typing",type:"comparison",title:"Strong vs Weak Typing",content:{approaches:[{name:"Strong Typing",characteristics:["Language prevents inappropriate operations","No implicit type violations","Errors caught rather than causing undefined behavior"],examples:"Java, Python, Haskell, Rust"},{name:"Weak Typing",characteristics:["More implicit conversions allowed","Can treat memory as different types","Easier to cause undefined behavior"],examples:"C, C++, JavaScript (in some ways)"}],note:"Strong typing is about SAFETY, not about when checking happens"}},{id:5,section:"typing",type:"comparison",title:"Static vs Dynamic Typing",content:{approaches:[{name:"Static Typing",characteristics:["Types checked at COMPILE time","Variables have fixed types","Errors found before running","Can optimize based on types"],examples:"C, C++, Java, Rust, Go"},{name:"Dynamic Typing",characteristics:["Types checked at RUN time","Variables can hold any type","More flexible, less verbose","Errors found when code runs"],examples:"Python, Ruby, JavaScript, Lisp"}]},interactive:{type:"static-dynamic"}},{id:6,section:"typing",type:"table",title:"Language Type System Classification",content:{headers:["Language","Strong/Weak","Static/Dynamic"],rows:[["Java","Strong","Static"],["Python","Strong","Dynamic"],["C","Weak","Static"],["JavaScript","Weak","Dynamic"],["Haskell","Strong","Static"],["Ruby","Strong","Dynamic"],["Rust","Strong","Static"],["Common Lisp","Strong","Dynamic"]]},interactive:{type:"typing-grid"}},{id:7,section:"types",type:"concept",title:"Primitive (Scalar) Types",content:{description:"Built-in types provided by the language:",items:[{icon:"",text:"Integer Types",detail:"int, short, long, byte - whole numbers"},{icon:"",text:"Floating Point",detail:"float, double - real numbers with decimals"},{icon:"",text:"Character",detail:"char - single character (often 1-4 bytes)"},{icon:"",text:"Boolean",detail:"true/false - logical values"},{icon:"",text:"Enumeration",detail:"Named set of values (enum Day {Mon, Tue, ...})"}]}},{id:8,section:"types",type:"concept",title:"Composite Types",content:{description:"Types built from other types:",items:[{icon:"",text:"Records/Structs",detail:"Collection of named fields of different types"},{icon:"",text:"Arrays",detail:"Indexed collection of same-type elements"},{icon:"",text:"Strings",detail:"Sequence of characters (often special array)"},{icon:"",text:"Pointers/References",detail:"Address of another value in memory"},{icon:"",text:"Lists",detail:"Linked sequence of elements"},{icon:"",text:"Unions/Variants",detail:"Value can be one of several types"}]}},{id:9,section:"checking",type:"concept",title:"Type Equivalence",content:{description:"When are two types considered the same?",items:[{icon:"",text:"Name Equivalence",detail:"Types are same only if they have the same name"},{icon:"",text:"Structural Equivalence",detail:"Types are same if they have the same structure"}]},interactive:{type:"equivalence"}},{id:10,section:"checking",type:"comparison",title:"Name vs Structural Equivalence",content:{approaches:[{name:"Name Equivalence",code:`type Age = int
type Year = int
// Age  Year (different names)`,characteristics:["Based on declaration names","More restrictive","Catches logical errors","Modern languages prefer this"],examples:"Ada, Pascal (strict), Java classes"},{name:"Structural Equivalence",code:`type Age = int
type Year = int
// Age = Year (same structure)`,characteristics:["Based on type structure","More permissive","May allow unintended matches","Older approach"],examples:"C (mostly), ML, TypeScript (for interfaces)"}]}},{id:11,section:"checking",type:"concept",title:"Type Compatibility",content:{description:"When can type A be used where type B is expected?",items:[{icon:"=",text:"Equivalence",detail:"Types are the same - always compatible"},{icon:"",text:"Subtyping",detail:"A is subtype of B - can use A for B"},{icon:"",text:"Coercion",detail:"A can be converted to B automatically"}],note:"Compatibility is more useful than equivalence - it tells you what you can DO"}},{id:12,section:"checking",type:"concept",title:"Type Coercion (Implicit Conversion)",content:{description:"Automatic conversion between types:",items:[{icon:"",text:"Widening/Promotion",detail:"int  float (no precision lost)"},{icon:"",text:"Narrowing",detail:"float  int (precision may be lost)"},{icon:"",text:"Danger",detail:"Implicit narrowing can cause subtle bugs"}],examples:[{code:`int a = 5; float b = 2.5;
float c = a + b;  // a coerced to float`,safe:!0},{code:`float x = 3.7;
int y = x;  // Truncates to 3!`,safe:!1}]},interactive:{type:"coercion"}},{id:13,section:"checking",type:"concept",title:"Conversion vs Coercion vs Cast",content:{description:"Terminology for type changes:",items:[{icon:"",text:"Coercion",detail:"IMPLICIT - compiler does it automatically"},{icon:"",text:"Conversion",detail:"EXPLICIT - programmer writes it"},{icon:"",text:"Cast",detail:"C terminology for explicit conversion"}],code:`// Coercion (implicit)
int a = 5;
double b = a;  // Compiler converts

// Conversion/Cast (explicit)  
double x = 3.14;
int y = (int)x;  // Programmer converts`}},{id:14,section:"inference",type:"concept",title:"Type Inference",content:{description:"Compiler deduces types without explicit annotations:",items:[{icon:"",text:"Local Inference",detail:"Infer from initialization (auto x = 5;)"},{icon:"",text:"Global Inference",detail:"Infer from usage throughout program"},{icon:"",text:"Benefits",detail:"Less verbose code, still type-safe"}],code:`// C++11 auto
auto x = 42;        // int
auto y = 3.14;      // double
auto z = "hello";   // const char*

// Rust inference
let v = vec![1, 2, 3];  // Vec<i32>`},interactive:{type:"inference"}},{id:15,section:"polymorphism",type:"concept",title:"Polymorphism",content:{description:"Code that works with multiple types:",items:[{icon:"",text:"Ad-hoc (Overloading)",detail:"Same name, different implementations per type"},{icon:"",text:"Subtype",detail:"Code works on type and all its subtypes"},{icon:"",text:"Parametric (Generics)",detail:"Code parameterized by type"}]},interactive:{type:"polymorphism"}},{id:16,section:"polymorphism",type:"concept",title:"Generics (Parametric Polymorphism)",content:{description:"Write code that works for any type:",items:[{icon:"",text:"Generic Containers",detail:"List<T>, Map<K,V>, Stack<T>"},{icon:"",text:"Generic Functions",detail:"swap<T>(a, b), sort<T>(array)"},{icon:"",text:"Type Safety",detail:"Compiler checks at instantiation"}],code:`// Java generic
class Box<T> {
    T value;
    T get() { return value; }
}
Box<Integer> intBox = new Box<>();
Box<String> strBox = new Box<>();`}},{id:17,section:"polymorphism",type:"concept",title:"Duck Typing",content:{description:'"If it walks like a duck and quacks like a duck..."',items:[{icon:"",text:"Concept",detail:"Type determined by methods/properties, not declaration"},{icon:"",text:"Dynamic Languages",detail:"Python, Ruby, JavaScript use this"},{icon:"",text:"Flexibility",detail:"Any object with required methods will work"},{icon:"",text:"Risk",detail:"Errors only found at runtime"}],code:`# Python duck typing
def make_sound(animal):
    animal.speak()  # Works if animal has speak()

class Dog:
    def speak(self): print("Woof!")
    
class Cat:
    def speak(self): print("Meow!")`}},{id:18,section:"safety",type:"concept",title:"Type Safety",content:{description:"Preventing type-related errors and undefined behavior:",items:[{icon:"",text:"Memory Safety",detail:"No buffer overflows, use-after-free"},{icon:"",text:"Null Safety",detail:"No null pointer dereferences (Option/Maybe types)"},{icon:"",text:"Thread Safety",detail:"Type system prevents data races (Rust)"},{icon:"",text:"Exhaustiveness",detail:"Must handle all cases (pattern matching)"}]}},{id:19,section:"modern",type:"concept",title:"Modern Type System Features",content:{description:"Advanced features in modern languages:",items:[{icon:"",text:"Optional/Maybe Types",detail:"Explicit handling of null (Option<T>, T?)"},{icon:"",text:"Algebraic Data Types",detail:"Sum types (Result, Either) + product types"},{icon:"",text:"Pattern Matching",detail:"Destructure and match on type structure"},{icon:"",text:"Type Aliases",detail:"NewType pattern for semantic types"},{icon:"",text:"Dependent Types",detail:"Types that depend on values (very advanced)"}]}},{id:20,section:"summary",type:"summary",title:"Chapter 7 Summary",content:{sections:[{title:"Type Systems",points:["Strong vs weak: safety guarantees","Static vs dynamic: when checking happens","Types enable optimization and documentation"]},{title:"Type Checking",points:["Name vs structural equivalence","Coercion: implicit conversion","Type inference: compiler deduces types"]},{title:"Polymorphism",points:["Overloading, subtyping, generics","Duck typing in dynamic languages","Modern: optionals, algebraic types"]}]}}],Ef=()=>{const[s,o]=w.useState("static"),r={static:{code:`// Java (Static Typing)
int x = 5;        // x is always int
x = "hello";      // ERROR at compile time!

String s = "hi";
s = 42;           // ERROR at compile time!`,error:"Compile Error: incompatible types",when:"Error caught BEFORE running"},dynamic:{code:`# Python (Dynamic Typing)
x = 5           # x is int now
x = "hello"     # x is string now - OK!

def add(a, b):
    return a + b
    
add(1, 2)       # Works: 3
add("a", "b")   # Works: "ab"
add(1, "2")     # Runtime error!`,error:"TypeError: unsupported operand type(s)",when:"Error caught WHEN code runs"}}[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-indigo-400 text-lg mb-4 font-mono",children:"Interactive: Static vs Dynamic Typing"}),a.jsxs("div",{className:"flex gap-3 mb-6 justify-center",children:[a.jsx("button",{onClick:()=>o("static"),className:`px-6 py-3 rounded-lg text-xl font-bold ${s==="static"?"bg-blue-500 text-white":"bg-slate-700"}`,children:"Static (Java)"}),a.jsx("button",{onClick:()=>o("dynamic"),className:`px-6 py-3 rounded-lg text-xl font-bold ${s==="dynamic"?"bg-green-500 text-white":"bg-slate-700"}`,children:"Dynamic (Python)"})]}),a.jsx("div",{className:"bg-slate-900 p-5 rounded-lg mb-6",children:a.jsx("pre",{className:"text-green-400 font-mono text-lg whitespace-pre-wrap",children:r.code})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-red-500/20 p-4 rounded-lg",children:[a.jsx("div",{className:"text-red-400 font-bold text-lg mb-2",children:"Error"}),a.jsx("div",{className:"text-white font-mono",children:r.error})]}),a.jsxs("div",{className:`p-4 rounded-lg ${s==="static"?"bg-blue-500/20":"bg-amber-500/20"}`,children:[a.jsx("div",{className:`font-bold text-lg mb-2 ${s==="static"?"text-blue-400":"text-amber-400"}`,children:"When Caught"}),a.jsx("div",{className:"text-white",children:r.when})]})]})]})},Af=()=>{const[s,o]=w.useState(null),d=[{name:"Java",strong:!0,static:!0,x:0,y:0},{name:"Python",strong:!0,static:!1,x:1,y:0},{name:"C",strong:!1,static:!0,x:0,y:1},{name:"JavaScript",strong:!1,static:!1,x:1,y:1},{name:"Haskell",strong:!0,static:!0,x:0,y:0},{name:"Rust",strong:!0,static:!0,x:0,y:0},{name:"Ruby",strong:!0,static:!1,x:1,y:0}];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-indigo-400 text-lg mb-4 font-mono",children:"Interactive: Type System Quadrant"}),a.jsxs("div",{className:"relative bg-slate-900 rounded-lg p-8",style:{height:"320px"},children:[a.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 text-slate-400 text-lg",children:"Strong"}),a.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 text-slate-400 text-lg",children:"Weak"}),a.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-slate-400 text-lg",children:"Static"}),a.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-slate-400 text-lg",children:"Dynamic"}),a.jsx("div",{className:"absolute left-1/2 top-8 bottom-8 w-px bg-slate-700"}),a.jsx("div",{className:"absolute top-1/2 left-8 right-8 h-px bg-slate-700"}),a.jsx("div",{className:"absolute top-12 left-12 text-blue-400 text-base",children:"Strong + Static"}),a.jsx("div",{className:"absolute top-12 right-12 text-green-400 text-base",children:"Strong + Dynamic"}),a.jsx("div",{className:"absolute bottom-12 left-12 text-orange-400 text-base",children:"Weak + Static"}),a.jsx("div",{className:"absolute bottom-12 right-12 text-red-400 text-base",children:"Weak + Dynamic"}),d.map((r,m)=>{const f=r.static?25:75,g=r.strong?25:75;return a.jsx("button",{onClick:()=>o(r.name),className:`absolute w-12 h-12 rounded-full flex items-center justify-center text-sm font-bold transition-all ${s===r.name?"scale-125 z-10":""} ${r.strong&&r.static?"bg-blue-500":r.strong&&!r.static?"bg-green-500":!r.strong&&r.static?"bg-orange-500":"bg-red-500"}`,style:{left:`calc(${f}% + ${m%3*20-20}px)`,top:`calc(${g}% + ${Math.floor(m/3)*15}px)`,transform:"translate(-50%, -50%)"},children:r.name.slice(0,2)},r.name)})]}),s&&a.jsxs("div",{className:"mt-4 bg-indigo-500/20 p-4 rounded-lg text-center",children:[a.jsx("span",{className:"text-indigo-400 text-xl font-bold",children:s}),a.jsxs("span",{className:"text-slate-300 text-lg ml-3",children:[d.find(r=>r.name===s)?.strong?"Strong":"Weak"," +",d.find(r=>r.name===s)?.static?" Static":" Dynamic"]})]})]})},kf=()=>{const[s,o]=w.useState("name");return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-indigo-400 text-lg mb-4 font-mono",children:"Interactive: Name vs Structural Equivalence"}),a.jsxs("div",{className:"flex gap-3 mb-6 justify-center",children:[a.jsx("button",{onClick:()=>o("name"),className:`px-6 py-3 rounded-lg text-xl font-bold ${s==="name"?"bg-blue-500 text-white":"bg-slate-700"}`,children:"Name Equivalence"}),a.jsx("button",{onClick:()=>o("structural"),className:`px-6 py-3 rounded-lg text-xl font-bold ${s==="structural"?"bg-green-500 text-white":"bg-slate-700"}`,children:"Structural Equivalence"})]}),a.jsx("div",{className:"bg-slate-900 p-5 rounded-lg mb-6",children:a.jsx("pre",{className:"text-green-400 font-mono text-lg",children:`type Age = int
type Year = int

var personAge: Age = 25
var birthYear: Year = 1999

// Can we assign?
birthYear = personAge`})}),a.jsx("div",{className:`p-5 rounded-lg ${s==="name"?"bg-red-500/20 border border-red-500":"bg-green-500/20 border border-green-500"}`,children:s==="name"?a.jsxs("div",{children:[a.jsx("div",{className:"text-red-400 text-2xl font-bold mb-2",children:" ERROR"}),a.jsx("div",{className:"text-white text-xl",children:"Age and Year are different names  different types"}),a.jsx("div",{className:"text-slate-400 text-lg mt-2",children:"This catches logical errors: ages and years shouldn't mix!"})]}):a.jsxs("div",{children:[a.jsx("div",{className:"text-green-400 text-2xl font-bold mb-2",children:" OK"}),a.jsx("div",{className:"text-white text-xl",children:"Both Age and Year are int  same structure  compatible"}),a.jsx("div",{className:"text-slate-400 text-lg mt-2",children:"More permissive, but may allow unintended assignments"})]})})]})},Of=()=>{const[s,o]=w.useState(5),[d,r]=w.useState(3.7);return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-indigo-400 text-lg mb-4 font-mono",children:"Interactive: Type Coercion"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-slate-400 text-lg",children:["int value: ",s]}),a.jsx("input",{type:"range",min:"0",max:"100",value:s,onChange:m=>o(parseInt(m.target.value)),className:"w-full h-3 rounded-lg bg-slate-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-slate-400 text-lg",children:["float value: ",d.toFixed(1)]}),a.jsx("input",{type:"range",min:"0",max:"100",step:"0.1",value:d,onChange:m=>r(parseFloat(m.target.value)),className:"w-full h-3 rounded-lg bg-slate-700"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-green-500/20 p-4 rounded-lg",children:[a.jsx("div",{className:"text-green-400 font-bold text-lg",children:"Widening (safe)"}),a.jsxs("div",{className:"text-white font-mono text-xl mt-2",children:["int  float: ",s,"  ",s,".0"]}),a.jsx("div",{className:"text-slate-400 text-base mt-1",children:"No precision lost"})]}),a.jsxs("div",{className:"bg-amber-500/20 p-4 rounded-lg",children:[a.jsx("div",{className:"text-amber-400 font-bold text-lg",children:"Narrowing (dangerous)"}),a.jsxs("div",{className:"text-white font-mono text-xl mt-2",children:["float  int: ",d.toFixed(1),"  ",Math.floor(d)]}),a.jsxs("div",{className:"text-slate-400 text-base mt-1",children:["Truncated! Lost: ",(d-Math.floor(d)).toFixed(1)]})]}),a.jsxs("div",{className:"bg-blue-500/20 p-4 rounded-lg",children:[a.jsx("div",{className:"text-blue-400 font-bold text-lg",children:"Mixed arithmetic (coercion)"}),a.jsxs("div",{className:"text-white font-mono text-xl mt-2",children:[s," + ",d.toFixed(1)," = ",(s+d).toFixed(1)]}),a.jsx("div",{className:"text-slate-400 text-base mt-1",children:"int coerced to float, then added"})]})]})]})},Mf=()=>{const s=[{code:"auto x = 42;",inferred:"int",reason:"Integer literal"},{code:"auto y = 3.14;",inferred:"double",reason:"Floating-point literal"},{code:'auto s = "hello";',inferred:"const char*",reason:"String literal"},{code:"auto v = {1, 2, 3};",inferred:"initializer_list<int>",reason:"Braced initializer"},{code:"auto f = []() { return 5; };",inferred:"lambda",reason:"Lambda expression"}],[o,d]=w.useState(0);return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-indigo-400 text-lg mb-4 font-mono",children:"Interactive: Type Inference (C++ auto)"}),a.jsx("div",{className:"space-y-2 mb-6",children:s.map((r,m)=>a.jsx("button",{onClick:()=>d(m),className:`w-full text-left p-4 rounded-lg font-mono text-lg ${o===m?"bg-indigo-500 text-white":"bg-slate-700 text-slate-300"}`,children:r.code},m))}),a.jsx("div",{className:"bg-slate-900 p-5 rounded-lg",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Inferred Type"}),a.jsx("div",{className:"text-indigo-400 text-2xl font-mono font-bold",children:s[o].inferred})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Why?"}),a.jsx("div",{className:"text-white text-xl",children:s[o].reason})]})]})})]})},Rf=()=>{const[s,o]=w.useState("adhoc"),d={adhoc:{name:"Ad-hoc (Overloading)",code:`// Same name, different implementations
int add(int a, int b) { return a + b; }
float add(float a, float b) { return a + b; }
string add(string a, string b) { return a + b; }

add(1, 2)       // Calls int version
add(1.5, 2.5)   // Calls float version  
add("a", "b")   // Calls string version`,description:"Compiler picks implementation based on argument types"},subtype:{name:"Subtype",code:`class Animal { void speak(); }
class Dog extends Animal { void speak() { bark(); } }
class Cat extends Animal { void speak() { meow(); } }

void makeSound(Animal a) {
    a.speak();  // Works for Dog, Cat, any Animal
}`,description:"Code works on base type and all subtypes"},parametric:{name:"Parametric (Generics)",code:`// One implementation for ALL types
<T> T identity(T x) { return x; }

identity(5)       // Works with int
identity("hi")    // Works with string
identity(dog)     // Works with any type`,description:"Single implementation parameterized by type"}},r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-indigo-400 text-lg mb-4 font-mono",children:"Interactive: Types of Polymorphism"}),a.jsx("div",{className:"flex gap-2 mb-6 justify-center flex-wrap",children:Object.entries(d).map(([m,f])=>a.jsx("button",{onClick:()=>o(m),className:`px-4 py-2 rounded-lg text-lg ${s===m?"bg-indigo-500 text-white":"bg-slate-700"}`,children:f.name},m))}),a.jsx("div",{className:"bg-slate-900 p-5 rounded-lg mb-4",children:a.jsx("pre",{className:"text-green-400 font-mono text-base whitespace-pre-wrap",children:r.code})}),a.jsx("div",{className:"bg-indigo-500/20 p-4 rounded-lg",children:a.jsx("div",{className:"text-indigo-400 text-xl",children:r.description})})]})},Lf=({slide:s})=>a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[a.jsx("div",{className:"text-7xl mb-8",children:""}),a.jsx("h1",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.subtitle&&a.jsx("h2",{className:"text-2xl text-indigo-400 mb-10",children:s.content.subtitle}),a.jsx("div",{className:"mt-8 flex flex-wrap gap-3 justify-center max-w-3xl",children:s.content.topics?.map((o,d)=>a.jsx("span",{className:"px-4 py-2 bg-slate-800 text-slate-300 rounded-full text-lg",children:o},d))})]}),$m=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.description}),s.content.items&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:s.content.items.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl flex items-start gap-4",children:[o.icon&&a.jsx("span",{className:"text-5xl",children:o.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold text-2xl",children:o.text}),o.detail&&a.jsx("p",{className:"text-slate-300 text-xl mt-2",children:o.detail})]})]},d))}),s.content.examples&&a.jsx("div",{className:"mt-6 space-y-3",children:s.content.examples.map((o,d)=>a.jsx("div",{className:`p-4 rounded-lg ${o.safe?"bg-green-500/20":"bg-red-500/20"}`,children:a.jsx("code",{className:`font-mono text-lg ${o.safe?"text-green-400":"text-red-400"}`,children:o.code})},d))}),s.content.code&&a.jsx("div",{className:"mt-6 bg-slate-900 p-5 rounded-lg",children:a.jsx("pre",{className:"text-green-400 font-mono text-lg whitespace-pre-wrap",children:s.content.code})}),s.content.note&&a.jsx("p",{className:"mt-6 text-indigo-400 italic text-xl",children:s.content.note}),s.interactive?.type==="equivalence"&&a.jsx(kf,{}),s.interactive?.type==="coercion"&&a.jsx(Of,{}),s.interactive?.type==="inference"&&a.jsx(Mf,{}),s.interactive?.type==="polymorphism"&&a.jsx(Rf,{})]}),Df=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.content.approaches?.map((o,d)=>a.jsxs("div",{className:`p-6 rounded-xl border-2 ${d===0?"border-blue-500 bg-blue-500/10":"border-green-500 bg-green-500/10"}`,children:[a.jsx("h3",{className:`font-bold text-2xl mb-3 ${d===0?"text-blue-400":"text-green-400"}`,children:o.name}),o.code&&a.jsx("pre",{className:"text-green-400 font-mono text-base mb-3 bg-slate-900 p-3 rounded",children:o.code}),o.characteristics&&a.jsx("ul",{className:"space-y-2",children:o.characteristics.map((r,m)=>a.jsxs("li",{className:"text-slate-300 text-xl",children:[" ",r]},m))}),o.examples&&a.jsxs("p",{className:"text-slate-500 text-lg mt-3",children:["Examples: ",o.examples]})]},d))}),s.content.note&&a.jsx("p",{className:"mt-6 text-indigo-400 text-xl italic",children:s.content.note}),s.interactive?.type==="static-dynamic"&&a.jsx(Ef,{})]}),zf=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-xl",children:[a.jsx("thead",{children:a.jsx("tr",{className:"border-b border-slate-700",children:s.content.headers?.map((o,d)=>a.jsx("th",{className:"text-left p-4 text-indigo-400 font-bold text-2xl",children:o},d))})}),a.jsx("tbody",{children:s.content.rows?.map((o,d)=>a.jsx("tr",{className:"border-b border-slate-800",children:o.map((r,m)=>a.jsx("td",{className:`p-4 text-xl ${m===0?"text-white font-medium":"text-slate-300"}`,children:r},m))},d))})]})}),s.interactive?.type==="typing-grid"&&a.jsx(Af,{})]}),Bf=({slide:s})=>a.jsxs("div",{className:"h-full p-8 flex flex-col justify-center overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-10 text-center",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.content.sections?.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-indigo-400 font-bold text-2xl mb-5",children:o.title}),a.jsx("ul",{className:"space-y-3",children:o.points.map((r,m)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-400 mt-1 text-xl",children:""}),a.jsx("span",{className:"text-slate-300 text-xl",children:r})]},m))})]},d))})]}),Ff=({slide:s})=>{switch(s.type){case"title":return a.jsx(Lf,{slide:s});case"concept":return a.jsx($m,{slide:s});case"comparison":return a.jsx(Df,{slide:s});case"table":return a.jsx(zf,{slide:s});case"summary":return a.jsx(Bf,{slide:s});default:return a.jsx($m,{slide:s})}};function Hf({onBackToChapters:s}){const[o,d]=w.useState(0),[r,m]=w.useState(!1),f=[...new Set(Ft.map(h=>h.section))],g=w.useCallback(h=>{h.key==="ArrowRight"||h.key===" "?d(p=>Math.min(p+1,Ft.length-1)):h.key==="ArrowLeft"?d(p=>Math.max(p-1,0)):h.key==="Escape"?m(!1):h.key==="m"&&m(p=>!p)},[]);w.useEffect(()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)),[g]);const N=Ft[o];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm z-40 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>m(!r),className:"p-2 hover:bg-slate-700 rounded",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("span",{className:"text-indigo-400 font-bold text-lg",children:["Ch 7: ",wf.title]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-slate-400",children:[o+1," / ",Ft.length]}),a.jsx("button",{type:"button",onClick:s,"aria-label":"Back to chapters",title:"Back to chapters",className:"p-1.5 rounded-full border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 hover:bg-slate-700/60 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"px-3 py-1 bg-slate-700 text-slate-300 rounded text-sm",children:N.section})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>m(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-slate-800 p-4 overflow-auto",onClick:h=>h.stopPropagation(),children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Chapter 7 Slides"}),f.map(h=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-indigo-400 text-sm uppercase tracking-wider mb-2",children:h}),Ft.filter(p=>p.section===h).map(p=>a.jsxs("button",{onClick:()=>{d(Ft.indexOf(p)),m(!1)},className:`block w-full text-left px-3 py-2 rounded mb-1 text-base ${Ft.indexOf(p)===o?"bg-indigo-500 text-white":"hover:bg-slate-700"}`,children:[a.jsx("span",{className:"text-xs opacity-60 mr-2",children:p.id}),p.title]},p.id))]},h))]})}),a.jsx("main",{className:"pt-14 pb-20 min-h-screen",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(Ff,{slide:N})})}),a.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("button",{onClick:()=>d(h=>Math.max(h-1,0)),disabled:o===0,className:"flex items-center gap-2 px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-30",children:" Previous"}),a.jsx("div",{className:"flex-1 mx-8",children:a.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-indigo-500 transition-all",style:{width:`${(o+1)/Ft.length*100}%`}})})}),a.jsx("button",{onClick:()=>d(h=>Math.min(h+1,Ft.length-1)),disabled:o===Ft.length-1,className:"flex items-center gap-2 px-5 py-2 bg-indigo-600 rounded text-lg disabled:opacity-30",children:"Next "})]}),a.jsxs("div",{className:"text-center text-slate-500 text-sm pb-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," navigate  ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:"M"})," menu"]})]})]})}const _f={title:"Composite Types"},Ht=[{id:1,section:"intro",type:"title",title:"Chapter 8: Composite Types",content:{subtitle:"Building Complex Data Structures",topics:["Records/Structs","Arrays","Strings","Unions/Variants","Pointers","Lists","Memory Layout"]}},{id:2,section:"intro",type:"concept",title:"Composite Type Overview",content:{description:"Types built from other types:",items:[{icon:"",text:"Records (Structs)",detail:"Collection of named fields of different types"},{icon:"",text:"Arrays",detail:"Indexed collection of same-type elements"},{icon:"",text:"Unions/Variants",detail:"One of several types sharing memory"},{icon:"",text:"Pointers",detail:"References to memory locations"},{icon:"",text:"Strings",detail:"Sequences of characters"},{icon:"",text:"Lists",detail:"Recursive linked structures"}]}},{id:3,section:"records",type:"concept",title:"Records (Structs)",content:{description:"Named collection of fields with potentially different types:",items:[{icon:"",text:"Named Fields",detail:"Access by name: person.age, person.name"},{icon:"",text:"Heterogeneous",detail:"Fields can have different types"},{icon:"",text:"Contiguous",detail:"Usually laid out contiguously in memory"},{icon:"",text:"Alignment",detail:"May have holes for alignment requirements"}],code:`struct Person {
    char name[20];   // 20 bytes
    int age;         // 4 bytes
    double salary;   // 8 bytes
};`}},{id:4,section:"records",type:"concept",title:"Record Memory Layout",content:{description:"Alignment requirements can create holes in memory:",items:[{icon:"",text:"Alignment",detail:"Types often must start at addresses divisible by their size"},{icon:"",text:"Padding/Holes",detail:"Unused bytes inserted for alignment"},{icon:"",text:"Reordering",detail:"Some compilers reorder fields to minimize holes"},{icon:"",text:"Packing",detail:"Can force no padding (slower access)"}]},interactive:{type:"struct-layout"}},{id:5,section:"records",type:"concept",title:"Unions (Variant Records)",content:{description:"Multiple interpretations of the same memory:",items:[{icon:"",text:"Overlay",detail:"All fields share the same memory location"},{icon:"",text:"Size",detail:"Size = largest member (all fit in same space)"},{icon:"",text:"Type Safety",detail:"Dangerous - no checking which type is actually stored"},{icon:"",text:"Tagged Unions",detail:"Modern safe alternative (Rust enum, Swift enum)"}],code:`union Data {
    int i;      // 4 bytes
    float f;    // 4 bytes  
    char c;     // 1 byte
};  // Total size: 4 bytes (largest)`},interactive:{type:"union"}},{id:6,section:"arrays",type:"concept",title:"Arrays",content:{description:"The most common composite type - indexed collection:",items:[{icon:"",text:"Homogeneous",detail:"All elements have the same type"},{icon:"",text:"Indexed",detail:"Access by integer index: a[0], a[1], ..."},{icon:"",text:"Contiguous",detail:"Elements stored contiguously in memory"},{icon:"",text:"Fast Access",detail:"O(1) random access via address calculation"}]}},{id:7,section:"arrays",type:"concept",title:"Array Bounds and Allocation",content:{description:"When are array bounds determined?",items:[{icon:"",text:"Static",detail:"Bounds known at compile time (C arrays)"},{icon:"",text:"Elaboration Time",detail:"Bounds set when scope is entered (VLAs in C99)"},{icon:"",text:"Dynamic",detail:"Can resize at any time (Python lists, Java ArrayList)"}],code:`// Static (C)
int arr[100];

// Elaboration time (C99 VLA)
void f(int n) {
    int arr[n];  // Size determined at runtime
}`}},{id:8,section:"arrays",type:"comparison",title:"Row-Major vs Column-Major",content:{description:"How are multi-dimensional arrays stored?",approaches:[{name:"Row-Major",how:"Elements of each ROW are contiguous",used:"C, C++, Java, Python (and most languages)",example:"A[0][0], A[0][1], A[0][2], A[1][0], ..."},{name:"Column-Major",how:"Elements of each COLUMN are contiguous",used:"Fortran, MATLAB, R",example:"A[0][0], A[1][0], A[2][0], A[0][1], ..."}],note:"Important for cache performance - access in storage order!"},interactive:{type:"row-column-major"}},{id:9,section:"arrays",type:"concept",title:"Array Address Calculation",content:{description:"How to find element A[i][j] in memory:",items:[{icon:"",text:"Base Address",detail:"Starting address of array"},{icon:"",text:"Element Size",detail:"Size of each element in bytes"},{icon:"",text:"Formula",detail:"addr = base + (i * cols + j) * size (row-major)"}],code:`// For A[rows][cols] in row-major:
address(A[i][j]) = 
    base_address + 
    (i * num_cols + j) * element_size`},interactive:{type:"array-address"}},{id:10,section:"arrays",type:"concept",title:"Array Slices",content:{description:"Selecting portions of arrays:",items:[{icon:"",text:"Slice",detail:"Rectangular portion of an array"},{icon:"",text:"Python",detail:"a[1:5], a[::2], a[::-1]"},{icon:"",text:"Fortran 90",detail:"A(1:10:2) = elements 1,3,5,7,9"},{icon:"",text:"NumPy",detail:"Advanced slicing and indexing"}],code:`# Python slices
a = [0, 1, 2, 3, 4, 5]
a[1:4]    # [1, 2, 3]
a[::2]    # [0, 2, 4]
a[::-1]   # [5, 4, 3, 2, 1, 0]`}},{id:11,section:"arrays",type:"comparison",title:"Contiguous vs Row Pointers",content:{approaches:[{name:"Contiguous Allocation",characteristics:["All elements in one block","Requires multiplication for indexing","Better cache locality","Fixed row sizes"]},{name:"Row Pointers (Iliffe vectors)",characteristics:["Array of pointers to rows","No multiplication needed","Rows can be different sizes (ragged)","Extra pointer storage"]}]},interactive:{type:"array-layout"}},{id:12,section:"strings",type:"concept",title:"Strings",content:{description:"Sequences of characters - often special-cased:",items:[{icon:"",text:"Character Arrays",detail:"C-style: char str[] with null terminator"},{icon:"",text:"String Objects",detail:"Length + data (Pascal, Java, Python)"},{icon:"",text:"Immutable",detail:"Java, Python strings can't be modified"},{icon:"",text:"Dynamic",detail:"Can grow/shrink (unlike fixed arrays)"}]},interactive:{type:"string-rep"}},{id:13,section:"pointers",type:"concept",title:"Pointers",content:{description:"Variables that hold memory addresses:",items:[{icon:"",text:"Address",detail:"Points to location in memory"},{icon:"*",text:"Dereference",detail:"Follow pointer to get value: *p"},{icon:"&",text:"Address-of",detail:"Get address of variable: &x"},{icon:"",text:"Recursive Types",detail:"Enable linked structures (lists, trees)"}],code:`int x = 42;
int *p = &x;    // p points to x
*p = 100;       // x is now 100`}},{id:14,section:"pointers",type:"concept",title:"Pointer Dangers",content:{description:"What can go wrong with pointers:",items:[{icon:"",text:"Dangling Pointer",detail:"Points to freed/invalid memory"},{icon:"",text:"Null Pointer",detail:"Dereferencing null = crash"},{icon:"",text:"Memory Leak",detail:"Allocated memory never freed"},{icon:"",text:"Buffer Overflow",detail:"Writing past array bounds"}]},interactive:{type:"pointer-dangers"}},{id:15,section:"pointers",type:"concept",title:"Preventing Dangling Pointers",content:{description:"Techniques to catch invalid pointer use:",items:[{icon:"",text:"Tombstones",detail:"Extra indirection; mark tombstone invalid on free"},{icon:"",text:"Locks and Keys",detail:"Pointer has key; memory has lock; must match"},{icon:"",text:"Garbage Collection",detail:"Never explicitly free; collector reclaims unused"},{icon:"",text:"Ownership (Rust)",detail:"Type system tracks who owns memory"}]}},{id:16,section:"pointers",type:"concept",title:"Garbage Collection",content:{description:"Automatic memory reclamation:",items:[{icon:"",text:"Reference Counting",detail:"Track count of pointers to each object"},{icon:"",text:"Mark and Sweep",detail:"Mark reachable objects, sweep unmarked"},{icon:"",text:"Copying",detail:"Copy live objects to new space"},{icon:"",text:"Generational",detail:"Separate young and old objects"}]},interactive:{type:"garbage-collection"}},{id:17,section:"pointers",type:"concept",title:"Reference Counting",content:{description:"Simple GC: count pointers to each object",items:[{icon:"",text:"Increment",detail:"When pointer assigned to object"},{icon:"",text:"Decrement",detail:"When pointer leaves scope or reassigned"},{icon:"",text:"Free",detail:"When count reaches zero"},{icon:"",text:"Problem",detail:"Cannot collect circular references!"}]},interactive:{type:"ref-counting"}},{id:18,section:"lists",type:"concept",title:"Lists",content:{description:"Recursive data structure fundamental to functional programming:",items:[{icon:"",text:"Definition",detail:"Empty list OR (head, tail) where tail is a list"},{icon:"",text:"Linked",detail:"Each node points to next element"},{icon:"",text:"Recursive",detail:"Natural for recursive algorithms"},{icon:"",text:"Lisp",detail:"Programs are lists! (Code as data)"}],code:`-- Haskell list
data List a = Empty | Cons a (List a)

-- [1, 2, 3] = Cons 1 (Cons 2 (Cons 3 Empty))`}},{id:19,section:"summary",type:"summary",title:"Chapter 8 Summary",content:{sections:[{title:"Records & Arrays",points:["Records: named heterogeneous fields","Arrays: indexed homogeneous elements","Memory layout affects performance","Row-major vs column-major order"]},{title:"Pointers",points:["Hold memory addresses","Enable dynamic structures","Dangling pointers are dangerous","Solutions: GC, ownership, tombstones"]},{title:"Memory Management",points:["Reference counting (circular problem)","Mark and sweep","Modern: ownership types (Rust)"]}]}}],Uf=()=>{const[s,o]=w.useState(!1),m=s?[{field:"char c",size:1,offset:0,color:"blue"},{field:"int i",size:4,offset:1,color:"green"},{field:"char d",size:1,offset:5,color:"purple"},{field:"double x",size:8,offset:6,color:"orange"}]:[{field:"char c",size:1,offset:0,color:"blue"},{field:"(padding)",size:3,offset:1,color:"gray"},{field:"int i",size:4,offset:4,color:"green"},{field:"char d",size:1,offset:8,color:"purple"},{field:"(padding)",size:7,offset:9,color:"gray"},{field:"double x",size:8,offset:16,color:"orange"}],f=s?14:24;return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-teal-400 text-lg mb-4 font-mono",children:"Interactive: Struct Memory Layout"}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4 font-mono text-lg",children:[a.jsx("span",{className:"text-gray-500",children:s?`#pragma pack(1)
`:""}),a.jsx("span",{className:"text-teal-400",children:"struct"})," Example ","{",a.jsx("br",{}),a.jsx("span",{className:"ml-4 text-blue-400",children:"char"})," c;",a.jsx("br",{}),a.jsx("span",{className:"ml-4 text-green-400",children:"int"})," i;",a.jsx("br",{}),a.jsx("span",{className:"ml-4 text-purple-400",children:"char"})," d;",a.jsx("br",{}),a.jsx("span",{className:"ml-4 text-orange-400",children:"double"})," x;",a.jsx("br",{}),"}",";"]}),a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:s,onChange:g=>o(g.target.checked),className:"w-5 h-5"}),a.jsx("span",{className:"text-white text-lg",children:"Packed (no alignment padding)"})]})}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-slate-400 text-base mb-2",children:"Memory Layout (each block = 1 byte)"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:m.map((g,N)=>Array(g.size).fill(0).map((h,p)=>a.jsx("div",{className:`w-8 h-8 rounded flex items-center justify-center text-xs font-mono ${g.color==="gray"?"bg-slate-600 text-slate-400":g.color==="blue"?"bg-blue-500":g.color==="green"?"bg-green-500":g.color==="purple"?"bg-purple-500":"bg-orange-500"}`,title:g.field,children:g.offset+p},`${N}-${p}`)))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Total Size"}),a.jsxs("div",{className:"text-3xl font-bold text-teal-400",children:[f," bytes"]})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Wasted (padding)"}),a.jsxs("div",{className:"text-3xl font-bold text-red-400",children:[s?0:10," bytes"]})]})]})]})},Gf=()=>{const[s,o]=w.useState("int"),[d,r]=w.useState(1078523331),m=new Float32Array(new Int32Array([d]).buffer)[0],f=[d&255,d>>8&255,d>>16&255,d>>24&255];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-teal-400 text-lg mb-4 font-mono",children:"Interactive: Union Memory Overlay"}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4 font-mono text-lg",children:[a.jsx("span",{className:"text-teal-400",children:"union"})," Data ","{",a.jsx("br",{}),a.jsx("span",{className:"ml-4 text-blue-400",children:"int"})," i;",a.jsx("br",{}),a.jsx("span",{className:"ml-4 text-green-400",children:"float"})," f;",a.jsx("br",{}),a.jsx("span",{className:"ml-4 text-purple-400",children:"char"})," c[4];",a.jsx("br",{}),"}",";"]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("label",{className:"text-slate-400 text-lg block mb-2",children:["Set integer value: ",d]}),a.jsx("input",{type:"range",min:"0",max:"2000000000",value:d,onChange:g=>r(parseInt(g.target.value)),className:"w-full h-3 rounded-lg bg-slate-700"})]}),a.jsx("div",{className:"flex gap-2 mb-4 justify-center",children:["int","float","char[]"].map(g=>a.jsxs("button",{onClick:()=>o(g),className:`px-4 py-2 rounded-lg text-lg ${s===g?"bg-teal-500 text-white":"bg-slate-700"}`,children:["View as ",g]},g))}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-slate-400 text-base mb-2",children:"Same 4 bytes in memory:"}),a.jsx("div",{className:"flex gap-2 justify-center mb-4",children:f.map((g,N)=>a.jsx("div",{className:"w-16 h-16 bg-teal-500/30 rounded flex items-center justify-center",children:a.jsxs("span",{className:"font-mono text-xl text-white",children:["0x",g.toString(16).padStart(2,"0")]})},N))})]}),a.jsx("div",{className:`p-5 rounded-lg ${s==="int"?"bg-blue-500/20 border border-blue-500":s==="float"?"bg-green-500/20 border border-green-500":"bg-purple-500/20 border border-purple-500"}`,children:a.jsxs("div",{className:`text-2xl font-mono ${s==="int"?"text-blue-400":s==="float"?"text-green-400":"text-purple-400"}`,children:[s==="int"&&`int: ${d}`,s==="float"&&`float: ${m.toFixed(6)}`,s==="char[]"&&`chars: [${f.map(g=>g>=32&&g<127?`'${String.fromCharCode(g)}'`:g).join(", ")}]`]})}),a.jsx("div",{className:"mt-4 bg-amber-500/20 p-4 rounded-lg",children:a.jsx("div",{className:"text-amber-400 text-lg",children:" Same bytes, different interpretations! Type safety lost."})})]})},Xm=()=>{const[s,o]=w.useState("row"),d=[["A[0,0]","A[0,1]","A[0,2]"],["A[1,0]","A[1,1]","A[1,2]"],["A[2,0]","A[2,1]","A[2,2]"]],r=d.flat(),m=[0,1,2].flatMap(g=>d.map(N=>N[g])),f=s==="row"?r:m;return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-teal-400 text-lg mb-4 font-mono",children:"Interactive: Row-Major vs Column-Major"}),a.jsxs("div",{className:"flex gap-3 mb-6 justify-center",children:[a.jsx("button",{onClick:()=>o("row"),className:`px-6 py-3 rounded-lg text-xl font-bold ${s==="row"?"bg-blue-500 text-white":"bg-slate-700"}`,children:"Row-Major (C)"}),a.jsx("button",{onClick:()=>o("col"),className:`px-6 py-3 rounded-lg text-xl font-bold ${s==="col"?"bg-green-500 text-white":"bg-slate-700"}`,children:"Column-Major (Fortran)"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-400 text-lg mb-2",children:"2D Array (logical view)"}),a.jsx("div",{className:"bg-slate-900 p-4 rounded-lg",children:d.map((g,N)=>a.jsx("div",{className:"flex gap-2 mb-2",children:g.map((h,p)=>a.jsx("div",{className:`w-20 h-12 rounded flex items-center justify-center text-sm font-mono ${s==="row"&&N===0||s==="col"&&p===0?"bg-teal-500 text-white":"bg-slate-700 text-slate-300"}`,children:h},p))},N))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-400 text-lg mb-2",children:"Memory (linear view)"}),a.jsx("div",{className:"bg-slate-900 p-4 rounded-lg",children:a.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((g,N)=>a.jsx("div",{className:`w-20 h-10 rounded flex items-center justify-center text-sm font-mono ${N<3?"bg-teal-500 text-white":"bg-slate-700 text-slate-300"}`,children:g},N))})})]})]}),a.jsx("div",{className:`mt-4 p-4 rounded-lg ${s==="row"?"bg-blue-500/20":"bg-green-500/20"}`,children:a.jsx("div",{className:s==="row"?"text-blue-400":"text-green-400",children:s==="row"?"Row-major: Iterate over rows for best cache performance  for(i) for(j) A[i][j]":"Column-major: Iterate over columns for best cache performance  for(j) for(i) A[i][j]"})})]})},$f=()=>{const[s,o]=w.useState(1),[d,r]=w.useState(2),m=1e3,f=3,g=4,N=4,h=m+(s*g+d)*N;return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-teal-400 text-lg mb-4 font-mono",children:"Interactive: Array Address Calculation"}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4 font-mono text-lg text-center",children:["int A[",f,"][",g,"];  // Base address: ",m,", element size: ",N," bytes"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-slate-400 text-lg",children:["Row i = ",s]}),a.jsx("input",{type:"range",min:"0",max:f-1,value:s,onChange:p=>o(parseInt(p.target.value)),className:"w-full h-3 rounded-lg bg-slate-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-slate-400 text-lg",children:["Column j = ",d]}),a.jsx("input",{type:"range",min:"0",max:g-1,value:d,onChange:p=>r(parseInt(p.target.value)),className:"w-full h-3 rounded-lg bg-slate-700"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4",children:[a.jsxs("div",{className:"text-slate-400 text-base mb-2",children:["Array visualization (highlight A[",s,"][",d,"]):"]}),a.jsx("div",{className:"space-y-2",children:Array(f).fill(0).map((p,L)=>a.jsx("div",{className:"flex gap-2",children:Array(g).fill(0).map((B,X)=>a.jsxs("div",{className:`w-14 h-10 rounded flex items-center justify-center text-sm ${L===s&&X===d?"bg-teal-500 text-white font-bold":"bg-slate-700 text-slate-400"}`,children:["[",L,"][",X,"]"]},X))},L))})]}),a.jsx("div",{className:"bg-teal-500/20 p-5 rounded-lg",children:a.jsxs("div",{className:"text-teal-400 text-xl font-mono",children:["addr(A[",s,"][",d,"]) = ",m," + (",s,"  ",g," + ",d,")  ",N,a.jsx("br",{}),a.jsxs("span",{className:"ml-16",children:["= ",m," + ",s*g+d,"  ",N]}),a.jsx("br",{}),a.jsxs("span",{className:"ml-16",children:["= ",a.jsx("strong",{children:h})]})]})})]})},Xf=()=>{const[s,o]=w.useState("c"),d="Hello";return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-teal-400 text-lg mb-4 font-mono",children:"Interactive: String Representations"}),a.jsx("div",{className:"flex gap-2 mb-6 justify-center",children:[{id:"c",name:"C (null-terminated)"},{id:"pascal",name:"Pascal (length-prefixed)"},{id:"java",name:"Java (object)"}].map(r=>a.jsx("button",{onClick:()=>o(r.id),className:`px-4 py-2 rounded-lg text-lg ${s===r.id?"bg-teal-500 text-white":"bg-slate-700"}`,children:r.name},r.id))}),a.jsxs("div",{className:"bg-slate-900 p-5 rounded-lg",children:[a.jsxs("div",{className:"text-slate-400 text-base mb-2",children:['Memory layout for "',d,'":']}),s==="c"&&a.jsxs("div",{className:"flex gap-1",children:[d.split("").map((r,m)=>a.jsxs("div",{className:"w-12 h-12 bg-teal-500/30 rounded flex items-center justify-center text-xl font-mono text-white",children:["'",r,"'"]},m)),a.jsx("div",{className:"w-12 h-12 bg-red-500/30 rounded flex items-center justify-center text-lg font-mono text-red-400",children:"\\0"})]}),s==="pascal"&&a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-12 h-12 bg-amber-500/30 rounded flex items-center justify-center text-xl font-mono text-amber-400",children:d.length}),d.split("").map((r,m)=>a.jsxs("div",{className:"w-12 h-12 bg-teal-500/30 rounded flex items-center justify-center text-xl font-mono text-white",children:["'",r,"'"]},m))]}),s==="java"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("span",{className:"text-slate-400 w-20",children:"length:"}),a.jsx("div",{className:"w-16 h-10 bg-amber-500/30 rounded flex items-center justify-center font-mono text-amber-400",children:d.length})]}),a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx("span",{className:"text-slate-400 w-20",children:"data:"}),a.jsx("div",{className:"flex gap-1",children:d.split("").map((r,m)=>a.jsx("div",{className:"w-10 h-10 bg-teal-500/30 rounded flex items-center justify-center font-mono text-white",children:r},m))})]})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-center",children:[a.jsxs("div",{className:`p-3 rounded-lg ${s==="c"?"bg-teal-500/20":"bg-slate-700"}`,children:[a.jsx("div",{className:"text-slate-400 text-sm",children:"Find length"}),a.jsx("div",{className:"text-white text-lg",children:s==="c"?"O(n) scan":"O(1)"})]}),a.jsxs("div",{className:`p-3 rounded-lg ${s==="c"?"bg-teal-500/20":"bg-slate-700"}`,children:[a.jsx("div",{className:"text-slate-400 text-sm",children:"Contains null?"}),a.jsx("div",{className:"text-white text-lg",children:s==="c"?"Cannot":"Can"})]}),a.jsxs("div",{className:`p-3 rounded-lg ${s==="java"?"bg-teal-500/20":"bg-slate-700"}`,children:[a.jsx("div",{className:"text-slate-400 text-sm",children:"Mutable?"}),a.jsx("div",{className:"text-white text-lg",children:s==="java"?"Immutable":"Mutable"})]})]})]})},Ym=()=>{const[s,o]=w.useState(0),d=[{desc:"Create object A, assign to p",p:"A",q:null,countA:1,countB:0},{desc:"Create object B, assign to q",p:"A",q:"B",countA:1,countB:1},{desc:"Assign q = p (q now points to A)",p:"A",q:"A",countA:2,countB:0,freed:"B"},{desc:"Assign p = null",p:null,q:"A",countA:1,countB:0},{desc:"Assign q = null (A freed!)",p:null,q:null,countA:0,countB:0,freed:"A"}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-teal-400 text-lg mb-4 font-mono",children:"Interactive: Reference Counting"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base mb-2",children:"Pointers"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-blue-400 font-mono text-xl w-8",children:"p:"}),a.jsx("div",{className:`flex-1 h-10 rounded flex items-center justify-center ${r.p?"bg-blue-500/30":"bg-slate-700"}`,children:a.jsx("span",{className:"font-mono text-lg",children:r.p||"null"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-400 font-mono text-xl w-8",children:"q:"}),a.jsx("div",{className:`flex-1 h-10 rounded flex items-center justify-center ${r.q?"bg-green-500/30":"bg-slate-700"}`,children:a.jsx("span",{className:"font-mono text-lg",children:r.q||"null"})})]})]})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base mb-2",children:"Objects (ref count)"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:`h-10 rounded flex items-center justify-between px-3 ${r.countA>0?"bg-teal-500/30":"bg-red-500/30"}`,children:[a.jsx("span",{className:"font-mono text-lg",children:"Object A"}),a.jsx("span",{className:`font-mono text-xl font-bold ${r.countA>0?"text-teal-400":"text-red-400"}`,children:r.countA})]}),a.jsxs("div",{className:`h-10 rounded flex items-center justify-between px-3 ${r.countB>0?"bg-teal-500/30":"bg-red-500/30"}`,children:[a.jsx("span",{className:"font-mono text-lg",children:"Object B"}),a.jsx("span",{className:`font-mono text-xl font-bold ${r.countB>0?"text-teal-400":"text-red-400"}`,children:r.countB})]})]})]})]}),a.jsxs("div",{className:"bg-teal-500/20 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-teal-400 text-xl",children:r.desc}),r.freed&&a.jsxs("div",{className:"text-red-400 text-lg mt-2",children:[" ",r.freed," freed (count = 0)"]})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-5 py-2 bg-slate-700 rounded text-lg",children:"Reset"}),a.jsx("button",{onClick:()=>o(m=>Math.max(0,m-1)),disabled:s===0,className:"px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>o(m=>Math.min(d.length-1,m+1)),disabled:s>=d.length-1,className:"px-5 py-2 bg-teal-600 rounded text-lg disabled:opacity-50",children:"Next "})]})]})},Yf=({slide:s})=>a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[a.jsx("div",{className:"text-7xl mb-8",children:""}),a.jsx("h1",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.subtitle&&a.jsx("h2",{className:"text-2xl text-teal-400 mb-10",children:s.content.subtitle}),a.jsx("div",{className:"mt-8 flex flex-wrap gap-3 justify-center max-w-3xl",children:s.content.topics?.map((o,d)=>a.jsx("span",{className:"px-4 py-2 bg-slate-800 text-slate-300 rounded-full text-lg",children:o},d))})]}),qm=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.description}),s.content.items&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:s.content.items.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl flex items-start gap-4",children:[o.icon&&a.jsx("span",{className:"text-5xl",children:o.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold text-2xl",children:o.text}),o.detail&&a.jsx("p",{className:"text-slate-300 text-xl mt-2",children:o.detail})]})]},d))}),s.content.code&&a.jsx("div",{className:"mt-6 bg-slate-900 p-5 rounded-lg",children:a.jsx("pre",{className:"text-green-400 font-mono text-lg whitespace-pre-wrap",children:s.content.code})}),s.content.note&&a.jsx("p",{className:"mt-6 text-teal-400 italic text-xl",children:s.content.note}),s.interactive?.type==="struct-layout"&&a.jsx(Uf,{}),s.interactive?.type==="union"&&a.jsx(Gf,{}),s.interactive?.type==="array-address"&&a.jsx($f,{}),s.interactive?.type==="string-rep"&&a.jsx(Xf,{}),s.interactive?.type==="ref-counting"&&a.jsx(Ym,{}),s.interactive?.type==="garbage-collection"&&a.jsx(Ym,{})]}),qf=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-2xl text-slate-300 mb-6",children:s.content.description}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.content.approaches?.map((o,d)=>a.jsxs("div",{className:`p-6 rounded-xl border-2 ${d===0?"border-blue-500 bg-blue-500/10":"border-green-500 bg-green-500/10"}`,children:[a.jsx("h3",{className:`font-bold text-2xl mb-3 ${d===0?"text-blue-400":"text-green-400"}`,children:o.name}),o.how&&a.jsx("p",{className:"text-white text-xl mb-2",children:o.how}),o.used&&a.jsxs("p",{className:"text-slate-400 text-lg mb-2",children:["Used by: ",o.used]}),o.example&&a.jsx("p",{className:"text-slate-400 font-mono text-lg mb-2",children:o.example}),o.characteristics&&a.jsx("ul",{className:"space-y-2 mt-3",children:o.characteristics.map((r,m)=>a.jsxs("li",{className:"text-slate-300 text-lg",children:[" ",r]},m))})]},d))}),s.content.note&&a.jsx("p",{className:"mt-6 text-teal-400 text-xl italic",children:s.content.note}),s.interactive?.type==="row-column-major"&&a.jsx(Xm,{}),s.interactive?.type==="array-layout"&&a.jsx(Xm,{})]}),Vf=({slide:s})=>a.jsxs("div",{className:"h-full p-8 flex flex-col justify-center overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-10 text-center",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.content.sections?.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-teal-400 font-bold text-2xl mb-5",children:o.title}),a.jsx("ul",{className:"space-y-3",children:o.points.map((r,m)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-400 mt-1 text-xl",children:""}),a.jsx("span",{className:"text-slate-300 text-xl",children:r})]},m))})]},d))})]}),If=({slide:s})=>{switch(s.type){case"title":return a.jsx(Yf,{slide:s});case"concept":return a.jsx(qm,{slide:s});case"comparison":return a.jsx(qf,{slide:s});case"summary":return a.jsx(Vf,{slide:s});default:return a.jsx(qm,{slide:s})}};function Qf({onBackToChapters:s}){const[o,d]=w.useState(0),[r,m]=w.useState(!1),f=[...new Set(Ht.map(h=>h.section))],g=w.useCallback(h=>{h.key==="ArrowRight"||h.key===" "?d(p=>Math.min(p+1,Ht.length-1)):h.key==="ArrowLeft"?d(p=>Math.max(p-1,0)):h.key==="Escape"?m(!1):h.key==="m"&&m(p=>!p)},[]);w.useEffect(()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)),[g]);const N=Ht[o];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm z-40 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>m(!r),className:"p-2 hover:bg-slate-700 rounded",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("span",{className:"text-teal-400 font-bold text-lg",children:["Ch 8: ",_f.title]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-slate-400",children:[o+1," / ",Ht.length]}),a.jsx("button",{type:"button",onClick:s,"aria-label":"Back to chapters",title:"Back to chapters",className:"p-1.5 rounded-full border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 hover:bg-slate-700/60 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"px-3 py-1 bg-slate-700 text-slate-300 rounded text-sm",children:N.section})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>m(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-slate-800 p-4 overflow-auto",onClick:h=>h.stopPropagation(),children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Chapter 8 Slides"}),f.map(h=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-teal-400 text-sm uppercase tracking-wider mb-2",children:h}),Ht.filter(p=>p.section===h).map(p=>a.jsxs("button",{onClick:()=>{d(Ht.indexOf(p)),m(!1)},className:`block w-full text-left px-3 py-2 rounded mb-1 text-base ${Ht.indexOf(p)===o?"bg-teal-500 text-white":"hover:bg-slate-700"}`,children:[a.jsx("span",{className:"text-xs opacity-60 mr-2",children:p.id}),p.title]},p.id))]},h))]})}),a.jsx("main",{className:"pt-14 pb-20 min-h-screen",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(If,{slide:N})})}),a.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("button",{onClick:()=>d(h=>Math.max(h-1,0)),disabled:o===0,className:"flex items-center gap-2 px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-30",children:" Previous"}),a.jsx("div",{className:"flex-1 mx-8",children:a.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-teal-500 transition-all",style:{width:`${(o+1)/Ht.length*100}%`}})})}),a.jsx("button",{onClick:()=>d(h=>Math.min(h+1,Ht.length-1)),disabled:o===Ht.length-1,className:"flex items-center gap-2 px-5 py-2 bg-teal-600 rounded text-lg disabled:opacity-30",children:"Next "})]}),a.jsxs("div",{className:"text-center text-slate-500 text-sm pb-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," navigate  ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:"M"})," menu"]})]})]})}const _t=[{id:1,section:"intro",type:"title",title:"Chapter 9: Subroutines and Control Abstraction",content:{subtitle:"Functions, Procedures, and Parameter Passing",topics:["Stack Frames","Calling Conventions","Parameter Passing Modes","L-values vs R-values","Exception Handling","Coroutines"]}},{id:2,section:"intro",type:"concept",title:"Subroutines: The Big Picture",content:{description:"Subroutines are the fundamental unit of code reuse:",items:[{icon:"",text:"Abstraction",detail:"Hide implementation details behind an interface"},{icon:"",text:"Reuse",detail:"Write once, call many times"},{icon:"",text:"Stack-based",detail:"Local state managed on runtime stack"},{icon:"",text:"Calling Conventions",detail:"Agreement on how to pass data and control"}]}},{id:3,section:"stack",type:"concept",title:"Program Memory Layout",content:{description:"How memory is organized at runtime:",items:[{icon:"",text:"Code (Text)",detail:"Machine instructions (static, read-only)"},{icon:"",text:"Static/Global",detail:"Global variables, constants"},{icon:"",text:"Stack",detail:"Local variables, parameters, return addresses"},{icon:"",text:"Heap",detail:"Dynamically allocated memory"}]},interactive:{type:"memory-layout"}},{id:4,section:"stack",type:"concept",title:"Stack Frame (Activation Record)",content:{description:"Contents of each function's stack frame:",items:[{icon:"",text:"Return Address",detail:"Where to continue after function returns"},{icon:"",text:"Dynamic Link",detail:"Pointer to caller's frame (previous frame pointer)"},{icon:"",text:"Static Link",detail:"For nested functions: pointer to enclosing scope"},{icon:"",text:"Saved Registers",detail:"Registers that must be preserved"},{icon:"",text:"Parameters",detail:"Arguments passed to function"},{icon:"",text:"Local Variables",detail:"Function's local data"},{icon:"",text:"Temporaries",detail:"Intermediate computation results"}]},interactive:{type:"stack-frame"}},{id:5,section:"stack",type:"concept",title:"Calling Sequence",content:{description:"Steps to call and return from a subroutine:",items:[{icon:"1",text:"Caller: Save registers",detail:"Save any caller-saves registers still needed"},{icon:"2",text:"Caller: Push arguments",detail:"Put arguments in registers or on stack"},{icon:"3",text:"Caller: Call instruction",detail:"Push return address, jump to callee"},{icon:"4",text:"Callee: Prologue",detail:"Set up frame pointer, allocate locals"},{icon:"5",text:"Callee: Execute body",detail:"Run the function code"},{icon:"6",text:"Callee: Epilogue",detail:"Clean up, restore registers, return"}]},interactive:{type:"calling-sequence"}},{id:6,section:"stack",type:"comparison",title:"Caller-Saves vs Callee-Saves",content:{approaches:[{name:"Caller-Saves",characteristics:["Caller saves registers it needs preserved","Caller knows which registers are in use","Callee can freely use these registers","More saves if callee doesn't use them"]},{name:"Callee-Saves",characteristics:["Callee saves registers it will modify","Callee knows which registers it uses","Caller's values automatically preserved","More saves if caller doesn't need them"]}],note:"Most ABIs split registers: some caller-saves, some callee-saves"}},{id:7,section:"stack",type:"concept",title:"Leaf Routines",content:{description:"Functions that don't call other functions:",items:[{icon:"",text:"Definition",detail:"A leaf routine makes no subroutine calls"},{icon:"",text:"Optimization",detail:"Can skip much of prologue/epilogue"},{icon:"",text:"No Stack Frame",detail:"May not need to allocate stack space at all"},{icon:"",text:"Very Fast",detail:"Simple leaf routines run entirely in registers"}],code:`// Leaf routine - no calls
int square(int x) {
    return x * x;  // Just uses registers
}`}},{id:8,section:"values",type:"concept",title:"L-values vs R-values",content:{description:"Two kinds of values in expressions:",items:[{icon:"",text:"L-value",detail:"Has a persistent memory location (can appear on LEFT of =)"},{icon:"",text:"R-value",detail:"Temporary value, no persistent address (only RIGHT of =)"}],code:`int x = 5;      // x is l-value, 5 is r-value
x = x + 3;      // x (left) is l-value, x+3 is r-value
int *p = &x;    // &x gets ADDRESS of l-value
// &(x+3) ERROR - can't get address of r-value`},interactive:{type:"lvalue-rvalue"}},{id:9,section:"params",type:"concept",title:"Parameter Passing Modes",content:{description:"How arguments are passed to functions:",items:[{icon:"",text:"By Value",detail:"Copy the value - callee gets independent copy"},{icon:"",text:"By Reference",detail:"Pass address - callee can modify original"},{icon:"",text:"By Value/Result",detail:"Copy in, copy back out on return"},{icon:"",text:"By Name",detail:"Textual substitution (like macros)"}]}},{id:10,section:"params",type:"concept",title:"Pass by Value",content:{description:"Callee receives a copy of the argument:",items:[{icon:"",text:"How it works",detail:"Value is copied into parameter variable"},{icon:"",text:"Safety",detail:"Original cannot be modified accidentally"},{icon:"",text:"Cost",detail:"Copying large objects can be expensive"}],code:`void increment(int x) {
    x = x + 1;  // Modifies local copy only
}

int a = 5;
increment(a);
// a is still 5!`},interactive:{type:"pass-by-value"}},{id:11,section:"params",type:"concept",title:"Pass by Reference",content:{description:"Callee receives the address of the argument:",items:[{icon:"",text:"How it works",detail:"Address passed; callee accesses original"},{icon:"",text:"Modification",detail:"Changes affect the original variable"},{icon:"",text:"Efficiency",detail:"No copying - just pass a pointer"},{icon:"",text:"Aliasing",detail:"Same memory accessible by different names"}],code:`void increment(int &x) {  // C++ reference
    x = x + 1;  // Modifies original!
}

int a = 5;
increment(a);
// a is now 6!`},interactive:{type:"pass-by-reference"}},{id:12,section:"params",type:"concept",title:"Pass by Value/Result (Copy-In/Copy-Out)",content:{description:"Copy in at call, copy back at return:",items:[{icon:"",text:"Copy In",detail:"Value copied to parameter at call"},{icon:"",text:"Copy Out",detail:"Parameter copied back to argument at return"},{icon:"",text:"Difference from Reference",detail:"No aliasing during execution"}],code:`// Ada style
procedure swap(x: in out Integer; y: in out Integer) is
    temp: Integer := x;
begin
    x := y;
    y := temp;
end swap;`}},{id:13,section:"params",type:"concept",title:"Pass by Name (Thunks)",content:{description:"Textual substitution - argument re-evaluated each use:",items:[{icon:"",text:"How it works",detail:"Like macro expansion - text substituted"},{icon:"",text:"Re-evaluation",detail:"Argument expression evaluated each time used"},{icon:"",text:"Lazy",detail:"Never evaluated if parameter never used"},{icon:"",text:"Thunks",detail:"Implemented as hidden procedures"}],code:`// Algol 60 style
// If you pass a[i] by name, and the function
// modifies i, subsequent uses of the parameter
// access different array elements!`}},{id:14,section:"params",type:"table",title:"Parameter Passing Comparison",content:{headers:["Mode","Copy?","Can Modify Original?","Aliasing?"],rows:[["Value","Yes (in)","No","No"],["Reference","No","Yes","Yes"],["Value/Result","Yes (in & out)","Yes (at return)","No"],["Name","No (re-eval)","Depends","Complex"]]},interactive:{type:"param-comparison"}},{id:15,section:"params",type:"comparison",title:"Macros vs Functions",content:{approaches:[{name:"Macros",code:"#define MIN(a,b) ((a)<(b)?(a):(b))",characteristics:["Textual substitution","No function call overhead","Arguments evaluated multiple times","No type checking"]},{name:"Functions",code:"int min(int a, int b) { return a<b?a:b; }",characteristics:["Actual subroutine call","Arguments evaluated once","Type checking","Smaller code size"]}],note:"Inline functions: best of both worlds (compiler hint)"}},{id:16,section:"evaluation",type:"comparison",title:"Lazy vs Eager Evaluation",content:{approaches:[{name:"Eager (Strict)",characteristics:["Arguments evaluated BEFORE call","Most languages use this","Predictable evaluation order","May evaluate unused arguments"],examples:"C, Java, Python, most languages"},{name:"Lazy (Non-strict)",characteristics:["Arguments evaluated WHEN NEEDED","Can handle infinite data structures","More efficient if arg unused","Harder to reason about"],examples:"Haskell, call-by-name/need"}]},interactive:{type:"lazy-eager"}},{id:17,section:"exceptions",type:"concept",title:"Exception Handling",content:{description:"Dealing with runtime errors and unusual conditions:",items:[{icon:"",text:"Exception",detail:"Runtime error or unusual condition"},{icon:"",text:"Handler",detail:"Code that runs when exception occurs"},{icon:"",text:"Propagation",detail:"Exceptions bubble up call stack"},{icon:"",text:"Cleanup",detail:"Finally blocks, RAII for resource cleanup"}],code:`try {
    riskyOperation();
} catch (IOException e) {
    handleError(e);
} finally {
    cleanup();  // Always runs
}`}},{id:18,section:"exceptions",type:"concept",title:"Exception Implementation",content:{description:"How exceptions work under the hood:",items:[{icon:"",text:"Stack Unwinding",detail:"Pop frames until handler found"},{icon:"",text:"Handler Tables",detail:"Map PC ranges to handlers"},{icon:"",text:"Zero-cost when not thrown",detail:"Modern approach: no overhead if no exception"},{icon:"",text:"Expensive when thrown",detail:"Stack unwinding is costly"}]}},{id:19,section:"coroutines",type:"concept",title:"Coroutines",content:{description:"Subroutines that can suspend and resume:",items:[{icon:"",text:"Suspend",detail:"Pause execution, save state"},{icon:"",text:"Resume",detail:"Continue from where we left off"},{icon:"",text:"Symmetric",detail:"Any coroutine can transfer to any other"},{icon:"",text:"Generators",detail:"Asymmetric: yield values to caller"}],code:`// Python generator (asymmetric coroutine)
def count_up():
    n = 0
    while True:
        yield n  # Suspend, return n
        n += 1   # Resume here next time`},interactive:{type:"coroutines"}},{id:20,section:"summary",type:"summary",title:"Chapter 9 Summary",content:{sections:[{title:"Stack & Calling",points:["Stack frames hold locals, params, return addr","Calling conventions coordinate caller/callee","Leaf routines can be highly optimized"]},{title:"Parameter Passing",points:["By value: copy, safe, can't modify original","By reference: address, can modify, aliasing","By name: lazy, textual substitution"]},{title:"Control Flow",points:["Exceptions: non-local control transfer","Coroutines: suspendable subroutines","Lazy evaluation: compute only when needed"]}]}}],Zf=()=>{const[s,o]=w.useState(null),d=[{name:"Stack",desc:"Grows down  Local vars, params, return addresses",color:"rose",top:!0},{name:" Free ",desc:"Unused space between stack and heap",color:"gray",middle:!0},{name:"Heap",desc:"Grows up  Dynamic allocation (malloc, new)",color:"amber"},{name:"BSS",desc:"Uninitialized global/static variables",color:"green"},{name:"Data",desc:"Initialized global/static variables",color:"blue"},{name:"Text",desc:"Program code (read-only)",color:"purple"}];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-rose-400 text-lg mb-4 font-mono",children:"Interactive: Program Memory Layout"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-1",children:[d.map((r,m)=>a.jsx("button",{onClick:()=>o(r.name),className:`w-full p-3 rounded text-left transition-all ${r.color==="rose"?"bg-rose-500/30 hover:bg-rose-500/50":r.color==="gray"?"bg-slate-700/50":r.color==="amber"?"bg-amber-500/30 hover:bg-amber-500/50":r.color==="green"?"bg-green-500/30 hover:bg-green-500/50":r.color==="blue"?"bg-blue-500/30 hover:bg-blue-500/50":"bg-purple-500/30 hover:bg-purple-500/50"} ${s===r.name?"ring-2 ring-white":""}`,style:{height:r.middle?"60px":"50px"},children:a.jsx("span",{className:"font-mono text-lg text-white",children:r.name})},m)),a.jsx("div",{className:"text-center text-slate-400 text-sm mt-2",children:"High Address  | Low Address "})]}),a.jsx("div",{className:"bg-slate-900 p-4 rounded-lg",children:s?a.jsxs("div",{children:[a.jsx("div",{className:"text-rose-400 font-bold text-xl mb-2",children:s}),a.jsx("div",{className:"text-slate-300 text-lg",children:d.find(r=>r.name===s)?.desc})]}):a.jsx("div",{className:"text-slate-400 text-lg",children:"Click a memory region to see details"})})]})]})},Vm=()=>{const[s,o]=w.useState(0),d=[{desc:"main() calls foo(5, 10)",frames:["main"]},{desc:"foo() stack frame created",frames:["main","foo(5,10)"]},{desc:"foo() calls bar(x)",frames:["main","foo(5,10)","bar(5)"]},{desc:"bar() returns to foo()",frames:["main","foo(5,10)"]},{desc:"foo() returns to main()",frames:["main"]}],r={main:["return addr","saved regs","local vars"],"foo(5,10)":["return addr  main","saved FP","param: a=5","param: b=10","local: x"],"bar(5)":["return addr  foo","saved FP","param: n=5","local: result"]},m=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-rose-400 text-lg mb-4 font-mono",children:"Interactive: Stack Frames"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-400 text-base mb-2",children:"Call Stack (grows down )"}),a.jsx("div",{className:"space-y-2",children:m.frames.slice().reverse().map((f,g)=>a.jsxs("div",{className:`p-4 rounded-lg ${g===0?"bg-rose-500/30 border-2 border-rose-500":"bg-slate-700"}`,children:[a.jsx("div",{className:"font-mono text-xl text-white mb-2",children:f}),a.jsx("div",{className:"space-y-1",children:r[f]?.map((N,h)=>a.jsx("div",{className:"text-slate-400 text-sm font-mono",children:N},h))})]},g))})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsxs("div",{className:"text-rose-400 font-bold text-xl mb-2",children:["Step ",s+1]}),a.jsx("div",{className:"text-white text-xl",children:m.desc}),a.jsxs("div",{className:"mt-4 text-slate-400",children:["Stack depth: ",m.frames.length," frame(s)"]})]})]}),a.jsxs("div",{className:"flex gap-3 justify-center mt-6",children:[a.jsx("button",{onClick:()=>o(0),className:"px-5 py-2 bg-slate-700 rounded text-lg",children:"Reset"}),a.jsx("button",{onClick:()=>o(f=>Math.max(0,f-1)),disabled:s===0,className:"px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>o(f=>Math.min(d.length-1,f+1)),disabled:s>=d.length-1,className:"px-5 py-2 bg-rose-600 rounded text-lg disabled:opacity-50",children:"Next "})]})]})},Jf=()=>{const s=[{expr:"x",lvalue:!0,rvalue:!0,reason:"Variable: has address, can be read"},{expr:"x + 3",lvalue:!1,rvalue:!0,reason:"Expression result: no persistent location"},{expr:"*p",lvalue:!0,rvalue:!0,reason:"Dereference: refers to memory location"},{expr:"&x",lvalue:!1,rvalue:!0,reason:"Address: computed value, not a location"},{expr:"a[i]",lvalue:!0,rvalue:!0,reason:"Array element: has address"},{expr:"42",lvalue:!1,rvalue:!0,reason:"Literal: no address, just a value"}],[o,d]=w.useState(0),r=s[o];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-rose-400 text-lg mb-4 font-mono",children:"Interactive: L-values vs R-values"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-6 justify-center",children:s.map((m,f)=>a.jsx("button",{onClick:()=>d(f),className:`px-4 py-2 rounded-lg font-mono text-lg ${o===f?"bg-rose-500 text-white":"bg-slate-700"}`,children:m.expr},f))}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:`p-4 rounded-lg ${r.lvalue?"bg-green-500/20 border border-green-500":"bg-red-500/20 border border-red-500"}`,children:[a.jsxs("div",{className:`text-2xl font-bold ${r.lvalue?"text-green-400":"text-red-400"}`,children:[r.lvalue?"":""," L-value"]}),a.jsx("div",{className:"text-slate-300 text-lg mt-2",children:r.lvalue?"Can appear on LEFT of =":"Cannot be assigned to"})]}),a.jsxs("div",{className:`p-4 rounded-lg ${r.rvalue?"bg-green-500/20 border border-green-500":"bg-red-500/20 border border-red-500"}`,children:[a.jsxs("div",{className:`text-2xl font-bold ${r.rvalue?"text-green-400":"text-red-400"}`,children:[r.rvalue?"":""," R-value"]}),a.jsx("div",{className:"text-slate-300 text-lg mt-2",children:r.rvalue?"Can appear on RIGHT of =":"Cannot be read"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("span",{className:"text-rose-400 font-mono text-2xl",children:r.expr}),a.jsxs("span",{className:"text-slate-400 text-lg ml-4",children:[" ",r.reason]})]})]})},To=()=>{const[s,o]=w.useState(0),d=[{desc:"Call increment(a) where a = 5",a:5,x:null,phase:"before"},{desc:"x receives COPY of a (x = 5)",a:5,x:5,phase:"copy"},{desc:"x = x + 1 (x becomes 6)",a:5,x:6,phase:"modify"},{desc:"Function returns. a unchanged!",a:5,x:null,phase:"after"}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-rose-400 text-lg mb-4 font-mono",children:"Interactive: Pass by Value"}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4 font-mono text-lg",children:[a.jsx("span",{className:"text-rose-400",children:"void"})," increment(",a.jsx("span",{className:"text-blue-400",children:"int"})," x) ","{"," x = x + 1; ","}"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Caller's variable"}),a.jsxs("div",{className:"text-4xl font-mono font-bold text-blue-400",children:["a = ",r.a]})]}),a.jsxs("div",{className:`p-4 rounded-lg ${r.x!==null?"bg-rose-500/20":"bg-slate-900"}`,children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Parameter (copy)"}),a.jsxs("div",{className:"text-4xl font-mono font-bold text-rose-400",children:["x = ",r.x!==null?r.x:""]})]})]}),a.jsx("div",{className:"bg-rose-500/20 p-4 rounded-lg mb-4",children:a.jsx("div",{className:"text-rose-400 text-xl",children:r.desc})}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-5 py-2 bg-slate-700 rounded text-lg",children:"Reset"}),a.jsx("button",{onClick:()=>o(m=>Math.max(0,m-1)),disabled:s===0,className:"px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>o(m=>Math.min(d.length-1,m+1)),disabled:s>=d.length-1,className:"px-5 py-2 bg-rose-600 rounded text-lg disabled:opacity-50",children:"Next "})]})]})},Kf=()=>{const[s,o]=w.useState(0),d=[{desc:"Call increment(a) where a = 5",a:5,phase:"before"},{desc:"x is ALIAS for a (same memory!)",a:5,phase:"alias",arrow:!0},{desc:"x = x + 1 modifies a!",a:6,phase:"modify",arrow:!0},{desc:"Function returns. a is now 6!",a:6,phase:"after"}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-rose-400 text-lg mb-4 font-mono",children:"Interactive: Pass by Reference"}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4 font-mono text-lg",children:[a.jsx("span",{className:"text-rose-400",children:"void"})," increment(",a.jsx("span",{className:"text-blue-400",children:"int"})," ",a.jsx("span",{className:"text-green-400",children:"&"}),"x) ","{"," x = x + 1; ","}"]}),a.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Variable a"}),a.jsx("div",{className:`text-4xl font-mono font-bold ${r.a===6?"text-green-400":"text-blue-400"}`,children:r.a})]}),r.arrow&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-rose-400 text-3xl",children:""}),a.jsxs("div",{className:"bg-rose-500/20 p-4 rounded-lg text-center",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"x (alias)"}),a.jsx("div",{className:"text-rose-400 text-lg font-mono",children:"points to a"})]})]})]}),a.jsx("div",{className:"bg-green-500/20 p-4 rounded-lg mb-4",children:a.jsx("div",{className:"text-green-400 text-xl",children:r.desc})}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-5 py-2 bg-slate-700 rounded text-lg",children:"Reset"}),a.jsx("button",{onClick:()=>o(m=>Math.max(0,m-1)),disabled:s===0,className:"px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>o(m=>Math.min(d.length-1,m+1)),disabled:s>=d.length-1,className:"px-5 py-2 bg-rose-600 rounded text-lg disabled:opacity-50",children:"Next "})]})]})},Wf=()=>{const[s,o]=w.useState(0),d=[{gen:0,caller:"next()",genState:"running",value:null},{gen:1,caller:"receives 0",genState:"suspended",value:0},{gen:1,caller:"next()",genState:"running",value:null},{gen:2,caller:"receives 1",genState:"suspended",value:1},{gen:2,caller:"next()",genState:"running",value:null},{gen:3,caller:"receives 2",genState:"suspended",value:2}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-rose-400 text-lg mb-4 font-mono",children:"Interactive: Generator (Coroutine)"}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4 font-mono text-base",children:[a.jsx("span",{className:"text-rose-400",children:"def"})," count():",a.jsx("br",{}),a.jsx("span",{className:"ml-4",children:"n = 0"}),a.jsx("br",{}),a.jsx("span",{className:"ml-4 text-rose-400",children:"while"})," True:",a.jsx("br",{}),a.jsx("span",{className:"ml-8 text-green-400",children:"yield"})," n  ",a.jsx("span",{className:"text-slate-500",children:"# suspend, return n"}),a.jsx("br",{}),a.jsx("span",{className:"ml-8",children:"n += 1"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-4",children:[a.jsxs("div",{className:`p-4 rounded-lg ${r.genState==="running"?"bg-green-500/20 border border-green-500":"bg-amber-500/20 border border-amber-500"}`,children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Generator"}),a.jsxs("div",{className:"text-2xl font-bold text-white",children:["n = ",r.gen]}),a.jsx("div",{className:`text-lg ${r.genState==="running"?"text-green-400":"text-amber-400"}`,children:r.genState==="running"?" Running":" Suspended"})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Caller"}),a.jsx("div",{className:"text-xl text-white",children:r.caller}),r.value!==null&&a.jsxs("div",{className:"text-2xl font-bold text-rose-400 mt-2",children:[" ",r.value]})]})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-5 py-2 bg-slate-700 rounded text-lg",children:"Reset"}),a.jsx("button",{onClick:()=>o(m=>Math.max(0,m-1)),disabled:s===0,className:"px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>o(m=>Math.min(d.length-1,m+1)),disabled:s>=d.length-1,className:"px-5 py-2 bg-rose-600 rounded text-lg disabled:opacity-50",children:"Next "})]})]})},Pf=({slide:s})=>a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[a.jsx("div",{className:"text-7xl mb-8",children:""}),a.jsx("h1",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.subtitle&&a.jsx("h2",{className:"text-2xl text-rose-400 mb-10",children:s.content.subtitle}),a.jsx("div",{className:"mt-8 flex flex-wrap gap-3 justify-center max-w-3xl",children:s.content.topics?.map((o,d)=>a.jsx("span",{className:"px-4 py-2 bg-slate-800 text-slate-300 rounded-full text-lg",children:o},d))})]}),Im=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.description}),s.content.items&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:s.content.items.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl flex items-start gap-4",children:[o.icon&&a.jsx("span",{className:"text-5xl",children:o.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold text-2xl",children:o.text}),o.detail&&a.jsx("p",{className:"text-slate-300 text-xl mt-2",children:o.detail})]})]},d))}),s.content.code&&a.jsx("div",{className:"mt-6 bg-slate-900 p-5 rounded-lg",children:a.jsx("pre",{className:"text-green-400 font-mono text-lg whitespace-pre-wrap",children:s.content.code})}),s.content.note&&a.jsx("p",{className:"mt-6 text-rose-400 italic text-xl",children:s.content.note}),s.interactive?.type==="memory-layout"&&a.jsx(Zf,{}),s.interactive?.type==="stack-frame"&&a.jsx(Vm,{}),s.interactive?.type==="calling-sequence"&&a.jsx(Vm,{}),s.interactive?.type==="lvalue-rvalue"&&a.jsx(Jf,{}),s.interactive?.type==="pass-by-value"&&a.jsx(To,{}),s.interactive?.type==="pass-by-reference"&&a.jsx(Kf,{}),s.interactive?.type==="coroutines"&&a.jsx(Wf,{})]}),eg=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.content.approaches?.map((o,d)=>a.jsxs("div",{className:`p-6 rounded-xl border-2 ${d===0?"border-blue-500 bg-blue-500/10":"border-green-500 bg-green-500/10"}`,children:[a.jsx("h3",{className:`font-bold text-2xl mb-3 ${d===0?"text-blue-400":"text-green-400"}`,children:o.name}),o.code&&a.jsx("pre",{className:"text-green-400 font-mono text-base mb-3 bg-slate-900 p-3 rounded",children:o.code}),o.characteristics&&a.jsx("ul",{className:"space-y-2",children:o.characteristics.map((r,m)=>a.jsxs("li",{className:"text-slate-300 text-lg",children:[" ",r]},m))}),o.examples&&a.jsxs("p",{className:"text-slate-500 text-base mt-3",children:["Examples: ",o.examples]})]},d))}),s.content.note&&a.jsx("p",{className:"mt-6 text-rose-400 text-xl italic",children:s.content.note}),s.interactive?.type==="lazy-eager"&&a.jsx(To,{})]}),tg=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-xl",children:[a.jsx("thead",{children:a.jsx("tr",{className:"border-b border-slate-700",children:s.content.headers?.map((o,d)=>a.jsx("th",{className:"text-left p-4 text-rose-400 font-bold text-xl",children:o},d))})}),a.jsx("tbody",{children:s.content.rows?.map((o,d)=>a.jsx("tr",{className:"border-b border-slate-800",children:o.map((r,m)=>a.jsx("td",{className:`p-4 text-xl ${m===0?"text-white font-medium":"text-slate-300"}`,children:r},m))},d))})]})}),s.interactive?.type==="param-comparison"&&a.jsx(To,{})]}),ag=({slide:s})=>a.jsxs("div",{className:"h-full p-8 flex flex-col justify-center overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-10 text-center",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.content.sections?.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-rose-400 font-bold text-2xl mb-5",children:o.title}),a.jsx("ul",{className:"space-y-3",children:o.points.map((r,m)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-400 mt-1 text-xl",children:""}),a.jsx("span",{className:"text-slate-300 text-xl",children:r})]},m))})]},d))})]}),lg=({slide:s})=>{switch(s.type){case"title":return a.jsx(Pf,{slide:s});case"concept":return a.jsx(Im,{slide:s});case"comparison":return a.jsx(eg,{slide:s});case"table":return a.jsx(tg,{slide:s});case"summary":return a.jsx(ag,{slide:s});default:return a.jsx(Im,{slide:s})}};function ng({onBackToChapters:s}){const[o,d]=w.useState(0),[r,m]=w.useState(!1),f=[...new Set(_t.map(h=>h.section))],g=w.useCallback(h=>{h.key==="ArrowRight"||h.key===" "?d(p=>Math.min(p+1,_t.length-1)):h.key==="ArrowLeft"?d(p=>Math.max(p-1,0)):h.key==="Escape"?m(!1):h.key==="m"&&m(p=>!p)},[]);w.useEffect(()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)),[g]);const N=_t[o];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm z-40 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>m(!r),className:"p-2 hover:bg-slate-700 rounded",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsx("span",{className:"text-rose-400 font-bold text-lg",children:"Ch 9: Subroutines"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-slate-400",children:[o+1," / ",_t.length]}),a.jsx("button",{type:"button",onClick:s,"aria-label":"Back to chapters",title:"Back to chapters",className:"p-1.5 rounded-full border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 hover:bg-slate-700/60 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"px-3 py-1 bg-slate-700 text-slate-300 rounded text-sm",children:N.section})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>m(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-slate-800 p-4 overflow-auto",onClick:h=>h.stopPropagation(),children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Chapter 9 Slides"}),f.map(h=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-rose-400 text-sm uppercase tracking-wider mb-2",children:h}),_t.filter(p=>p.section===h).map(p=>a.jsxs("button",{onClick:()=>{d(_t.indexOf(p)),m(!1)},className:`block w-full text-left px-3 py-2 rounded mb-1 text-base ${_t.indexOf(p)===o?"bg-rose-500 text-white":"hover:bg-slate-700"}`,children:[a.jsx("span",{className:"text-xs opacity-60 mr-2",children:p.id}),p.title]},p.id))]},h))]})}),a.jsx("main",{className:"pt-14 pb-20 min-h-screen",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(lg,{slide:N})})}),a.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("button",{onClick:()=>d(h=>Math.max(h-1,0)),disabled:o===0,className:"flex items-center gap-2 px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-30",children:" Previous"}),a.jsx("div",{className:"flex-1 mx-8",children:a.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-rose-500 transition-all",style:{width:`${(o+1)/_t.length*100}%`}})})}),a.jsx("button",{onClick:()=>d(h=>Math.min(h+1,_t.length-1)),disabled:o===_t.length-1,className:"flex items-center gap-2 px-5 py-2 bg-rose-600 rounded text-lg disabled:opacity-30",children:"Next "})]}),a.jsxs("div",{className:"text-center text-slate-500 text-sm pb-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," navigate  ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:"M"})," menu"]})]})]})}const Ut=[{id:1,section:"intro",type:"title",title:"Chapter 10: Data Abstraction and Object Orientation",content:{subtitle:"Objects, Classes, and Inheritance",topics:["Abstract Data Types","Encapsulation","Inheritance","Dynamic Method Binding","Vtables","Multiple Inheritance"]}},{id:2,section:"intro",type:"concept",title:"Evolution of Data Abstraction",content:{description:"Historical development of abstraction mechanisms:",items:[{icon:"",text:"Static Variables",detail:"BASIC - global variables only"},{icon:"",text:"Local Variables",detail:"Fortran, Algol - scoped to functions"},{icon:"",text:"Modules",detail:"Modula-2, Ada 83 - collection of related code"},{icon:"",text:"Module Types",detail:"Euclid - instantiable modules"},{icon:"",text:"Objects",detail:"Smalltalk, C++, Java - full OOP"}]}},{id:3,section:"intro",type:"concept",title:"Why Abstraction?",content:{description:"Benefits of data abstraction:",items:[{icon:"",text:"Easier to Think About",detail:"Hide what doesn't matter to the programmer"},{icon:"",text:"Protection",detail:"Prevent access to implementation details"},{icon:"",text:"Plug Compatibility",detail:"Replace implementations without changing clients"},{icon:"",text:"Division of Labor",detail:"Teams can work on different components"}]}},{id:4,section:"oop",type:"concept",title:"Three Pillars of OOP",content:{description:"The key factors in object-oriented programming:",items:[{icon:"",text:"Encapsulation",detail:"Bundling data with methods, hiding internals"},{icon:"",text:"Inheritance",detail:"Deriving new classes from existing ones"},{icon:"",text:"Polymorphism",detail:"Dynamic method binding - same interface, different behavior"}],note:"Simula 67 introduced inheritance and dynamic binding but lacked data hiding"},interactive:{type:"three-pillars"}},{id:5,section:"encapsulation",type:"concept",title:"Encapsulation",content:{description:"Bundling data and methods, controlling access:",items:[{icon:"",text:"Public",detail:"Accessible to anyone"},{icon:"",text:"Protected",detail:"Accessible to class and its subclasses"},{icon:"",text:"Private",detail:"Accessible only within the class"}],code:`class BankAccount {
private:
    double balance;     // Hidden!
public:
    void deposit(double amt);
    double getBalance();
};`},interactive:{type:"access-modifiers"}},{id:6,section:"encapsulation",type:"concept",title:"Constructors and Destructors",content:{description:"Automatic initialization and cleanup:",items:[{icon:"",text:"Constructor",detail:"Called when object is created - initialize state"},{icon:"",text:"Destructor",detail:"Called when object is destroyed - cleanup resources"},{icon:"",text:"RAII",detail:"Resource Acquisition Is Initialization (C++)"}],code:`class File {
public:
    File(string name) { fp = open(name); }  // Constructor
    ~File() { close(fp); }                   // Destructor
private:
    FILE* fp;
};`}},{id:7,section:"inheritance",type:"concept",title:"Inheritance",content:{description:"Creating new classes from existing ones:",items:[{icon:"",text:"Base/Parent Class",detail:"The class being inherited from"},{icon:"",text:"Derived/Child Class",detail:"The class that inherits"},{icon:"",text:"Extension",detail:"Child adds new members"},{icon:"",text:"Override",detail:"Child replaces parent's method"}],code:`class Animal {
    void speak() { cout << "..."; }
};
class Dog : public Animal {
    void speak() { cout << "Woof!"; }  // Override
    void fetch() { /* new method */ }   // Extend
};`},interactive:{type:"inheritance"}},{id:8,section:"inheritance",type:"concept",title:"Object Memory Layout",content:{description:"How derived objects are laid out in memory:",items:[{icon:"",text:"Parent First",detail:"Base class members come first"},{icon:"",text:"Extension",detail:"Derived class adds members at the end"},{icon:"",text:"Pointer Compatibility",detail:"Child* can be used as Parent*"}]},interactive:{type:"object-layout"}},{id:9,section:"dynamic",type:"concept",title:"Dynamic Method Binding",content:{description:"Choosing the right method at runtime:",items:[{icon:"",text:"Runtime Decision",detail:"Method chosen based on actual object type, not variable type"},{icon:"",text:"Virtual Functions",detail:"C++ keyword to enable dynamic binding"},{icon:"",text:"Vtable",detail:"Table of function pointers for virtual methods"}],code:`Animal* a = new Dog();
a->speak();  // Which speak()?
// Static: Animal::speak()
// Dynamic (virtual): Dog::speak()`},interactive:{type:"dynamic-binding"}},{id:10,section:"dynamic",type:"concept",title:"Vtable Implementation",content:{description:"How virtual functions work under the hood:",items:[{icon:"",text:"Vtable",detail:"Per-class table of function pointers"},{icon:"",text:"Vptr",detail:"Per-object pointer to its class's vtable"},{icon:"",text:"Lookup",detail:"Call = vptr->vtable[method_index]()"},{icon:"",text:"Cost",detail:"One extra indirection (pointer chase)"}]},interactive:{type:"vtable"}},{id:11,section:"dynamic",type:"concept",title:"Abstract Classes and Interfaces",content:{description:"Classes that cannot be instantiated:",items:[{icon:"",text:"Abstract Class",detail:"Has at least one pure virtual function"},{icon:"0",text:"Pure Virtual",detail:"virtual void f() = 0; (no implementation)"},{icon:"",text:"Interface",detail:"All methods abstract (Java, C#)"},{icon:"",text:"Contract",detail:"Defines what derived classes must implement"}],code:`class Shape {  // Abstract
public:
    virtual double area() = 0;  // Pure virtual
};
// Shape s;  // ERROR - can't instantiate
class Circle : public Shape {
    double area() { return 3.14 * r * r; }  // Must implement
};`}},{id:12,section:"multiple",type:"comparison",title:"Single vs Multiple Inheritance",content:{approaches:[{name:"Single Inheritance",characteristics:["One parent class only","Simple, unambiguous","Linear hierarchy","Java, C#, Ruby"]},{name:"Multiple Inheritance",characteristics:["Multiple parent classes","Diamond problem","Name conflicts","C++, Python"]}]},interactive:{type:"inheritance-types"}},{id:13,section:"multiple",type:"concept",title:"The Diamond Problem",content:{description:"Ambiguity with multiple inheritance:",items:[{icon:"",text:"Diamond Shape",detail:"D inherits B and C, both inherit A"},{icon:"",text:"Which A?",detail:"Does D have one A or two?"},{icon:"",text:"C++ Solution",detail:"Virtual base classes for shared parent"}]},interactive:{type:"diamond"}},{id:14,section:"multiple",type:"concept",title:"Mix-In Inheritance (Interfaces)",content:{description:"The modern solution to multiple inheritance:",items:[{icon:"1",text:"One Real Parent",detail:"Single inheritance for implementation"},{icon:"",text:"Multiple Interfaces",detail:"Implement many interfaces"},{icon:"",text:"No Diamond Problem",detail:"Interfaces have no state"},{icon:"",text:"Dominant Approach",detail:"Java, C#, Go, Swift"}],code:`interface Drawable { void draw(); }
interface Serializable { void save(); }

class Shape implements Drawable, Serializable {
    void draw() { /* ... */ }
    void save() { /* ... */ }
}`}},{id:15,section:"typing",type:"comparison",title:"Static vs Dynamic OOP",content:{approaches:[{name:"Static (C++, Java)",characteristics:["Types checked at compile time","Virtual keyword needed (C++)","vtable per class","Fast method dispatch"]},{name:"Dynamic (Smalltalk, Python)",characteristics:["Types checked at runtime","All methods 'virtual'","Message passing model","Duck typing"]}]}},{id:16,section:"impl",type:"concept",title:"The this/self Pointer",content:{description:"How methods know which object they're operating on:",items:[{icon:"",text:"Hidden Parameter",detail:"Every method receives pointer to object"},{icon:"",text:"this (C++, Java)",detail:"Pointer to current object"},{icon:"",text:"self (Python)",detail:"Explicit first parameter"},{icon:"",text:"current (Eiffel)",detail:"Reference to current object"}],code:`// What the compiler sees:
// obj.method(x)  method(&obj, x)

class C {
    int x;
    void f() { x = 5; }  // this->x = 5
};`}},{id:17,section:"languages",type:"table",title:"OOP Language Comparison",content:{headers:["Feature","C++","Java","Python","Smalltalk"],rows:[["All methods virtual?","No","Yes","Yes","Yes"],["Multiple inheritance?","Yes","Interfaces","Yes","No"],["Destructors?","Yes","Finalizers","No","No"],["Static typing?","Yes","Yes","No","No"],["Everything an object?","No","Almost","Yes","Yes"]]}},{id:18,section:"languages",type:"concept",title:"Smalltalk: Pure OOP",content:{description:"The canonical object-oriented language:",items:[{icon:"",text:"Everything is an Object",detail:"Even numbers, classes, code blocks"},{icon:"",text:"Message Passing",detail:"Objects communicate via messages"},{icon:"",text:"All Methods Virtual",detail:"Dynamic binding by default"},{icon:"",text:"Live Environment",detail:"Interactive, image-based development"}],code:`"Smalltalk example"
3 + 4          "send + message to 3"
'hello' size   "send size message to string"`}},{id:19,section:"languages",type:"concept",title:"Is C++ Object-Oriented?",content:{description:"C++ supports but doesn't enforce OOP:",items:[{icon:"",text:"Has OOP Features",detail:"Classes, inheritance, virtual functions"},{icon:"",text:"Multi-Paradigm",detail:"Also procedural, generic, functional"},{icon:"",text:"Pay-for-what-you-use",detail:"Virtual only when needed"},{icon:"",text:"Escape Hatches",detail:"Can bypass abstraction (pointers, friends)"}],note:"C++ CAN be used in an OOP style, but doesn't require it"}},{id:20,section:"summary",type:"summary",title:"Chapter 10 Summary",content:{sections:[{title:"Core Concepts",points:["Encapsulation: hide implementation details","Inheritance: extend existing classes","Polymorphism: same interface, different behavior"]},{title:"Implementation",points:["Vtables for virtual function dispatch","this pointer passed to all methods","Derived objects extend parent layout"]},{title:"Design Choices",points:["Single vs multiple inheritance","Interfaces for safe multiple inheritance","Static vs dynamic method binding"]}]}}],sg=()=>{const[s,o]=w.useState("encapsulation"),d={encapsulation:{title:"Encapsulation",icon:"",description:"Bundle data and methods together, hide implementation details",example:`class BankAccount {
  private balance;  // Hidden
  public deposit(amt) { balance += amt; }
  public getBalance() { return balance; }
}`},inheritance:{title:"Inheritance",icon:"",description:"Create new classes based on existing ones, reuse code",example:`class Animal { void speak(); }
class Dog extends Animal {
  void speak() { print("Woof!"); }
  void fetch() { /* new */ }
}`},polymorphism:{title:"Polymorphism",icon:"",description:"Same interface, different behavior based on actual type",example:`Animal a = new Dog();
a.speak();  // "Woof!" - Dog's method
Animal b = new Cat();
b.speak();  // "Meow!" - Cat's method`}},r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-violet-400 text-lg mb-4 font-mono",children:"Interactive: Three Pillars of OOP"}),a.jsx("div",{className:"flex gap-3 mb-6 justify-center",children:Object.entries(d).map(([m,f])=>a.jsxs("button",{onClick:()=>o(m),className:`px-5 py-3 rounded-lg text-lg flex items-center gap-2 ${s===m?"bg-violet-500 text-white":"bg-slate-700"}`,children:[a.jsx("span",{className:"text-2xl",children:f.icon}),f.title]},m))}),a.jsxs("div",{className:"bg-slate-900 p-5 rounded-lg",children:[a.jsxs("div",{className:"text-violet-400 font-bold text-2xl mb-3",children:[r.icon," ",r.title]}),a.jsx("div",{className:"text-slate-300 text-xl mb-4",children:r.description}),a.jsx("pre",{className:"text-green-400 font-mono text-base bg-slate-950 p-4 rounded",children:r.example})]})]})},ig=()=>{const[s,o]=w.useState("class"),d=[{name:"publicMethod()",access:"public",emoji:""},{name:"protectedData",access:"protected",emoji:""},{name:"privateSecret",access:"private",emoji:""}],r=m=>s==="class"?!0:s==="subclass"?m!=="private":s==="outside"?m==="public":!1;return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-violet-400 text-lg mb-4 font-mono",children:"Interactive: Access Modifiers"}),a.jsx("div",{className:"flex gap-3 mb-6 justify-center",children:[{id:"class",label:"Same Class"},{id:"subclass",label:"Subclass"},{id:"outside",label:"Outside Code"}].map(m=>a.jsx("button",{onClick:()=>o(m.id),className:`px-5 py-2 rounded-lg text-lg ${s===m.id?"bg-violet-500 text-white":"bg-slate-700"}`,children:m.label},m.id))}),a.jsx("div",{className:"space-y-3",children:d.map((m,f)=>{const g=r(m.access);return a.jsxs("div",{className:`p-4 rounded-lg flex items-center justify-between ${g?"bg-green-500/20 border border-green-500":"bg-red-500/20 border border-red-500"}`,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-2xl",children:m.emoji}),a.jsx("span",{className:"font-mono text-xl text-white",children:m.name}),a.jsx("span",{className:`px-2 py-1 rounded text-sm ${m.access==="public"?"bg-green-500/30 text-green-400":m.access==="protected"?"bg-amber-500/30 text-amber-400":"bg-red-500/30 text-red-400"}`,children:m.access})]}),a.jsx("span",{className:`text-xl font-bold ${g?"text-green-400":"text-red-400"}`,children:g?" Accessible":" Not Accessible"})]},f)})})]})},cg=()=>{const[s,o]=w.useState(!1);return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-violet-400 text-lg mb-4 font-mono",children:"Interactive: Inheritance"}),a.jsxs("div",{className:"flex gap-3 mb-6 justify-center",children:[a.jsx("button",{onClick:()=>o(!1),className:`px-5 py-2 rounded-lg text-lg ${s?"bg-slate-700":"bg-blue-500 text-white"}`,children:"Base: Animal"}),a.jsx("button",{onClick:()=>o(!0),className:`px-5 py-2 rounded-lg text-lg ${s?"bg-violet-500 text-white":"bg-slate-700"}`,children:"Derived: Dog"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:`p-4 rounded-lg border-2 ${s?"border-slate-600 bg-slate-900":"border-blue-500 bg-blue-500/10"}`,children:[a.jsx("div",{className:"text-blue-400 font-bold text-xl mb-3",children:"class Animal"}),a.jsxs("div",{className:"space-y-2 font-mono",children:[a.jsx("div",{className:"text-slate-300",children:"- name: string"}),a.jsx("div",{className:"text-slate-300",children:"- age: int"}),a.jsx("div",{className:"text-green-400",children:"+ speak(): void"}),a.jsx("div",{className:"text-green-400",children:"+ eat(): void"})]})]}),a.jsxs("div",{className:`p-4 rounded-lg border-2 ${s?"border-violet-500 bg-violet-500/10":"border-slate-600 bg-slate-900"}`,children:[a.jsx("div",{className:"text-violet-400 font-bold text-xl mb-3",children:"class Dog : Animal"}),a.jsxs("div",{className:"space-y-2 font-mono",children:[a.jsx("div",{className:"text-slate-500",children:"// Inherited:"}),a.jsx("div",{className:"text-slate-500",children:"- name, age"}),a.jsx("div",{className:"text-amber-400",children:"+ speak() // Override"}),a.jsx("div",{className:"text-slate-500",children:"+ eat()"}),a.jsx("div",{className:"text-slate-500",children:"// New:"}),a.jsx("div",{className:"text-green-400",children:"+ fetch(): void"}),a.jsx("div",{className:"text-green-400",children:"+ bark(): void"})]})]})]}),s&&a.jsx("div",{className:"mt-4 bg-violet-500/20 p-4 rounded-lg",children:a.jsx("div",{className:"text-violet-400",children:"Dog inherits from Animal: gets name, age, eat(). Overrides speak(), adds fetch(), bark()"})})]})},og=()=>a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-violet-400 text-lg mb-4 font-mono",children:"Interactive: Object Memory Layout"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-blue-400 font-bold text-lg mb-2",children:"Animal object"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"p-3 bg-slate-700 rounded text-center font-mono",children:"vptr"}),a.jsx("div",{className:"p-3 bg-blue-500/30 rounded text-center font-mono",children:"name"}),a.jsx("div",{className:"p-3 bg-blue-500/30 rounded text-center font-mono",children:"age"})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-violet-400 font-bold text-lg mb-2",children:"Dog object"}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"p-3 bg-slate-700 rounded text-center font-mono",children:"vptr"}),a.jsx("div",{className:"p-3 bg-blue-500/30 rounded text-center font-mono border-l-4 border-blue-500",children:"name"}),a.jsx("div",{className:"p-3 bg-blue-500/30 rounded text-center font-mono border-l-4 border-blue-500",children:"age"}),a.jsx("div",{className:"p-3 bg-violet-500/30 rounded text-center font-mono border-l-4 border-violet-500",children:"breed"})]}),a.jsx("div",{className:"mt-2 text-slate-400 text-sm",children:" Parent part |  New fields"})]})]}),a.jsxs("div",{className:"mt-4 bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-300",children:"Dog* d = new Dog();"}),a.jsxs("div",{className:"text-slate-300",children:["Animal* a = d; ",a.jsx("span",{className:"text-green-400",children:"// OK! Points to same address"})]}),a.jsx("div",{className:"text-slate-400 text-sm mt-2",children:"Both pointers have same value - Dog layout starts with Animal layout"})]})]}),rg=()=>{const[s,o]=w.useState(!0);return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-violet-400 text-lg mb-4 font-mono",children:"Interactive: Static vs Dynamic Binding"}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4 font-mono text-lg",children:[a.jsx("span",{className:"text-blue-400",children:"Animal"}),"* a = ",a.jsx("span",{className:"text-violet-400",children:"new Dog()"}),";",a.jsx("br",{}),"a->speak();  ",a.jsx("span",{className:"text-slate-500",children:"// Which speak() is called?"})]}),a.jsxs("div",{className:"flex gap-3 mb-6 justify-center",children:[a.jsx("button",{onClick:()=>o(!1),className:`px-5 py-2 rounded-lg text-lg ${s?"bg-slate-700":"bg-blue-500 text-white"}`,children:"Non-Virtual (static)"}),a.jsx("button",{onClick:()=>o(!0),className:`px-5 py-2 rounded-lg text-lg ${s?"bg-violet-500 text-white":"bg-slate-700"}`,children:"Virtual (dynamic)"})]}),a.jsx("div",{className:`p-5 rounded-lg ${s?"bg-violet-500/20 border border-violet-500":"bg-blue-500/20 border border-blue-500"}`,children:s?a.jsxs("div",{children:[a.jsx("div",{className:"text-violet-400 text-2xl font-bold mb-2",children:"Dog::speak() called!"}),a.jsx("div",{className:"text-slate-300 text-lg",children:"Runtime looks at actual object type (Dog), uses Dog's method"}),a.jsx("div",{className:"text-slate-400 mt-2",children:'Output: "Woof!"'})]}):a.jsxs("div",{children:[a.jsx("div",{className:"text-blue-400 text-2xl font-bold mb-2",children:"Animal::speak() called!"}),a.jsx("div",{className:"text-slate-300 text-lg",children:"Compiler uses declared type (Animal*), ignores actual type"}),a.jsx("div",{className:"text-slate-400 mt-2",children:'Output: "..."'})]})})]})},dg=()=>{const[s,o]=w.useState("dog"),d={animal:["Animal::speak","Animal::eat"],dog:["Dog::speak","Animal::eat","Dog::fetch"]};return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-violet-400 text-lg mb-4 font-mono",children:"Interactive: Vtable Lookup"}),a.jsxs("div",{className:"flex gap-3 mb-6 justify-center",children:[a.jsx("button",{onClick:()=>o("animal"),className:`px-5 py-2 rounded-lg text-lg ${s==="animal"?"bg-blue-500 text-white":"bg-slate-700"}`,children:"Animal object"}),a.jsx("button",{onClick:()=>o("dog"),className:`px-5 py-2 rounded-lg text-lg ${s==="dog"?"bg-violet-500 text-white":"bg-slate-700"}`,children:"Dog object"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base mb-2",children:"Object"}),a.jsx("div",{className:"p-3 bg-amber-500/30 rounded text-center font-mono mb-1",children:"vptr "}),a.jsx("div",{className:"p-3 bg-slate-700 rounded text-center font-mono mb-1",children:"data..."})]}),a.jsx("div",{className:"flex items-center justify-center text-4xl text-slate-500",children:""}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:`text-base mb-2 ${s==="dog"?"text-violet-400":"text-blue-400"}`,children:s==="dog"?"Dog vtable":"Animal vtable"}),d[s].map((r,m)=>a.jsxs("div",{className:`p-2 rounded text-center font-mono mb-1 text-sm ${r.startsWith("Dog")?"bg-violet-500/30 text-violet-400":"bg-blue-500/30 text-blue-400"}`,children:["[",m,"] ",r]},m))]})]}),a.jsxs("div",{className:"mt-4 bg-slate-900 p-4 rounded-lg font-mono text-base",children:[a.jsx("span",{className:"text-slate-400",children:"// obj->speak() compiles to:"}),a.jsx("br",{}),"(obj->vptr[0])(obj)  ",a.jsxs("span",{className:"text-green-400",children:["// ",d[s][0]]})]})]})},dx=()=>{const[s,o]=w.useState(!1);return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-violet-400 text-lg mb-4 font-mono",children:"Interactive: Diamond Problem"}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsxs("svg",{width:"200",height:"180",className:"text-white",children:[a.jsx("rect",{x:"75",y:"10",width:"50",height:"30",fill:"#3b82f6",rx:"4"}),a.jsx("text",{x:"100",y:"30",textAnchor:"middle",fill:"white",fontSize:"14",children:"A"}),a.jsx("rect",{x:"25",y:"70",width:"50",height:"30",fill:"#8b5cf6",rx:"4"}),a.jsx("text",{x:"50",y:"90",textAnchor:"middle",fill:"white",fontSize:"14",children:"B"}),a.jsx("rect",{x:"125",y:"70",width:"50",height:"30",fill:"#8b5cf6",rx:"4"}),a.jsx("text",{x:"150",y:"90",textAnchor:"middle",fill:"white",fontSize:"14",children:"C"}),a.jsx("rect",{x:"75",y:"130",width:"50",height:"30",fill:"#f43f5e",rx:"4"}),a.jsx("text",{x:"100",y:"150",textAnchor:"middle",fill:"white",fontSize:"14",children:"D"}),a.jsx("line",{x1:"85",y1:"40",x2:"60",y2:"70",stroke:"white",strokeWidth:"2"}),a.jsx("line",{x1:"115",y1:"40",x2:"140",y2:"70",stroke:"white",strokeWidth:"2"}),a.jsx("line",{x1:"60",y1:"100",x2:"85",y2:"130",stroke:"white",strokeWidth:"2"}),a.jsx("line",{x1:"140",y1:"100",x2:"115",y2:"130",stroke:"white",strokeWidth:"2"})]})}),a.jsxs("div",{className:"flex gap-3 mb-4 justify-center",children:[a.jsx("button",{onClick:()=>o(!1),className:`px-4 py-2 rounded-lg text-lg ${s?"bg-slate-700":"bg-red-500 text-white"}`,children:"Regular Inheritance"}),a.jsx("button",{onClick:()=>o(!0),className:`px-4 py-2 rounded-lg text-lg ${s?"bg-green-500 text-white":"bg-slate-700"}`,children:"Virtual Inheritance"})]}),a.jsx("div",{className:`p-4 rounded-lg ${s?"bg-green-500/20":"bg-red-500/20"}`,children:s?a.jsxs("div",{children:[a.jsx("div",{className:"text-green-400 text-xl font-bold mb-2",children:" One copy of A"}),a.jsx("div",{className:"text-slate-300",children:"class B : virtual public A"}),a.jsx("div",{className:"text-slate-300",children:"class C : virtual public A"}),a.jsx("div",{className:"text-slate-300",children:"D has single, shared A"})]}):a.jsxs("div",{children:[a.jsx("div",{className:"text-red-400 text-xl font-bold mb-2",children:" Two copies of A!"}),a.jsx("div",{className:"text-slate-300",children:"D contains B's A and C's A"}),a.jsx("div",{className:"text-slate-300",children:"d.x is ambiguous - which A's x?"})]})})]})},ug=({slide:s})=>a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[a.jsx("div",{className:"text-7xl mb-8",children:""}),a.jsx("h1",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.subtitle&&a.jsx("h2",{className:"text-2xl text-violet-400 mb-10",children:s.content.subtitle}),a.jsx("div",{className:"mt-8 flex flex-wrap gap-3 justify-center max-w-3xl",children:s.content.topics?.map((o,d)=>a.jsx("span",{className:"px-4 py-2 bg-slate-800 text-slate-300 rounded-full text-lg",children:o},d))})]}),Qm=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.description}),s.content.items&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:s.content.items.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl flex items-start gap-4",children:[o.icon&&a.jsx("span",{className:"text-5xl",children:o.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold text-2xl",children:o.text}),o.detail&&a.jsx("p",{className:"text-slate-300 text-xl mt-2",children:o.detail})]})]},d))}),s.content.code&&a.jsx("div",{className:"mt-6 bg-slate-900 p-5 rounded-lg",children:a.jsx("pre",{className:"text-green-400 font-mono text-lg whitespace-pre-wrap",children:s.content.code})}),s.content.note&&a.jsx("p",{className:"mt-6 text-violet-400 italic text-xl",children:s.content.note}),s.interactive?.type==="three-pillars"&&a.jsx(sg,{}),s.interactive?.type==="access-modifiers"&&a.jsx(ig,{}),s.interactive?.type==="inheritance"&&a.jsx(cg,{}),s.interactive?.type==="object-layout"&&a.jsx(og,{}),s.interactive?.type==="dynamic-binding"&&a.jsx(rg,{}),s.interactive?.type==="vtable"&&a.jsx(dg,{}),s.interactive?.type==="diamond"&&a.jsx(dx,{})]}),mg=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.content.approaches?.map((o,d)=>a.jsxs("div",{className:`p-6 rounded-xl border-2 ${d===0?"border-blue-500 bg-blue-500/10":"border-violet-500 bg-violet-500/10"}`,children:[a.jsx("h3",{className:`font-bold text-2xl mb-3 ${d===0?"text-blue-400":"text-violet-400"}`,children:o.name}),o.characteristics&&a.jsx("ul",{className:"space-y-2",children:o.characteristics.map((r,m)=>a.jsxs("li",{className:"text-slate-300 text-xl",children:[" ",r]},m))})]},d))}),s.interactive?.type==="inheritance-types"&&a.jsx(dx,{})]}),xg=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-xl",children:[a.jsx("thead",{children:a.jsx("tr",{className:"border-b border-slate-700",children:s.content.headers?.map((o,d)=>a.jsx("th",{className:"text-left p-4 text-violet-400 font-bold text-xl",children:o},d))})}),a.jsx("tbody",{children:s.content.rows?.map((o,d)=>a.jsx("tr",{className:"border-b border-slate-800",children:o.map((r,m)=>a.jsx("td",{className:`p-4 text-xl ${m===0?"text-white font-medium":"text-slate-300"}`,children:r},m))},d))})]})})]}),pg=({slide:s})=>a.jsxs("div",{className:"h-full p-8 flex flex-col justify-center overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-10 text-center",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.content.sections?.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-violet-400 font-bold text-2xl mb-5",children:o.title}),a.jsx("ul",{className:"space-y-3",children:o.points.map((r,m)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-400 mt-1 text-xl",children:""}),a.jsx("span",{className:"text-slate-300 text-xl",children:r})]},m))})]},d))})]}),hg=({slide:s})=>{switch(s.type){case"title":return a.jsx(ug,{slide:s});case"concept":return a.jsx(Qm,{slide:s});case"comparison":return a.jsx(mg,{slide:s});case"table":return a.jsx(xg,{slide:s});case"summary":return a.jsx(pg,{slide:s});default:return a.jsx(Qm,{slide:s})}};function fg({onBackToChapters:s}){const[o,d]=w.useState(0),[r,m]=w.useState(!1),f=[...new Set(Ut.map(h=>h.section))],g=w.useCallback(h=>{h.key==="ArrowRight"||h.key===" "?d(p=>Math.min(p+1,Ut.length-1)):h.key==="ArrowLeft"?d(p=>Math.max(p-1,0)):h.key==="Escape"?m(!1):h.key==="m"&&m(p=>!p)},[]);w.useEffect(()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)),[g]);const N=Ut[o];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm z-40 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>m(!r),className:"p-2 hover:bg-slate-700 rounded",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsx("span",{className:"text-violet-400 font-bold text-lg",children:"Ch 10: OOP"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-slate-400",children:[o+1," / ",Ut.length]}),a.jsx("button",{type:"button",onClick:s,"aria-label":"Back to chapters",title:"Back to chapters",className:"p-1.5 rounded-full border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 hover:bg-slate-700/60 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"px-3 py-1 bg-slate-700 text-slate-300 rounded text-sm",children:N.section})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>m(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-slate-800 p-4 overflow-auto",onClick:h=>h.stopPropagation(),children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Chapter 10 Slides"}),f.map(h=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-violet-400 text-sm uppercase tracking-wider mb-2",children:h}),Ut.filter(p=>p.section===h).map(p=>a.jsxs("button",{onClick:()=>{d(Ut.indexOf(p)),m(!1)},className:`block w-full text-left px-3 py-2 rounded mb-1 text-base ${Ut.indexOf(p)===o?"bg-violet-500 text-white":"hover:bg-slate-700"}`,children:[a.jsx("span",{className:"text-xs opacity-60 mr-2",children:p.id}),p.title]},p.id))]},h))]})}),a.jsx("main",{className:"pt-14 pb-20 min-h-screen",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(hg,{slide:N})})}),a.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("button",{onClick:()=>d(h=>Math.max(h-1,0)),disabled:o===0,className:"flex items-center gap-2 px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-30",children:" Previous"}),a.jsx("div",{className:"flex-1 mx-8",children:a.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-violet-500 transition-all",style:{width:`${(o+1)/Ut.length*100}%`}})})}),a.jsx("button",{onClick:()=>d(h=>Math.min(h+1,Ut.length-1)),disabled:o===Ut.length-1,className:"flex items-center gap-2 px-5 py-2 bg-violet-600 rounded text-lg disabled:opacity-30",children:"Next "})]}),a.jsxs("div",{className:"text-center text-slate-500 text-sm pb-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," navigate  ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:"M"})," menu"]})]})]})}const Gt=[{id:1,section:"intro",type:"title",title:"Chapter 11: Functional Languages",content:{subtitle:"Computing by Composing Functions",topics:["Lambda Calculus","Pure Functions","No Side Effects","Higher-Order Functions","Recursion","Scheme & Haskell"]}},{id:2,section:"intro",type:"concept",title:"Historical Origins",content:{description:"Two models of computation from the 1930s:",items:[{icon:"",text:"Turing Machine",detail:"Computes by changing values in memory cells  Imperative"},{icon:"",text:"Lambda Calculus",detail:"Computes by substituting parameters  Functional"}],note:"Church's thesis: both models are equally powerful (can compute the same things)"}},{id:3,section:"intro",type:"concept",title:"Lambda Calculus",content:{description:"Alonzo Church's foundation for functional programming:",items:[{icon:"",text:"Lambda Abstraction",detail:"x.e creates a function with parameter x and body e"},{icon:"",text:"Application",detail:"(x.e) a substitutes a for x in e"},{icon:"",text:"Beta Reduction",detail:"(x.x+1) 5  5+1  6"}],code:`// Lambda calculus
x.x+1        // Function that adds 1
(x.x+1) 5    // Apply to 5
 5+1  6    // Result`}},{id:4,section:"concepts",type:"concept",title:"The Key Idea",content:{description:"Do everything by composing functions:",items:[{icon:"",text:"No Mutable State",detail:"Variables don't change once bound"},{icon:"",text:"No Side Effects",detail:"Functions only compute values, nothing else"},{icon:"",text:"Composition",detail:"Build complex functions from simple ones"},{icon:"",text:"Referential Transparency",detail:"Same input  always same output"}]},interactive:{type:"pure-vs-impure"}},{id:5,section:"concepts",type:"concept",title:"Essential Features",content:{description:"What functional languages need:",items:[{icon:"1",text:"First-Class Functions",detail:"Functions are values - pass, return, store"},{icon:"",text:"Higher-Order Functions",detail:"Functions that take/return functions"},{icon:"",text:"Powerful Lists",detail:"Primary data structure"},{icon:"",text:"Garbage Collection",detail:"Automatic memory management"},{icon:"",text:"Tail Recursion",detail:"Efficient recursion (no stack growth)"}]}},{id:6,section:"concepts",type:"concept",title:"Recursion Replaces Iteration",content:{description:"No loops - use recursion instead:",items:[{icon:"",text:"Recursive Thinking",detail:"Break problem into smaller same-shaped problems"},{icon:"",text:"Base Case",detail:"Condition that stops recursion"},{icon:"",text:"Tail Recursion",detail:"Last action is recursive call  optimized to loop"}]},interactive:{type:"loop-to-recursion"}},{id:7,section:"hof",type:"concept",title:"Higher-Order Functions",content:{description:"Functions that operate on functions:",items:[{icon:"",text:"Map",detail:"Apply function to each element"},{icon:"",text:"Filter",detail:"Keep elements that satisfy predicate"},{icon:"",text:"Fold/Reduce",detail:"Combine all elements into one value"}],code:`map    (+1) [1,2,3]      [2,3,4]
filter (>2) [1,2,3,4]    [3,4]
fold   (+)  0 [1,2,3]    6`},interactive:{type:"map-filter-fold"}},{id:8,section:"hof",type:"concept",title:"Currying",content:{description:"Transforming multi-argument functions (named after Haskell Curry):",items:[{icon:"",text:"Concept",detail:"f(x,y) becomes f(x)(y) - partial application"},{icon:"",text:"Example",detail:"add x y = x + y; add3 = add 3; add3 5  8"},{icon:"",text:"Building Blocks",detail:"Create specialized functions from general ones"}],code:`-- Haskell currying
add x y = x + y    -- Two arguments
add 3              -- Partial application  function
(add 3) 5          -- Apply to 5  8

-- Same as:
add3 = add 3       -- add3 is a function
add3 5             --  8`},interactive:{type:"currying"}},{id:9,section:"scheme",type:"concept",title:"Scheme: An Elegant Lisp",content:{description:"A simple, clean functional language:",items:[{icon:"",text:"S-Expressions",detail:"Everything is a list: (operator arg1 arg2 ...)"},{icon:"",text:"Prefix Notation",detail:"(+ 3 4) not 3 + 4"},{icon:"",text:"Quote",detail:"'(+ 3 4)  data, not code"},{icon:"",text:"REPL",detail:"Read-Eval-Print Loop"}],code:`(+ 3 4)               7
(* 2 (+ 3 4))         14
'(+ 3 4)              (+ 3 4)  ; quoted = data
(define square 
  (lambda (x) (* x x)))
(square 5)            25`}},{id:10,section:"scheme",type:"concept",title:"Scheme Basics",content:{description:"Core Scheme constructs:",items:[{icon:"",text:"lambda",detail:"(lambda (x) (* x x)) - create function"},{icon:"",text:"define",detail:"(define name value) - bind name"},{icon:"",text:"if",detail:"(if test then else)"},{icon:"",text:"cond",detail:"Multi-way conditional"},{icon:"",text:"let",detail:"Local bindings"}]},interactive:{type:"scheme-eval"}},{id:11,section:"scheme",type:"concept",title:"Lists in Scheme",content:{description:"The fundamental data structure:",items:[{icon:"",text:"cons",detail:"(cons 1 '(2 3))  (1 2 3) - construct"},{icon:"1",text:"car",detail:"(car '(1 2 3))  1 - first element"},{icon:"",text:"cdr",detail:"(cdr '(1 2 3))  (2 3) - rest of list"},{icon:"",text:"null?",detail:"(null? '())  #t - empty test"}],code:`(cons 1 '(2 3))       (1 2 3)
(car '(1 2 3))        1
(cdr '(1 2 3))        (2 3)
(car (cdr '(1 2 3)))  2  ; cadr`},interactive:{type:"list-ops"}},{id:12,section:"haskell",type:"concept",title:"Haskell: Pure Functional",content:{description:"The leading functional research language:",items:[{icon:"",text:"Pure",detail:"No side effects allowed (except in IO monad)"},{icon:"",text:"Lazy",detail:"Expressions evaluated only when needed"},{icon:"",text:"Strong Static Types",detail:"Type inference - rarely write types"},{icon:"",text:"Pattern Matching",detail:"Elegant function definitions"}],code:`-- Haskell factorial
factorial 0 = 1
factorial n = n * factorial (n-1)

-- List comprehension
[x*2 | x <- [1..5]]   [2,4,6,8,10]`}},{id:13,section:"haskell",type:"concept",title:"Lazy Evaluation",content:{description:"Evaluate expressions only when their values are needed:",items:[{icon:"",text:"Delayed",detail:"Arguments not evaluated until used"},{icon:"",text:"Infinite Lists",detail:"[1..] works because we only compute what's needed"},{icon:"",text:"Short-circuit",detail:"if True then x else (1/0) doesn't crash"}],code:`-- Infinite list of ones
ones = 1 : ones        -- [1,1,1,1,...]

-- Take first 5
take 5 ones             [1,1,1,1,1]

-- Natural numbers
nats = [1..]           -- [1,2,3,4,...]
take 3 nats             [1,2,3]`},interactive:{type:"lazy-eval"}},{id:14,section:"haskell",type:"concept",title:"Pattern Matching",content:{description:"Elegant way to define functions by cases:",items:[{icon:"",text:"Multiple Equations",detail:"Each pattern = one case"},{icon:"",text:"Destructuring",detail:"Extract parts of data structures"},{icon:"",text:"Guards",detail:"Conditional patterns"}],code:`-- Pattern matching on list structure
length []     = 0
length (x:xs) = 1 + length xs

-- Pattern matching on values
fib 0 = 0
fib 1 = 1  
fib n = fib (n-1) + fib (n-2)`}},{id:15,section:"haskell",type:"concept",title:"Type Inference",content:{description:"Compiler deduces types automatically:",items:[{icon:"",text:"Automatic",detail:"Rarely need to write type annotations"},{icon:"",text:"Hindley-Milner",detail:"Algorithm infers most general type"},{icon:"",text:"Catches Errors",detail:"Type errors found at compile time"}],code:`-- Types inferred automatically:
add x y = x + y    -- add :: Num a => a -> a -> a

length []     = 0
length (x:xs) = 1 + length xs
                   -- length :: [a] -> Int`}},{id:16,section:"evaluation",type:"comparison",title:"Evaluation Order",content:{approaches:[{name:"Applicative (Eager)",characteristics:["Evaluate arguments first","Used by most languages","May evaluate unused args","Predictable performance"],examples:"Scheme, ML, OCaml"},{name:"Normal (Lazy)",characteristics:["Evaluate args when needed","Never evaluates unused args","Enables infinite structures","Can be slower (memoization helps)"],examples:"Haskell, Miranda"}]}},{id:17,section:"perspective",type:"concept",title:"Advantages of Functional Programming",content:{description:"Why functional programming matters:",items:[{icon:"",text:"Easier to Reason About",detail:"No hidden state changes"},{icon:"",text:"Easier to Test",detail:"Same input  same output, always"},{icon:"",text:"Parallelism",detail:"No shared mutable state  easy to parallelize"},{icon:"",text:"Concise Code",detail:"Programs often surprisingly short"},{icon:"",text:"Refactoring",detail:"Substitution is always safe"}]}},{id:18,section:"perspective",type:"concept",title:"Challenges of Functional Programming",content:{description:"Difficulties with the functional approach:",items:[{icon:"",text:"Von Neumann Mismatch",detail:"Hardware is imperative; FP less efficient"},{icon:"",text:"Data Copying",detail:"Can't mutate  must copy"},{icon:"",text:"Garbage Collection",detail:"Required; can cause pauses"},{icon:"",text:"Different Thinking",detail:"Requires new mental model"},{icon:"",text:"I/O",detail:"Hard to integrate with pure model"}]}},{id:19,section:"perspective",type:"concept",title:"Functional Ideas in Mainstream Languages",content:{description:"Functional features adopted widely:",items:[{icon:"",text:"Lambdas",detail:"Java 8, C++11, Python, JavaScript"},{icon:"",text:"Map/Filter/Reduce",detail:"In almost every modern language"},{icon:"",text:"Immutable Data",detail:"Immutable collections, const"},{icon:"",text:"Closures",detail:"Functions capturing environment"}],code:`// JavaScript functional style
[1,2,3,4,5]
  .filter(x => x > 2)
  .map(x => x * 2)
  .reduce((a,b) => a + b, 0)  //  24`}},{id:20,section:"summary",type:"summary",title:"Chapter 11 Summary",content:{sections:[{title:"Core Ideas",points:["Compute by composing functions","No mutable state, no side effects","Recursion replaces loops"]},{title:"Key Features",points:["First-class & higher-order functions","Map, filter, fold","Lazy evaluation (Haskell)"]},{title:"Languages",points:["Scheme: simple, elegant Lisp","Haskell: pure, lazy, typed","FP ideas now in all languages"]}]}}],gg=()=>{const[s,o]=w.useState(0),[d,r]=w.useState([]),m=()=>(o(N=>N+1),s+1),f=N=>N+1,g=()=>{const N=[1,2,3].map(h=>f(h));r(N)};return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-green-400 text-lg mb-4 font-mono",children:"Interactive: Pure vs Impure Functions"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-red-500/10 border border-red-500 p-4 rounded-lg",children:[a.jsx("div",{className:"text-red-400 font-bold text-xl mb-3",children:" Impure (has side effect)"}),a.jsxs("div",{className:"bg-slate-900 p-3 rounded font-mono text-base mb-3",children:[a.jsx("span",{className:"text-red-400",children:"let"})," count = ",s,";",a.jsx("br",{}),a.jsx("span",{className:"text-red-400",children:"function"})," add() ","{",a.jsx("br",{}),a.jsx("span",{className:"ml-4",children:"count++;"})," ",a.jsx("span",{className:"text-slate-500",children:"// Side effect!"}),a.jsx("br",{}),a.jsx("span",{className:"ml-4",children:"return count;"}),a.jsx("br",{}),"}"]}),a.jsxs("button",{onClick:m,className:"px-4 py-2 bg-red-500 rounded text-lg",children:["Call add()  ",s+1]}),a.jsx("div",{className:"text-slate-400 text-sm mt-2",children:"Result depends on when you call it!"})]}),a.jsxs("div",{className:"bg-green-500/10 border border-green-500 p-4 rounded-lg",children:[a.jsx("div",{className:"text-green-400 font-bold text-xl mb-3",children:" Pure (no side effects)"}),a.jsxs("div",{className:"bg-slate-900 p-3 rounded font-mono text-base mb-3",children:[a.jsx("span",{className:"text-green-400",children:"function"})," add(x) ","{",a.jsx("br",{}),a.jsx("span",{className:"ml-4",children:"return x + 1;"}),a.jsx("br",{}),"}"]}),a.jsx("button",{onClick:g,className:"px-4 py-2 bg-green-500 rounded text-lg",children:"map(add, [1,2,3])"}),d.length>0&&a.jsxs("div",{className:"text-white text-lg mt-2",children:[" [",d.join(", "),"]"]}),a.jsx("div",{className:"text-slate-400 text-sm mt-2",children:"Same input  always same output!"})]})]})]})},bg=()=>{const[s,o]=w.useState(5),[d,r]=w.useState(0),m=[];let f=1;for(let N=s;N>=1;N--)m.push({i:N,acc:f,next:f*N}),f*=N;m.push({i:0,acc:f,done:!0});const g=m[Math.min(d,m.length-1)];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-green-400 text-lg mb-4 font-mono",children:"Interactive: Loop  Recursion"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base mb-2",children:"Imperative (loop)"}),a.jsx("pre",{className:"text-amber-400 font-mono text-sm",children:`result = 1
for i = ${s} downto 1:
    result = result * i
return result`})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base mb-2",children:"Functional (recursion)"}),a.jsx("pre",{className:"text-green-400 font-mono text-sm",children:`fact 0 = 1
fact n = n * fact(n-1)

fact ${s}`})]})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-4 justify-center",children:[a.jsx("span",{className:"text-slate-400",children:"n ="}),a.jsx("input",{type:"range",min:"1",max:"7",value:s,onChange:N=>{o(parseInt(N.target.value)),r(0)},className:"w-32"}),a.jsx("span",{className:"text-white text-xl",children:s})]}),a.jsx("div",{className:"bg-green-500/20 p-4 rounded-lg mb-4",children:g.done?a.jsxs("div",{className:"text-green-400 text-2xl font-bold text-center",children:["factorial(",s,") = ",g.acc]}):a.jsxs("div",{className:"text-green-400 text-xl text-center font-mono",children:["fact(",g.i,") = ",g.i,"  fact(",g.i-1,")  ",g.i,"  ... = ",g.next]})}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>r(0),className:"px-4 py-2 bg-slate-700 rounded",children:"Reset"}),a.jsx("button",{onClick:()=>r(N=>Math.max(0,N-1)),disabled:d===0,className:"px-4 py-2 bg-slate-700 rounded disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>r(N=>Math.min(m.length-1,N+1)),disabled:d>=m.length-1,className:"px-4 py-2 bg-green-600 rounded disabled:opacity-50",children:"Next "})]})]})},vg=()=>{const[s,o]=w.useState("map"),d=[1,2,3,4,5],r={map:{fn:"x => x * 2",result:d.map(f=>f*2),desc:"Apply function to each element"},filter:{fn:"x => x > 2",result:d.filter(f=>f>2),desc:"Keep elements that pass test"},fold:{fn:"(acc, x) => acc + x",result:[d.reduce((f,g)=>f+g,0)],desc:"Combine all elements into one"}},m=r[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-green-400 text-lg mb-4 font-mono",children:"Interactive: Map, Filter, Fold"}),a.jsx("div",{className:"flex gap-3 mb-6 justify-center",children:Object.keys(r).map(f=>a.jsx("button",{onClick:()=>o(f),className:`px-5 py-2 rounded-lg text-lg capitalize ${s===f?"bg-green-500 text-white":"bg-slate-700"}`,children:f},f))}),a.jsx("div",{className:"bg-slate-900 p-5 rounded-lg mb-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-4 text-xl",children:[a.jsxs("span",{className:"text-blue-400 font-mono",children:["[",d.join(", "),"]"]}),a.jsx("span",{className:"text-slate-400",children:""}),a.jsx("span",{className:"text-green-400 font-mono",children:s}),a.jsxs("span",{className:"text-amber-400 font-mono",children:["(",m.fn,")"]}),a.jsx("span",{className:"text-slate-400",children:""}),a.jsx("span",{className:"text-green-400 font-bold font-mono",children:s==="fold"?m.result[0]:`[${m.result.join(", ")}]`})]})}),a.jsx("div",{className:"bg-green-500/20 p-4 rounded-lg text-center",children:a.jsx("div",{className:"text-green-400 text-xl",children:m.desc})})]})},yg=()=>{const[s,o]=w.useState(3),[d,r]=w.useState(5);return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-green-400 text-lg mb-4 font-mono",children:"Interactive: Currying"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"text-slate-400",children:["x = ",s]}),a.jsx("input",{type:"range",min:"1",max:"10",value:s,onChange:m=>o(parseInt(m.target.value)),className:"w-full"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-slate-400",children:["y = ",d]}),a.jsx("input",{type:"range",min:"1",max:"10",value:d,onChange:m=>r(parseInt(m.target.value)),className:"w-full"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("span",{className:"text-green-400 font-mono",children:"add x y = x + y"}),a.jsx("span",{className:"text-slate-500 ml-4",children:"-- Function of two args"})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsxs("span",{className:"text-amber-400 font-mono",children:["add",s," = add ",s]}),a.jsx("span",{className:"text-slate-500 ml-4",children:"-- Partial application"})]}),a.jsx("div",{className:"bg-green-500/20 p-4 rounded-lg",children:a.jsxs("span",{className:"text-green-400 font-mono text-xl",children:["add",s," ",d," = ",s," + ",d," = ",a.jsx("strong",{children:s+d})]})})]}),a.jsxs("div",{className:"mt-4 text-slate-400 text-center",children:["Currying: add",s," is a ",a.jsx("em",{children:"new function"})," waiting for one more argument!"]})]})},jg=()=>{const[s,o]=w.useState("(+ 3 4)"),d=[{expr:"(+ 3 4)",result:"7"},{expr:"(* 2 (+ 3 4))",result:"14"},{expr:"(car '(1 2 3))",result:"1"},{expr:"(cdr '(1 2 3))",result:"(2 3)"},{expr:"(if (< 2 3) 10 20)",result:"10"},{expr:"((lambda (x) (* x x)) 5)",result:"25"}],r=d.find(m=>m.expr===s)||d[0];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-green-400 text-lg mb-4 font-mono",children:"Interactive: Scheme Evaluation"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-4 justify-center",children:d.map((m,f)=>a.jsx("button",{onClick:()=>o(m.expr),className:`px-3 py-2 rounded font-mono text-base ${s===m.expr?"bg-green-500 text-white":"bg-slate-700"}`,children:m.expr},f))}),a.jsx("div",{className:"bg-slate-900 p-5 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-4 text-xl font-mono",children:[a.jsx("span",{className:"text-green-400",children:r.expr}),a.jsx("span",{className:"text-slate-400",children:""}),a.jsx("span",{className:"text-amber-400 font-bold",children:r.result})]})})]})},Ng=()=>{const[s,o]=w.useState("cons"),d={cons:{code:"(cons 1 '(2 3))",result:"(1 2 3)",desc:"Add to front"},car:{code:"(car '(1 2 3))",result:"1",desc:"Get first element"},cdr:{code:"(cdr '(1 2 3))",result:"(2 3)",desc:"Get rest of list"},cadr:{code:"(car (cdr '(1 2 3)))",result:"2",desc:"Second element"}},r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-green-400 text-lg mb-4 font-mono",children:"Interactive: List Operations"}),a.jsx("div",{className:"flex gap-2 mb-4 justify-center",children:Object.keys(d).map(m=>a.jsx("button",{onClick:()=>o(m),className:`px-4 py-2 rounded font-mono text-lg ${s===m?"bg-green-500 text-white":"bg-slate-700"}`,children:m},m))}),a.jsx("div",{className:"bg-slate-900 p-5 rounded-lg mb-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-green-400 font-mono text-2xl mb-2",children:r.code}),a.jsx("div",{className:"text-slate-400",children:""}),a.jsx("div",{className:"text-amber-400 font-mono text-2xl font-bold",children:r.result})]})}),a.jsx("div",{className:"bg-green-500/20 p-4 rounded-lg text-center",children:a.jsx("div",{className:"text-green-400 text-lg",children:r.desc})}),a.jsx("div",{className:"mt-4 flex justify-center gap-1",children:["1","2","3"].map((m,f)=>a.jsx("div",{className:`w-12 h-12 rounded flex items-center justify-center font-mono text-xl ${s==="car"&&f===0||s==="cadr"&&f===1?"bg-amber-500 text-white":s==="cdr"&&f>0?"bg-green-500/50 text-white":"bg-slate-700 text-slate-300"}`,children:m},f))})]})},Sg=()=>{const[s,o]=w.useState(5);return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-green-400 text-lg mb-4 font-mono",children:"Interactive: Lazy Evaluation"}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4 font-mono",children:[a.jsxs("div",{className:"text-green-400",children:["nats = [1..]  ",a.jsx("span",{className:"text-slate-500",children:"-- infinite list!"})]}),a.jsxs("div",{className:"text-green-400",children:["take ",s," nats"]})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-4 justify-center",children:[a.jsx("span",{className:"text-slate-400",children:"Take:"}),a.jsx("input",{type:"range",min:"1",max:"10",value:s,onChange:d=>o(parseInt(d.target.value)),className:"w-32"}),a.jsx("span",{className:"text-white text-xl",children:s})]}),a.jsxs("div",{className:"flex gap-1 justify-center mb-4",children:[Array.from({length:12},(d,r)=>r+1).map((d,r)=>a.jsx("div",{className:`w-10 h-10 rounded flex items-center justify-center font-mono ${r<s?"bg-green-500 text-white":"bg-slate-700 text-slate-500"}`,children:d},r)),a.jsx("div",{className:"w-10 h-10 rounded flex items-center justify-center font-mono bg-slate-800 text-slate-500",children:"..."})]}),a.jsxs("div",{className:"bg-green-500/20 p-4 rounded-lg text-center",children:[a.jsxs("div",{className:"text-green-400 text-lg",children:[" [",Array.from({length:s},(d,r)=>r+1).join(", "),"]"]}),a.jsxs("div",{className:"text-slate-400 text-sm mt-2",children:["Only computes the first ",s," numbers - the rest are never evaluated!"]})]})]})},Tg=({slide:s})=>a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[a.jsx("div",{className:"text-7xl mb-8",children:""}),a.jsx("h1",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.subtitle&&a.jsx("h2",{className:"text-2xl text-green-400 mb-10",children:s.content.subtitle}),a.jsx("div",{className:"mt-8 flex flex-wrap gap-3 justify-center max-w-3xl",children:s.content.topics?.map((o,d)=>a.jsx("span",{className:"px-4 py-2 bg-slate-800 text-slate-300 rounded-full text-lg",children:o},d))})]}),Zm=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.description}),s.content.items&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:s.content.items.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl flex items-start gap-4",children:[o.icon&&a.jsx("span",{className:"text-5xl",children:o.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold text-2xl",children:o.text}),o.detail&&a.jsx("p",{className:"text-slate-300 text-xl mt-2",children:o.detail})]})]},d))}),s.content.code&&a.jsx("div",{className:"mt-6 bg-slate-900 p-5 rounded-lg",children:a.jsx("pre",{className:"text-green-400 font-mono text-lg whitespace-pre-wrap",children:s.content.code})}),s.content.note&&a.jsx("p",{className:"mt-6 text-green-400 italic text-xl",children:s.content.note}),s.interactive?.type==="pure-vs-impure"&&a.jsx(gg,{}),s.interactive?.type==="loop-to-recursion"&&a.jsx(bg,{}),s.interactive?.type==="map-filter-fold"&&a.jsx(vg,{}),s.interactive?.type==="currying"&&a.jsx(yg,{}),s.interactive?.type==="scheme-eval"&&a.jsx(jg,{}),s.interactive?.type==="list-ops"&&a.jsx(Ng,{}),s.interactive?.type==="lazy-eval"&&a.jsx(Sg,{})]}),Cg=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.content.approaches?.map((o,d)=>a.jsxs("div",{className:`p-6 rounded-xl border-2 ${d===0?"border-amber-500 bg-amber-500/10":"border-green-500 bg-green-500/10"}`,children:[a.jsx("h3",{className:`font-bold text-2xl mb-3 ${d===0?"text-amber-400":"text-green-400"}`,children:o.name}),o.characteristics&&a.jsx("ul",{className:"space-y-2",children:o.characteristics.map((r,m)=>a.jsxs("li",{className:"text-slate-300 text-xl",children:[" ",r]},m))}),o.examples&&a.jsxs("p",{className:"text-slate-500 text-lg mt-3",children:["Examples: ",o.examples]})]},d))})]}),wg=({slide:s})=>a.jsxs("div",{className:"h-full p-8 flex flex-col justify-center overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-10 text-center",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.content.sections?.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-green-400 font-bold text-2xl mb-5",children:o.title}),a.jsx("ul",{className:"space-y-3",children:o.points.map((r,m)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-400 mt-1 text-xl",children:""}),a.jsx("span",{className:"text-slate-300 text-xl",children:r})]},m))})]},d))})]}),Eg=({slide:s})=>{switch(s.type){case"title":return a.jsx(Tg,{slide:s});case"concept":return a.jsx(Zm,{slide:s});case"comparison":return a.jsx(Cg,{slide:s});case"summary":return a.jsx(wg,{slide:s});default:return a.jsx(Zm,{slide:s})}};function Ag({onBackToChapters:s}){const[o,d]=w.useState(0),[r,m]=w.useState(!1),f=[...new Set(Gt.map(h=>h.section))],g=w.useCallback(h=>{h.key==="ArrowRight"||h.key===" "?d(p=>Math.min(p+1,Gt.length-1)):h.key==="ArrowLeft"?d(p=>Math.max(p-1,0)):h.key==="Escape"?m(!1):h.key==="m"&&m(p=>!p)},[]);w.useEffect(()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)),[g]);const N=Gt[o];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm z-40 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>m(!r),className:"p-2 hover:bg-slate-700 rounded",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsx("span",{className:"text-green-400 font-bold text-lg",children:"Ch 11: Functional Languages"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-slate-400",children:[o+1," / ",Gt.length]}),a.jsx("button",{type:"button",onClick:s,"aria-label":"Back to chapters",title:"Back to chapters",className:"p-1.5 rounded-full border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 hover:bg-slate-700/60 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"px-3 py-1 bg-slate-700 text-slate-300 rounded text-sm",children:N.section})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>m(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-slate-800 p-4 overflow-auto",onClick:h=>h.stopPropagation(),children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Chapter 11 Slides"}),f.map(h=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-green-400 text-sm uppercase tracking-wider mb-2",children:h}),Gt.filter(p=>p.section===h).map(p=>a.jsxs("button",{onClick:()=>{d(Gt.indexOf(p)),m(!1)},className:`block w-full text-left px-3 py-2 rounded mb-1 text-base ${Gt.indexOf(p)===o?"bg-green-500 text-white":"hover:bg-slate-700"}`,children:[a.jsx("span",{className:"text-xs opacity-60 mr-2",children:p.id}),p.title]},p.id))]},h))]})}),a.jsx("main",{className:"pt-14 pb-20 min-h-screen",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(Eg,{slide:N})})}),a.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("button",{onClick:()=>d(h=>Math.max(h-1,0)),disabled:o===0,className:"flex items-center gap-2 px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-30",children:" Previous"}),a.jsx("div",{className:"flex-1 mx-8",children:a.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-500 transition-all",style:{width:`${(o+1)/Gt.length*100}%`}})})}),a.jsx("button",{onClick:()=>d(h=>Math.min(h+1,Gt.length-1)),disabled:o===Gt.length-1,className:"flex items-center gap-2 px-5 py-2 bg-green-600 rounded text-lg disabled:opacity-30",children:"Next "})]}),a.jsxs("div",{className:"text-center text-slate-500 text-sm pb-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," navigate  ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:"M"})," menu"]})]})]})}const $t=[{id:1,section:"intro",type:"title",title:"Chapter 12: Logic Languages",content:{subtitle:"Programming with Predicates and Proofs",topics:["Predicate Calculus","Horn Clauses","Prolog","Unification","Backtracking","Resolution"]}},{id:2,section:"intro",type:"concept",title:"Logic Programming",content:{description:"Based on predicate calculus - a different way to compute:",items:[{icon:"",text:"Declarative",detail:"Describe WHAT to compute, not HOW"},{icon:"",text:"Predicates",detail:"State relationships: parent(tom, mary)"},{icon:"",text:"Goals",detail:"Ask questions, system finds answers"},{icon:"",text:"Inference",detail:"Computer reasons from facts and rules"}]}},{id:3,section:"intro",type:"concept",title:"Predicates",content:{description:"Building blocks of logic programming:",items:[{icon:"",text:"Structure",detail:"functor(arg1, arg2, ..., argN)"},{icon:"",text:"True or False",detail:"Predicates assert relationships"},{icon:"",text:"Meaning",detail:"We attach meaning; system just manipulates symbols"}],code:`% Examples of predicates
parent(tom, mary).     % tom is parent of mary
enrolled(you, cs101).  % you are enrolled in cs101
rainy(seattle).        % seattle is rainy`}},{id:4,section:"concepts",type:"concept",title:"Horn Clauses",content:{description:"The restricted form that makes logic programming practical:",items:[{icon:"",text:"Fact",detail:"Head only: parent(tom, mary)."},{icon:"",text:"Rule",detail:"Head :- Body: grandparent(X,Z) :- parent(X,Y), parent(Y,Z)."},{icon:"",text:"Query",detail:"Body only: ?- parent(tom, X)."}],note:"Body terms are AND-ed together; :- means 'if'"},interactive:{type:"horn-clauses"}},{id:5,section:"concepts",type:"concept",title:"Facts and Rules",content:{description:"Building a knowledge base:",items:[{icon:"",text:"Facts",detail:"Axioms - things assumed true"},{icon:"",text:"Rules",detail:"Theorems - how to derive new facts"},{icon:"",text:"Variables",detail:"Uppercase: X, Y, Person (can match anything)"},{icon:"",text:"Constants",detail:"Lowercase: tom, mary, 42 (specific values)"}],code:`% Facts (axioms)
parent(tom, mary).
parent(tom, john).
parent(mary, ann).

% Rule (theorem)
grandparent(X, Z) :- 
    parent(X, Y), 
    parent(Y, Z).`}},{id:6,section:"prolog",type:"concept",title:"Prolog",content:{description:"The most widely used logic programming language:",items:[{icon:"",text:"Database",detail:"Collection of facts and rules"},{icon:"",text:"Queries",detail:"Ask questions, get answers"},{icon:"",text:"Backward Chaining",detail:"Start from goal, work back to facts"},{icon:"",text:"Backtracking",detail:"Try alternatives when stuck"}]}},{id:7,section:"prolog",type:"concept",title:"Unification",content:{description:"The key operation - matching and binding:",items:[{icon:"",text:"Pattern Matching",detail:"Make two terms identical"},{icon:"",text:"Instantiation",detail:"Bind variables to values"},{icon:"=",text:"Unification Operator",detail:"X = term tries to unify"}],code:`?- foo(X, b) = foo(a, Y).
X = a, Y = b.    % Success!

?- foo(X, X) = foo(a, b).
no.              % Fails: X can't be both a and b`},interactive:{type:"unification"}},{id:8,section:"prolog",type:"concept",title:"Resolution",content:{description:"How Prolog proves goals:",items:[{icon:"",text:"Goal",detail:"What we want to prove"},{icon:"",text:"Search",detail:"Find rule whose head unifies with goal"},{icon:"",text:"Replace",detail:"Replace goal with body of rule"},{icon:"",text:"Success",detail:"When all goals become facts"}]},interactive:{type:"resolution"}},{id:9,section:"prolog",type:"concept",title:"Backtracking",content:{description:"Systematic search for solutions:",items:[{icon:"",text:"Search Tree",detail:"All possible proof paths"},{icon:"",text:"Depth-First",detail:"Try first option, go deep"},{icon:"",text:"Backtrack",detail:"On failure, undo and try next option"},{icon:"",text:"Multiple Solutions",detail:"Keep backtracking to find all"}]},interactive:{type:"backtracking"}},{id:10,section:"examples",type:"concept",title:"Example: Family Relations",content:{description:"Classic Prolog example:",code:`% Facts
parent(tom, mary).
parent(tom, john).
parent(mary, ann).
parent(mary, pat).
parent(john, jim).

% Rules  
grandparent(X, Z) :- parent(X, Y), parent(Y, Z).
sibling(X, Y) :- parent(P, X), parent(P, Y), X \\= Y.
ancestor(X, Y) :- parent(X, Y).
ancestor(X, Y) :- parent(X, Z), ancestor(Z, Y).`},interactive:{type:"family-tree"}},{id:11,section:"examples",type:"concept",title:"Asking Questions",content:{description:"Running queries against the database:",items:[{icon:"",text:"Yes/No Question",detail:"?- parent(tom, mary).  yes"},{icon:"",text:"Find Values",detail:"?- parent(tom, X).  X = mary; X = john"},{icon:"",text:"Multiple Answers",detail:"Press ; to get more solutions"}],code:`?- grandparent(tom, X).
X = ann ;
X = pat ;
X = jim ;
no

?- ancestor(tom, jim).
yes`}},{id:12,section:"examples",type:"concept",title:"Lists in Prolog",content:{description:"The primary data structure:",items:[{icon:"",text:"Syntax",detail:"[1, 2, 3] or [Head | Tail]"},{icon:"",text:"Pattern Match",detail:"[H|T] splits into head and tail"},{icon:"",text:"Empty List",detail:"[] is the empty list"}],code:`% List membership
member(X, [X|_]).
member(X, [_|T]) :- member(X, T).

% Append lists
append([], L, L).
append([H|T], L, [H|R]) :- append(T, L, R).

?- append([1,2], [3,4], X).
X = [1, 2, 3, 4]`},interactive:{type:"lists"}},{id:13,section:"examples",type:"concept",title:"Arithmetic in Prolog",content:{description:"Special handling needed for math:",items:[{icon:"=",text:"= (unify)",detail:"Pattern matching, NOT evaluation"},{icon:"",text:"is (evaluate)",detail:"X is 2+3 evaluates to X = 5"},{icon:"",text:"Gotcha",detail:"2+3 = 5 fails! (different structures)"}],code:`?- X = 2 + 3.
X = 2+3        % Just unifies, no math!

?- X is 2 + 3.
X = 5          % Evaluates the expression

?- 2 + 3 = 5.
no             % Structure 2+3  atom 5`}},{id:14,section:"semantics",type:"concept",title:"Order Matters!",content:{description:"Prolog is NOT purely declarative:",items:[{icon:"",text:"Database Order",detail:"Rules tried top to bottom"},{icon:"",text:"Goal Order",detail:"Subgoals tried left to right"},{icon:"",text:"Infinite Loops",detail:"Wrong order can cause non-termination"}],code:`% This works:
ancestor(X, Y) :- parent(X, Y).
ancestor(X, Y) :- parent(X, Z), ancestor(Z, Y).

% This loops infinitely:
ancestor(X, Y) :- ancestor(Z, Y), parent(X, Z).
ancestor(X, Y) :- parent(X, Y).`}},{id:15,section:"semantics",type:"concept",title:"Cut (!) and Negation",content:{description:"Control operators that break pure logic:",items:[{icon:"",text:"Cut (!)",detail:"Commit to current choice, no backtracking"},{icon:"",text:"Negation (\\+)",detail:"Negation as failure - succeeds if goal fails"},{icon:"",text:"Non-logical",detail:"These break declarative semantics"}],code:`% Cut prevents backtracking
max(X, Y, X) :- X >= Y, !.
max(X, Y, Y).

% Negation as failure
not_member(X, L) :- \\+ member(X, L).`}},{id:16,section:"comparison",type:"comparison",title:"Logic vs Other Paradigms",content:{approaches:[{name:"Imperative",characteristics:["Explicit step-by-step instructions","Mutable state","Control flow statements","You specify HOW"]},{name:"Logic",characteristics:["Declare facts and rules","No mutable state","Search and backtracking","You specify WHAT"]}]}},{id:17,section:"perspective",type:"concept",title:"Advantages of Logic Programming",content:{description:"When logic programming shines:",items:[{icon:"",text:"Natural for Some Problems",detail:"Databases, expert systems, NLP"},{icon:"",text:"Concise",detail:"What takes 100 lines in C may be 5 in Prolog"},{icon:"",text:"Bidirectional",detail:"Same relation works forward and backward"},{icon:"",text:"Built-in Search",detail:"Backtracking is automatic"}]}},{id:18,section:"perspective",type:"concept",title:"Challenges of Logic Programming",content:{description:"Difficulties with the logic approach:",items:[{icon:"",text:"Performance",detail:"Search can be slow"},{icon:"",text:"Termination",detail:"Easy to write infinite loops"},{icon:"",text:"Different Thinking",detail:"Requires new mental model"},{icon:"",text:"Arithmetic",detail:"Awkward handling of math"},{icon:"",text:"I/O",detail:"Side effects don't fit model"}]}},{id:19,section:"perspective",type:"concept",title:"Applications of Logic Programming",content:{description:"Where Prolog and logic programming are used:",items:[{icon:"",text:"Expert Systems",detail:"Encode domain knowledge as rules"},{icon:"",text:"Natural Language",detail:"Grammar rules, parsing"},{icon:"",text:"Databases",detail:"Query languages (SQL is related)"},{icon:"",text:"Theorem Proving",detail:"Automated reasoning"},{icon:"",text:"Symbolic AI",detail:"Knowledge representation"}]}},{id:20,section:"summary",type:"summary",title:"Chapter 12 Summary",content:{sections:[{title:"Core Concepts",points:["Predicates declare relationships","Horn clauses: facts, rules, queries","Describe WHAT, not HOW"]},{title:"Prolog Execution",points:["Unification matches patterns","Resolution proves goals","Backtracking finds all solutions"]},{title:"Practical Issues",points:["Order of clauses matters","Cut and negation break purity","Good for symbolic AI, NLP"]}]}}],kg=()=>{const[s,o]=w.useState("fact"),d={fact:{type:"Fact",code:"parent(tom, mary).",meaning:"Tom is the parent of Mary.",structure:"Head only - no body, no conditions"},rule:{type:"Rule",code:"grandparent(X, Z) :- parent(X, Y), parent(Y, Z).",meaning:"X is grandparent of Z if X is parent of Y AND Y is parent of Z.",structure:"Head :- Body (head if body)"},query:{type:"Query",code:"?- grandparent(tom, X).",meaning:"Who is Tom the grandparent of?",structure:"Body only - what we want to prove"}},r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-blue-400 text-lg mb-4 font-mono",children:"Interactive: Horn Clauses"}),a.jsx("div",{className:"flex gap-3 mb-6 justify-center",children:Object.entries(d).map(([m,f])=>a.jsx("button",{onClick:()=>o(m),className:`px-5 py-2 rounded-lg text-lg ${s===m?"bg-blue-500 text-white":"bg-slate-700"}`,children:f.type},m))}),a.jsx("div",{className:"bg-slate-900 p-5 rounded-lg mb-4",children:a.jsx("div",{className:"text-green-400 font-mono text-2xl text-center",children:r.code})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Meaning"}),a.jsx("div",{className:"text-white text-lg",children:r.meaning})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base",children:"Structure"}),a.jsx("div",{className:"text-blue-400 text-lg",children:r.structure})]})]})]})},Og=()=>{const[s,o]=w.useState(0),d=[{left:"X",right:"5",result:"X = 5",success:!0,explanation:"Variable unifies with constant"},{left:"foo(X, b)",right:"foo(a, Y)",result:"X = a, Y = b",success:!0,explanation:"Variables bound to make structures match"},{left:"foo(X, X)",right:"foo(a, b)",result:"fails",success:!1,explanation:"X cannot be both a and b"},{left:"[H|T]",right:"[1,2,3]",result:"H = 1, T = [2,3]",success:!0,explanation:"List pattern matching"},{left:"f(g(X))",right:"f(Y)",result:"Y = g(X)",success:!0,explanation:"Nested structure unification"}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-blue-400 text-lg mb-4 font-mono",children:"Interactive: Unification"}),a.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:d.map((m,f)=>a.jsx("button",{onClick:()=>o(f),className:`w-10 h-10 rounded-lg ${s===f?"bg-blue-500":"bg-slate-700"}`,children:f+1},f))}),a.jsx("div",{className:"bg-slate-900 p-5 rounded-lg mb-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-4 text-xl font-mono",children:[a.jsx("span",{className:"text-amber-400",children:r.left}),a.jsx("span",{className:"text-slate-400",children:"="}),a.jsx("span",{className:"text-green-400",children:r.right})]})}),a.jsx("div",{className:`p-4 rounded-lg mb-4 ${r.success?"bg-green-500/20 border border-green-500":"bg-red-500/20 border border-red-500"}`,children:a.jsxs("div",{className:`text-2xl font-bold ${r.success?"text-green-400":"text-red-400"}`,children:[r.success?" ":" ",r.result]})}),a.jsx("div",{className:"bg-slate-900 p-4 rounded-lg",children:a.jsx("div",{className:"text-slate-300 text-lg",children:r.explanation})})]})},Mg=()=>{const[s,o]=w.useState(0),d=[{goal:"?- grandparent(tom, X)",action:"Start with query",bindings:{},status:"searching"},{goal:"grandparent(tom, X)",action:"Find rule: grandparent(A,C) :- parent(A,B), parent(B,C)",bindings:{A:"tom",C:"X"},status:"matched"},{goal:"parent(tom, B), parent(B, X)",action:"Replace goal with body",bindings:{A:"tom",C:"X"},status:"searching"},{goal:"parent(tom, B)",action:"Try first subgoal, find: parent(tom, mary)",bindings:{A:"tom",B:"mary",C:"X"},status:"matched"},{goal:"parent(mary, X)",action:"Continue with second subgoal, find: parent(mary, ann)",bindings:{A:"tom",B:"mary",C:"ann",X:"ann"},status:"matched"},{goal:"",action:"All goals satisfied!",bindings:{X:"ann"},status:"success"}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-blue-400 text-lg mb-4 font-mono",children:"Interactive: Resolution"}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-slate-400 text-base mb-2",children:"Current Goal(s):"}),a.jsx("div",{className:"text-green-400 font-mono text-xl",children:r.goal||"(empty - done!)"})]}),a.jsx("div",{className:`p-4 rounded-lg mb-4 ${r.status==="success"?"bg-green-500/20":r.status==="matched"?"bg-blue-500/20":"bg-slate-900"}`,children:a.jsx("div",{className:"text-white text-lg",children:r.action})}),Object.keys(r.bindings).length>0&&a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-slate-400 text-base mb-2",children:"Variable Bindings:"}),a.jsx("div",{className:"flex gap-3 flex-wrap",children:Object.entries(r.bindings).map(([m,f])=>a.jsxs("span",{className:"px-3 py-1 bg-blue-500/30 rounded font-mono",children:[m," = ",f]},m))})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-4 py-2 bg-slate-700 rounded",children:"Reset"}),a.jsx("button",{onClick:()=>o(m=>Math.max(0,m-1)),disabled:s===0,className:"px-4 py-2 bg-slate-700 rounded disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>o(m=>Math.min(d.length-1,m+1)),disabled:s>=d.length-1,className:"px-4 py-2 bg-blue-600 rounded disabled:opacity-50",children:"Next "})]})]})},Rg=()=>{const[s,o]=w.useState(0),d=[{current:"parent(tom, X)",tried:[],found:"mary",next:"Try first match"},{current:"parent(tom, X)",tried:["mary"],found:"john",next:"Backtrack, try next"},{current:"parent(tom, X)",tried:["mary","john"],found:null,next:"No more matches"}],r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-blue-400 text-lg mb-4 font-mono",children:"Interactive: Backtracking"}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg mb-4",children:[a.jsx("div",{className:"text-slate-400 text-base mb-2",children:"Query:"}),a.jsxs("div",{className:"text-green-400 font-mono text-xl",children:["?- ",r.current]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-3 rounded-lg text-center",children:[a.jsx("div",{className:"text-slate-400 text-sm",children:"Database"}),a.jsxs("div",{className:"font-mono text-base",children:[a.jsx("div",{className:r.found==="mary"||r.tried.includes("mary")?"text-green-400":"text-slate-500",children:"parent(tom, mary)"}),a.jsx("div",{className:r.found==="john"||r.tried.includes("john")?"text-green-400":"text-slate-500",children:"parent(tom, john)"}),a.jsx("div",{className:"text-slate-500",children:"parent(mary, ann)"})]})]}),a.jsxs("div",{className:"bg-slate-900 p-3 rounded-lg text-center",children:[a.jsx("div",{className:"text-slate-400 text-sm",children:"Already Found"}),a.jsx("div",{className:"text-amber-400 font-mono text-lg",children:r.tried.length>0?r.tried.join(", "):"(none)"})]}),a.jsxs("div",{className:`p-3 rounded-lg text-center ${r.found?"bg-green-500/20":"bg-red-500/20"}`,children:[a.jsx("div",{className:"text-slate-400 text-sm",children:"Current Match"}),a.jsx("div",{className:`font-mono text-xl ${r.found?"text-green-400":"text-red-400"}`,children:r.found?`X = ${r.found}`:"no more"})]})]}),a.jsx("div",{className:"bg-blue-500/20 p-4 rounded-lg mb-4 text-center",children:a.jsx("div",{className:"text-blue-400 text-lg",children:r.next})}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>o(0),className:"px-4 py-2 bg-slate-700 rounded",children:"Reset"}),a.jsx("button",{onClick:()=>o(m=>Math.max(0,m-1)),disabled:s===0,className:"px-4 py-2 bg-slate-700 rounded disabled:opacity-50",children:" Prev"}),a.jsx("button",{onClick:()=>o(m=>Math.min(d.length-1,m+1)),disabled:s>=d.length-1,className:"px-4 py-2 bg-blue-600 rounded disabled:opacity-50",children:"Next  (;)"})]})]})},Lg=()=>{const[s,o]=w.useState("parent(tom, X)"),d=`parent(tom, mary).
parent(tom, john).
parent(mary, ann).
parent(john, jim).`,r={"parent(tom, X)":["X = mary","X = john"],"grandparent(tom, X)":["X = ann","X = jim"],"ancestor(tom, ann)":["yes"],"sibling(mary, X)":["X = john"]};return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-blue-400 text-lg mb-4 font-mono",children:"Interactive: Family Database"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base mb-2",children:"Database:"}),a.jsx("pre",{className:"text-green-400 font-mono text-sm",children:d})]}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-base mb-2",children:"Family Tree:"}),a.jsxs("div",{className:"text-center font-mono",children:[a.jsx("div",{className:"text-amber-400 text-xl",children:"tom"}),a.jsx("div",{className:"text-slate-500",children:" "}),a.jsxs("div",{className:"flex justify-center gap-8",children:[a.jsx("div",{className:"text-blue-400",children:"mary"}),a.jsx("div",{className:"text-blue-400",children:"john"})]}),a.jsxs("div",{className:"flex justify-center gap-12",children:[a.jsx("div",{className:"text-slate-500",children:""}),a.jsx("div",{className:"text-slate-500",children:""})]}),a.jsxs("div",{className:"flex justify-center gap-8",children:[a.jsx("div",{className:"text-green-400",children:"ann"}),a.jsx("div",{className:"text-green-400",children:"jim"})]})]})]})]}),a.jsx("div",{className:"flex gap-2 mb-4 justify-center flex-wrap",children:Object.keys(r).map(m=>a.jsxs("button",{onClick:()=>o(m),className:`px-3 py-2 rounded font-mono text-sm ${s===m?"bg-blue-500 text-white":"bg-slate-700"}`,children:["?- ",m]},m))}),a.jsxs("div",{className:"bg-green-500/20 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-2",children:"Results:"}),a.jsx("div",{className:"text-green-400 font-mono text-xl",children:r[s]?.join(" ; ")||"no"})]})]})},Dg=()=>{const[s,o]=w.useState("member"),d={member:{code:"?- member(2, [1,2,3]).",result:"yes",trace:"Check: 2 = 1? No. Check: 2 in [2,3]? 2 = 2? Yes!"},append:{code:"?- append([1,2], [3,4], X).",result:"X = [1,2,3,4]",trace:"Recursive: [1|append([2],[3,4])]  [1,2|append([],[3,4])]  [1,2,3,4]"},split:{code:"?- [H|T] = [a,b,c].",result:"H = a, T = [b,c]",trace:"Pattern match: Head = first element, Tail = rest"},length:{code:"?- length([a,b,c], N).",result:"N = 3",trace:"Recursive count: 1 + length([b,c]) = 1 + 1 + length([c]) = 3"}},r=d[s];return a.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 mt-6",children:[a.jsx("div",{className:"text-blue-400 text-lg mb-4 font-mono",children:"Interactive: List Operations"}),a.jsx("div",{className:"flex gap-2 mb-4 justify-center",children:Object.keys(d).map(m=>a.jsx("button",{onClick:()=>o(m),className:`px-4 py-2 rounded capitalize ${s===m?"bg-blue-500 text-white":"bg-slate-700"}`,children:m},m))}),a.jsx("div",{className:"bg-slate-900 p-4 rounded-lg mb-4",children:a.jsx("div",{className:"text-green-400 font-mono text-xl",children:r.code})}),a.jsx("div",{className:"bg-green-500/20 p-4 rounded-lg mb-4",children:a.jsx("div",{className:"text-green-400 font-mono text-xl font-bold",children:r.result})}),a.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg",children:[a.jsx("div",{className:"text-slate-400 text-sm mb-1",children:"How it works:"}),a.jsx("div",{className:"text-slate-300 text-base",children:r.trace})]})]})},zg=({slide:s})=>a.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8",children:[a.jsx("div",{className:"text-7xl mb-8",children:""}),a.jsx("h1",{className:"text-5xl font-bold text-white mb-6",children:s.title}),s.content.subtitle&&a.jsx("h2",{className:"text-2xl text-blue-400 mb-10",children:s.content.subtitle}),a.jsx("div",{className:"mt-8 flex flex-wrap gap-3 justify-center max-w-3xl",children:s.content.topics?.map((o,d)=>a.jsx("span",{className:"px-4 py-2 bg-slate-800 text-slate-300 rounded-full text-lg",children:o},d))})]}),Jm=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),s.content.description&&a.jsx("p",{className:"text-3xl text-slate-300 mb-8",children:s.content.description}),s.content.items&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:s.content.items.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl flex items-start gap-4",children:[o.icon&&a.jsx("span",{className:"text-5xl",children:o.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-semibold text-2xl",children:o.text}),o.detail&&a.jsx("p",{className:"text-slate-300 text-xl mt-2",children:o.detail})]})]},d))}),s.content.code&&a.jsx("div",{className:"mt-6 bg-slate-900 p-5 rounded-lg",children:a.jsx("pre",{className:"text-green-400 font-mono text-lg whitespace-pre-wrap",children:s.content.code})}),s.content.note&&a.jsx("p",{className:"mt-6 text-blue-400 italic text-xl",children:s.content.note}),s.interactive?.type==="horn-clauses"&&a.jsx(kg,{}),s.interactive?.type==="unification"&&a.jsx(Og,{}),s.interactive?.type==="resolution"&&a.jsx(Mg,{}),s.interactive?.type==="backtracking"&&a.jsx(Rg,{}),s.interactive?.type==="family-tree"&&a.jsx(Lg,{}),s.interactive?.type==="lists"&&a.jsx(Dg,{})]}),Bg=({slide:s})=>a.jsxs("div",{className:"h-full p-8 overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-8",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.content.approaches?.map((o,d)=>a.jsxs("div",{className:`p-6 rounded-xl border-2 ${d===0?"border-amber-500 bg-amber-500/10":"border-blue-500 bg-blue-500/10"}`,children:[a.jsx("h3",{className:`font-bold text-2xl mb-3 ${d===0?"text-amber-400":"text-blue-400"}`,children:o.name}),o.characteristics&&a.jsx("ul",{className:"space-y-2",children:o.characteristics.map((r,m)=>a.jsxs("li",{className:"text-slate-300 text-xl",children:[" ",r]},m))})]},d))})]}),Fg=({slide:s})=>a.jsxs("div",{className:"h-full p-8 flex flex-col justify-center overflow-auto",children:[a.jsx("h2",{className:"text-5xl font-bold text-white mb-10 text-center",children:s.title}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:s.content.sections?.map((o,d)=>a.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-xl",children:[a.jsx("h3",{className:"text-blue-400 font-bold text-2xl mb-5",children:o.title}),a.jsx("ul",{className:"space-y-3",children:o.points.map((r,m)=>a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-green-400 mt-1 text-xl",children:""}),a.jsx("span",{className:"text-slate-300 text-xl",children:r})]},m))})]},d))})]}),Hg=({slide:s})=>{switch(s.type){case"title":return a.jsx(zg,{slide:s});case"concept":return a.jsx(Jm,{slide:s});case"comparison":return a.jsx(Bg,{slide:s});case"summary":return a.jsx(Fg,{slide:s});default:return a.jsx(Jm,{slide:s})}};function _g({onBackToChapters:s}){const[o,d]=w.useState(0),[r,m]=w.useState(!1),f=[...new Set($t.map(h=>h.section))],g=w.useCallback(h=>{h.key==="ArrowRight"||h.key===" "?d(p=>Math.min(p+1,$t.length-1)):h.key==="ArrowLeft"?d(p=>Math.max(p-1,0)):h.key==="Escape"?m(!1):h.key==="m"&&m(p=>!p)},[]);w.useEffect(()=>(window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)),[g]);const N=$t[o];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[a.jsx("header",{className:"fixed top-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm z-40 border-b border-slate-700",children:a.jsxs("div",{className:"flex items-center justify-between px-4 py-2",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>m(!r),className:"p-2 hover:bg-slate-700 rounded",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsx("span",{className:"text-blue-400 font-bold text-lg",children:"Ch 12: Logic Languages"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"text-slate-400",children:[o+1," / ",$t.length]}),a.jsx("button",{type:"button",onClick:s,"aria-label":"Back to chapters",title:"Back to chapters",className:"p-1.5 rounded-full border border-slate-600 text-slate-300 hover:text-white hover:border-slate-400 hover:bg-slate-700/60 transition-colors",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("span",{className:"px-3 py-1 bg-slate-700 text-slate-300 rounded text-sm",children:N.section})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:()=>m(!1),children:a.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-slate-800 p-4 overflow-auto",onClick:h=>h.stopPropagation(),children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Chapter 12 Slides"}),f.map(h=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-blue-400 text-sm uppercase tracking-wider mb-2",children:h}),$t.filter(p=>p.section===h).map(p=>a.jsxs("button",{onClick:()=>{d($t.indexOf(p)),m(!1)},className:`block w-full text-left px-3 py-2 rounded mb-1 text-base ${$t.indexOf(p)===o?"bg-blue-500 text-white":"hover:bg-slate-700"}`,children:[a.jsx("span",{className:"text-xs opacity-60 mr-2",children:p.id}),p.title]},p.id))]},h))]})}),a.jsx("main",{className:"pt-14 pb-20 min-h-screen",children:a.jsx("div",{className:"max-w-6xl mx-auto",children:a.jsx(Hg,{slide:N})})}),a.jsxs("footer",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/80 backdrop-blur-sm border-t border-slate-700",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[a.jsx("button",{onClick:()=>d(h=>Math.max(h-1,0)),disabled:o===0,className:"flex items-center gap-2 px-5 py-2 bg-slate-700 rounded text-lg disabled:opacity-30",children:" Previous"}),a.jsx("div",{className:"flex-1 mx-8",children:a.jsx("div",{className:"h-2 bg-slate-700 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${(o+1)/$t.length*100}%`}})})}),a.jsx("button",{onClick:()=>d(h=>Math.min(h+1,$t.length-1)),disabled:o===$t.length-1,className:"flex items-center gap-2 px-5 py-2 bg-blue-600 rounded text-lg disabled:opacity-30",children:"Next "})]}),a.jsxs("div",{className:"text-center text-slate-500 text-sm pb-2",children:[a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:""})," navigate  ",a.jsx("kbd",{className:"px-2 py-1 bg-slate-700 rounded",children:"M"})," menu"]})]})]})}const Ug=[{id:1,Component:ih},{id:2,Component:hh},{id:3,Component:Dh},{id:4,Component:Ph},{id:5,Component:mf},{id:6,Component:Cf},{id:7,Component:Hf},{id:8,Component:Qf},{id:9,Component:ng},{id:10,Component:fg},{id:11,Component:Ag},{id:12,Component:_g}];function Gg(s){return Ug.find(o=>o.id===s)}function $g(){const[s,o]=w.useState(null),d=s?Gg(s):null;if(!d)return a.jsx(I0,{onSelectChapter:m=>o(m)});const{Component:r}=d;return a.jsx(a.Fragment,{children:a.jsx(r,{onBackToChapters:()=>o(null)})})}q0.createRoot(document.getElementById("root")).render(a.jsx(w.StrictMode,{children:a.jsx($g,{})}));
